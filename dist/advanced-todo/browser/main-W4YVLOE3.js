var z2=Object.defineProperty,H2=Object.defineProperties;var q2=Object.getOwnPropertyDescriptors;var Nh=Object.getOwnPropertySymbols,W2=Object.getPrototypeOf,qS=Object.prototype.hasOwnProperty,WS=Object.prototype.propertyIsEnumerable,G2=Reflect.get;var HS=(n,e,t)=>e in n?z2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$=(n,e)=>{for(var t in e||={})qS.call(e,t)&&HS(n,t,e[t]);if(Nh)for(var t of Nh(e))WS.call(e,t)&&HS(n,t,e[t]);return n},se=(n,e)=>H2(n,q2(e));var GS=(n,e)=>{var t={};for(var i in n)qS.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Nh)for(var i of Nh(n))e.indexOf(i)<0&&WS.call(n,i)&&(t[i]=n[i]);return t};var ms=(n,e,t)=>G2(W2(n),t,e);var C=(n,e,t)=>new Promise((i,r)=>{var s=c=>{try{a(t.next(c))}catch(l){r(l)}},o=c=>{try{a(t.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(n,e)).next())});function KS(n,e){return Object.is(n,e)}var Nt=null,Oh=!1,Fh=1,Hn=Symbol("SIGNAL");function _e(n){let e=Nt;return Nt=n,e}function QS(){return Nt}var Jl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Vh(n){if(Oh)throw new Error("");if(Nt===null)return;Nt.consumerOnSignalRead(n);let e=Nt.nextProducerIndex++;if(Uh(Nt),e<Nt.producerNode.length&&Nt.producerNode[e]!==n&&Xl(Nt)){let t=Nt.producerNode[e];jh(t,Nt.producerIndexOfThis[e])}Nt.producerNode[e]!==n&&(Nt.producerNode[e]=n,Nt.producerIndexOfThis[e]=Xl(Nt)?JS(n,Nt,e):0),Nt.producerLastReadVersion[e]=n.version}function K2(){Fh++}function YS(n){if(!(Xl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Fh)){if(!n.producerMustRecompute(n)&&!T0(n)){n.dirty=!1,n.lastCleanEpoch=Fh;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Fh}}function ZS(n){if(n.liveConsumerNode===void 0)return;let e=Oh;Oh=!0;try{for(let t of n.liveConsumerNode)t.dirty||Q2(t)}finally{Oh=e}}function XS(){return Nt?.consumerAllowSignalWrites!==!1}function Q2(n){n.dirty=!0,ZS(n),n.consumerMarkedDirty?.(n)}function Bh(n){return n&&(n.nextProducerIndex=0),_e(n)}function D0(n,e){if(_e(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Xl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)jh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function T0(n){Uh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(YS(t),i!==t.version))return!0}return!1}function S0(n){if(Uh(n),Xl(n))for(let e=0;e<n.producerNode.length;e++)jh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function JS(n,e,t){if(eA(n),n.liveConsumerNode.length===0&&tA(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=JS(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function jh(n,e){if(eA(n),n.liveConsumerNode.length===1&&tA(n))for(let i=0;i<n.producerNode.length;i++)jh(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Uh(r),r.producerIndexOfThis[i]=e}}function Xl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Uh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function eA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function tA(n){return n.producerNode!==void 0}function A0(n){let e=Object.create(Y2);e.computation=n;let t=()=>{if(YS(e),Vh(e),e.value===Lh)throw e.error;return e.value};return t[Hn]=e,t}var I0=Symbol("UNSET"),C0=Symbol("COMPUTING"),Lh=Symbol("ERRORED"),Y2=se($({},Jl),{value:I0,dirty:!0,error:null,equal:KS,producerMustRecompute(n){return n.value===I0||n.value===C0},producerRecomputeValue(n){if(n.value===C0)throw new Error("Detected cycle in computations.");let e=n.value;n.value=C0;let t=Bh(n),i;try{i=n.computation()}catch(r){i=Lh,n.error=r}finally{D0(n,t)}if(e!==I0&&e!==Lh&&i!==Lh&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function Z2(){throw new Error}var nA=Z2;function iA(){nA()}function rA(n){nA=n}var X2=null;function sA(n){let e=Object.create(x0);e.value=n;let t=()=>(Vh(e),e.value);return t[Hn]=e,t}function $h(n,e){XS()||iA(),n.equal(n.value,e)||(n.value=e,J2(n))}function oA(n,e){XS()||iA(),$h(n,e(n.value))}var x0=se($({},Jl),{equal:KS,value:void 0});function J2(n){n.version++,K2(),ZS(n),X2?.()}function he(n){return typeof n=="function"}function Ua(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var zh=Ua(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Eo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var bt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(he(i))try{i()}catch(s){e=s instanceof zh?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{aA(s)}catch(o){e=e??[],o instanceof zh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new zh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)aA(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Eo(t,e)}remove(e){let{_finalizers:t}=this;t&&Eo(t,e),e instanceof n&&e._removeParent(this)}};bt.EMPTY=(()=>{let n=new bt;return n.closed=!0,n})();var M0=bt.EMPTY;function Hh(n){return n instanceof bt||n&&"closed"in n&&he(n.remove)&&he(n.add)&&he(n.unsubscribe)}function aA(n){he(n)?n():n.unsubscribe()}var ui={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $a={setTimeout(n,e,...t){let{delegate:i}=$a;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$a;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qh(n){$a.setTimeout(()=>{let{onUnhandledError:e}=ui;if(e)e(n);else throw n})}function eu(){}var cA=P0("C",void 0,void 0);function lA(n){return P0("E",void 0,n)}function uA(n){return P0("N",n,void 0)}function P0(n,e,t){return{kind:n,value:e,error:t}}var Io=null;function za(n){if(ui.useDeprecatedSynchronousErrorHandling){let e=!Io;if(e&&(Io={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Io;if(Io=null,t)throw i}}else n()}function dA(n){ui.useDeprecatedSynchronousErrorHandling&&Io&&(Io.errorThrown=!0,Io.error=n)}var Co=class extends bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hh(e)&&e.add(this)):this.destination=nB}static create(e,t,i){return new Ha(e,t,i)}next(e){this.isStopped?k0(uA(e),this):this._next(e)}error(e){this.isStopped?k0(lA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?k0(cA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eB=Function.prototype.bind;function R0(n,e){return eB.call(n,e)}var N0=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Wh(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Wh(i)}else Wh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wh(t)}}},Ha=class extends Co{constructor(e,t,i){super();let r;if(he(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ui.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&R0(e.next,s),error:e.error&&R0(e.error,s),complete:e.complete&&R0(e.complete,s)}):r=e}this.destination=new N0(r)}};function Wh(n){ui.useDeprecatedSynchronousErrorHandling?dA(n):qh(n)}function tB(n){throw n}function k0(n,e){let{onStoppedNotification:t}=ui;t&&$a.setTimeout(()=>t(n,e))}var nB={closed:!0,next:eu,error:tB,complete:eu};var qa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pn(n){return n}function O0(...n){return F0(n)}function F0(n){return n.length===0?Pn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var De=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=rB(t)?t:new Ha(t,i,r);return za(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=hA(i),new i((r,s)=>{let o=new Ha({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[qa](){return this}pipe(...t){return F0(t)(this)}toPromise(t){return t=hA(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function hA(n){var e;return(e=n??ui.Promise)!==null&&e!==void 0?e:Promise}function iB(n){return n&&he(n.next)&&he(n.error)&&he(n.complete)}function rB(n){return n&&n instanceof Co||iB(n)&&Hh(n)}function L0(n){return he(n?.lift)}function Pe(n){return e=>{if(L0(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(n,e,t,i,r){return new V0(n,e,t,i,r)}var V0=class extends Co{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Wa(){return Pe((n,e)=>{let t=null;n._refCount++;let i=Te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ga=class extends De{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,L0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bt;let t=this.getSubject();e.add(this.source.subscribe(Te(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bt.EMPTY)}return e}refCount(){return Wa()(this)}};var fA=Ua(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class n extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Gh(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new fA}next(t){za(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){za(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){za(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?M0:(this.currentObservers=null,s.push(t),new bt(()=>{this.currentObservers=null,Eo(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new De;return t.source=this,t}}return n.create=(e,t)=>new Gh(e,t),n})(),Gh=class extends rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:M0}};var Gt=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var B0={now(){return(B0.delegate||Date).now()},delegate:void 0};var Kh=class extends bt{constructor(e,t){super()}schedule(e,t=0){return this}};var tu={setInterval(n,e,...t){let{delegate:i}=tu;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=tu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ka=class extends Kh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return tu.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&tu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Eo(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Qa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Qa.now=B0.now;var Ya=class extends Qa{constructor(e,t=Qa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Za=new Ya(Ka),j0=Za;var Qh=class extends Ka{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Yh=class extends Ya{};var U0=new Yh(Qh);var Rn=new De(n=>n.complete());function Zh(n){return n&&he(n.schedule)}function pA(n){return n[n.length-1]}function Xh(n){return he(pA(n))?n.pop():void 0}function ys(n){return Zh(pA(n))?n.pop():void 0}function $0(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function mA(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(h){o(h)}}function c(u){try{l(i.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):r(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}function gA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Do(n){return this instanceof Do?(this.v=n,this):new Do(n)}function yA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(g){return function(y){return Promise.resolve(y).then(g,h)}}function a(g,y){i[g]&&(r[g]=function(v){return new Promise(function(_,S){s.push([g,v,_,S])>1||c(g,v)})},y&&(r[g]=y(r[g])))}function c(g,y){try{l(i[g](y))}catch(v){f(s[0][3],v)}}function l(g){g.value instanceof Do?Promise.resolve(g.value.v).then(u,h):f(s[0][2],g)}function u(g){c("next",g)}function h(g){c("throw",g)}function f(g,y){g(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function vA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof gA=="function"?gA(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Jh=n=>n&&typeof n.length=="number"&&typeof n!="function";function ef(n){return he(n?.then)}function tf(n){return he(n[qa])}function nf(n){return Symbol.asyncIterator&&he(n?.[Symbol.asyncIterator])}function rf(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sB(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sf=sB();function of(n){return he(n?.[sf])}function af(n){return yA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Do(t.read());if(r)return yield Do(void 0);yield yield Do(i)}}finally{t.releaseLock()}})}function cf(n){return he(n?.getReader)}function St(n){if(n instanceof De)return n;if(n!=null){if(tf(n))return oB(n);if(Jh(n))return aB(n);if(ef(n))return cB(n);if(nf(n))return _A(n);if(of(n))return lB(n);if(cf(n))return uB(n)}throw rf(n)}function oB(n){return new De(e=>{let t=n[qa]();if(he(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aB(n){return new De(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function cB(n){return new De(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qh)})}function lB(n){return new De(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function _A(n){return new De(e=>{dB(n,e).catch(t=>e.error(t))})}function uB(n){return _A(af(n))}function dB(n,e){var t,i,r,s;return mA(this,void 0,void 0,function*(){try{for(t=vA(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function _n(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function vs(n,e=0){return Pe((t,i)=>{t.subscribe(Te(i,r=>_n(i,n,()=>i.next(r),e),()=>_n(i,n,()=>i.complete(),e),r=>_n(i,n,()=>i.error(r),e)))})}function _s(n,e=0){return Pe((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function bA(n,e){return St(n).pipe(_s(e),vs(e))}function wA(n,e){return St(n).pipe(_s(e),vs(e))}function EA(n,e){return new De(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function IA(n,e){return new De(t=>{let i;return _n(t,e,()=>{i=n[sf](),_n(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>he(i?.return)&&i.return()})}function lf(n,e){if(!n)throw new Error("Iterable cannot be null");return new De(t=>{_n(t,e,()=>{let i=n[Symbol.asyncIterator]();_n(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function CA(n,e){return lf(af(n),e)}function DA(n,e){if(n!=null){if(tf(n))return bA(n,e);if(Jh(n))return EA(n,e);if(ef(n))return wA(n,e);if(nf(n))return lf(n,e);if(of(n))return IA(n,e);if(cf(n))return CA(n,e)}throw rf(n)}function Ct(n,e){return e?DA(n,e):St(n)}function fe(...n){let e=ys(n);return Ct(n,e)}function Xa(n,e){let t=he(n)?n:()=>n,i=r=>r.error(t());return new De(e?r=>e.schedule(i,0,r):i)}function z0(n){return!!n&&(n instanceof De||he(n.lift)&&he(n.subscribe))}var yr=Ua(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function TA(n){return n instanceof Date&&!isNaN(n)}function Ie(n,e){return Pe((t,i)=>{let r=0;t.subscribe(Te(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:hB}=Array;function fB(n,e){return hB(e)?n(...e):n(e)}function uf(n){return Ie(e=>fB(n,e))}var{isArray:pB}=Array,{getPrototypeOf:gB,prototype:mB,keys:yB}=Object;function df(n){if(n.length===1){let e=n[0];if(pB(e))return{args:e,keys:null};if(vB(e)){let t=yB(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function vB(n){return n&&typeof n=="object"&&gB(n)===mB}function hf(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function nu(...n){let e=ys(n),t=Xh(n),{args:i,keys:r}=df(n);if(i.length===0)return Ct([],e);let s=new De(_B(i,e,r?o=>hf(r,o):Pn));return t?s.pipe(uf(t)):s}function _B(n,e,t=Pn){return i=>{SA(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)SA(e,()=>{let l=Ct(n[c],e),u=!1;l.subscribe(Te(i,h=>{s[c]=h,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function SA(n,e,t){n?_n(t,n,e):e()}function AA(n,e,t,i,r,s,o,a){let c=[],l=0,u=0,h=!1,f=()=>{h&&!c.length&&!l&&e.complete()},g=v=>l<i?y(v):c.push(v),y=v=>{s&&e.next(v),l++;let _=!1;St(t(v,u++)).subscribe(Te(e,S=>{r?.(S),s?g(S):e.next(S)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<i;){let S=c.shift();o?_n(e,o,()=>y(S)):y(S)}f()}catch(S){e.error(S)}}))};return n.subscribe(Te(e,g,()=>{h=!0,f()})),()=>{a?.()}}function Ot(n,e,t=1/0){return he(e)?Ot((i,r)=>Ie((s,o)=>e(i,s,r,o))(St(n(i,r))),t):(typeof e=="number"&&(t=e),Pe((i,r)=>AA(i,r,n,t)))}function H0(n=1/0){return Ot(Pn,n)}function xA(){return H0(1)}function Ja(...n){return xA()(Ct(n,ys(n)))}function ff(n){return new De(e=>{St(n()).subscribe(e)})}function q0(...n){let e=Xh(n),{args:t,keys:i}=df(n),r=new De(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let h=!1;St(t[u]).subscribe(Te(s,f=>{h||(h=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!h)&&(l||s.next(i?hf(i,a):a),s.complete())}))}});return e?r.pipe(uf(e)):r}function MA(n=0,e,t=j0){let i=-1;return e!=null&&(Zh(e)?t=e:i=e),new De(r=>{let s=TA(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function W0(n=0,e=Za){return n<0&&(n=0),MA(n,n,e)}function di(n,e){return Pe((t,i)=>{let r=0;t.subscribe(Te(i,s=>n.call(e,s,r++)&&i.next(s)))})}function bs(n){return Pe((e,t)=>{let i=null,r=!1,s;i=e.subscribe(Te(t,void 0,void 0,o=>{s=St(n(o,bs(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function PA(n,e,t,i,r){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(Te(o,u=>{let h=l++;c=a?n(c,u,h):(a=!0,u),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function ec(n,e){return he(e)?Ot(n,e,1):Ot(n,1)}function ws(n){return Pe((e,t)=>{let i=!1;e.subscribe(Te(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function vr(n){return n<=0?()=>Rn:Pe((e,t)=>{let i=0;e.subscribe(Te(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function G0(n){return Ie(()=>n)}function pf(n=bB){return Pe((e,t)=>{let i=!1;e.subscribe(Te(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function bB(){return new yr}function iu(n){return Pe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ri(n,e){let t=arguments.length>=2;return i=>i.pipe(n?di((r,s)=>n(r,s,i)):Pn,vr(1),t?ws(e):pf(()=>new yr))}function tc(n){return n<=0?()=>Rn:Pe((e,t)=>{let i=[];e.subscribe(Te(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function K0(n,e){let t=arguments.length>=2;return i=>i.pipe(n?di((r,s)=>n(r,s,i)):Pn,tc(1),t?ws(e):pf(()=>new yr))}function Q0(n,e){return Pe(PA(n,e,arguments.length>=2,!0))}function Y0(...n){let e=ys(n);return Pe((t,i)=>{(e?Ja(n,t,e):Ja(n,t)).subscribe(i)})}function qn(n,e){return Pe((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(Te(i,c=>{r?.unsubscribe();let l=0,u=s++;St(n(c,u)).subscribe(r=Te(i,h=>i.next(e?e(c,h,u,l++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Z0(n){return Pe((e,t)=>{St(n).subscribe(Te(t,()=>t.complete(),eu)),!t.closed&&e.subscribe(t)})}function Ft(n,e,t){let i=he(n)||e||t?{next:n,error:e,complete:t}:n;return i?Pe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Te(s,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),s.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Pn}var wx="https://g.co/ng/security#xss",z=class extends Error{constructor(e,t){super(__(e,t)),this.code=e}};function __(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var Ex=Symbol("InputSignalNode#UNSET"),wB=se($({},x0),{transformFn:void 0,applyValueToInputSignal(n,e){$h(n,e)}});function Ix(n,e){let t=Object.create(wB);t.value=n,t.transformFn=e?.transform;function i(){if(Vh(t),t.value===Ex)throw new z(-950,!1);return t.value}return i[Hn]=t,i}function vu(n){return{toString:n}.toString()}var gf="__parameters__";function EB(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function IB(n,e,t){return vu(()=>{let i=EB(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,l,u){let h=c.hasOwnProperty(gf)?c[gf]:Object.defineProperty(c,gf,{value:[]})[gf];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var _r=globalThis;function et(n){for(let e in n)if(n[e]===et)return e;throw Error("Could not find renamed property on target object.")}function CB(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function pn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(pn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function fv(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var DB=et({__forward_ref__:et});function vi(n){return n.__forward_ref__=vi,n.toString=function(){return pn(this())},n}function hn(n){return Cx(n)?n():n}function Cx(n){return typeof n=="function"&&n.hasOwnProperty(DB)&&n.__forward_ref__===vi}function Z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bi(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xf(n){return RA(n,Tx)||RA(n,Sx)}function Dx(n){return Xf(n)!==null}function RA(n,e){return n.hasOwnProperty(e)?n[e]:null}function TB(n){let e=n&&(n[Tx]||n[Sx]);return e||null}function kA(n){return n&&(n.hasOwnProperty(NA)||n.hasOwnProperty(SB))?n[NA]:null}var Tx=et({\u0275prov:et}),NA=et({\u0275inj:et}),Sx=et({ngInjectableDef:et}),SB=et({ngInjectorDef:et}),ee=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ax(n){return n&&!!n.\u0275providers}var AB=et({\u0275cmp:et}),xB=et({\u0275dir:et}),MB=et({\u0275pipe:et}),PB=et({\u0275mod:et}),Af=et({\u0275fac:et}),ou=et({__NG_ELEMENT_ID__:et}),OA=et({__NG_ENV_ID__:et});function fi(n){return typeof n=="string"?n:n==null?"":String(n)}function RB(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():fi(n)}function kB(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new z(-200,n)}function b_(n,e){throw new z(-201,!1)}var be=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(be||{}),pv;function xx(){return pv}function bn(n){let e=pv;return pv=n,e}function Mx(n,e,t){let i=Xf(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&be.Optional)return null;if(e!==void 0)return e;b_(n,"Injector")}var NB={},au=NB,gv="__NG_DI_FLAG__",xf="ngTempTokenPath",OB="ngTokenPath",FB=/\n/gm,LB="\u0275",FA="__source",sc;function VB(){return sc}function Es(n){let e=sc;return sc=n,e}function BB(n,e=be.Default){if(sc===void 0)throw new z(-203,!1);return sc===null?Mx(n,void 0,e):sc.get(n,e&be.Optional?null:void 0,e)}function re(n,e=be.Default){return(xx()||BB)(hn(n),e)}function j(n,e=be.Default){return re(n,Jf(e))}function Jf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function mv(n){let e=[];for(let t=0;t<n.length;t++){let i=hn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new z(900,!1);let r,s=be.Default;for(let o=0;o<i.length;o++){let a=i[o],c=UB(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(re(r,s))}else e.push(re(i))}return e}function jB(n,e){return n[gv]=e,n.prototype[gv]=e,n}function UB(n){return n[gv]}function $B(n,e,t,i){let r=n[xf];throw e[FA]&&r.unshift(e[FA]),n.message=zB(`
`+n.message,r,t,i),n[OB]=r,n[xf]=null,n}function zB(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==LB?n.slice(2):n;let r=pn(e);if(Array.isArray(e))r=e.map(pn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):pn(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(FB,`
  `)}`}var wn=jB(IB("Optional"),8);function Ao(n,e){let t=n.hasOwnProperty(Af);return t?n[Af]:null}function HB(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function qB(n){return n.flat(Number.POSITIVE_INFINITY)}function w_(n,e){n.forEach(t=>Array.isArray(t)?w_(t,e):e(t))}function Px(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Mf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function WB(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function E_(n,e,t){let i=_u(n,e);return i>=0?n[i|1]=t:(i=~i,WB(n,i,e,t)),i}function X0(n,e){let t=_u(n,e);if(t>=0)return n[t|1]}function _u(n,e){return GB(n,e,1)}function GB(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var ac={},fn=[],cc=new ee(""),Rx=new ee("",-1),kx=new ee(""),Pf=class{get(e,t=au){if(t===au){let i=new Error(`NullInjectorError: No provider for ${pn(e)}!`);throw i.name="NullInjectorError",i}return t}},Nx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Nx||{}),Oi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oi||{}),Ds=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ds||{});function KB(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function yv(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];QB(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function Ox(n){return n===3||n===4||n===6}function QB(n){return n.charCodeAt(0)===64}function cu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?LA(n,t,r,null,e[++i]):LA(n,t,r,null,null))}}return n}function LA(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var Fx="ng-template";function YB(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&KB(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(I_(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function I_(n){return n.type===4&&n.value!==Fx}function ZB(n,e,t){let i=n.type===4&&!t?Fx:n.value;return e===i}function XB(n,e,t){let i=4,r=n.attrs,s=r!==null?tj(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!hi(i)&&!hi(c))return!1;if(o&&hi(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!ZB(n,c,t)||c===""&&e.length===1){if(hi(i))return!1;o=!0}}else if(i&8){if(r===null||!YB(n,r,c,t)){if(hi(i))return!1;o=!0}}else{let l=e[++a],u=JB(c,r,I_(n),t);if(u===-1){if(hi(i))return!1;o=!0;continue}if(l!==""){let h;if(u>s?h="":h=r[u+1].toLowerCase(),i&2&&l!==h){if(hi(i))return!1;o=!0}}}}return hi(i)||o}function hi(n){return(n&1)===0}function JB(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return nj(e,n)}function ej(n,e,t=!1){for(let i=0;i<e.length;i++)if(XB(n,e[i],t))return!0;return!1}function tj(n){for(let e=0;e<n.length;e++){let t=n[e];if(Ox(t))return e}return n.length}function nj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function VA(n,e){return n?":not("+e.trim()+")":e}function ij(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!hi(o)&&(e+=VA(s,r),r=""),i=o,s=s||!hi(i);t++}return r!==""&&(e+=VA(s,r)),e}function rj(n){return n.map(ij).join(",")}function sj(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!hi(r))break;r=s}i++}return{attrs:e,classes:t}}function xe(n){return vu(()=>{let e=$x(n),t=se($({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Nx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oi.Emulated,styles:n.styles||fn,_:null,schemas:n.schemas||null,tView:null,id:""});zx(t);let i=n.dependencies;return t.directiveDefs=jA(i,!1),t.pipeDefs=jA(i,!0),t.id=cj(t),t})}function oj(n){return Ts(n)||Vx(n)}function aj(n){return n!==null}function ji(n){return vu(()=>({type:n.type,bootstrap:n.bootstrap||fn,declarations:n.declarations||fn,imports:n.imports||fn,exports:n.exports||fn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function BA(n,e){if(n==null)return ac;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=Ds.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==Ds.None?[i,a]:i,e[s]=o):t[s]=i}return t}function pt(n){return vu(()=>{let e=$x(n);return zx(e),e})}function Lx(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ts(n){return n[AB]||null}function Vx(n){return n[xB]||null}function Bx(n){return n[MB]||null}function jx(n){let e=Ts(n)||Vx(n)||Bx(n);return e!==null?e.standalone:!1}function Ux(n,e){let t=n[PB]||null;if(!t&&e===!0)throw new Error(`Type ${pn(n)} does not have '\u0275mod' property.`);return t}function $x(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ac,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||fn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BA(n.inputs,e),outputs:BA(n.outputs),debugInfo:null}}function zx(n){n.features?.forEach(e=>e(n))}function jA(n,e){if(!n)return null;let t=e?Bx:oj;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(aj)}function cj(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kn(n){return{\u0275providers:n}}function lj(...n){return{\u0275providers:Hx(!0,n),\u0275fromNgModule:!0}}function Hx(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return w_(e,o=>{let a=o;vv(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&qx(r,s),t}function qx(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];C_(r,s=>{e(s,i)})}}function vv(n,e,t,i){if(n=hn(n),!n)return!1;let r=null,s=kA(n),o=!s&&Ts(n);if(!s&&!o){let c=n.ngModule;if(s=kA(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)vv(l,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let l;try{w_(s.imports,u=>{vv(u,e,t,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&qx(l,e)}if(!a){let l=Ao(r)||(()=>new r);e({provide:r,useFactory:l,deps:fn},r),e({provide:kx,useValue:r,multi:!0},r),e({provide:cc,useValue:()=>re(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let l=n;C_(c,u=>{e(u,l)})}}else return!1;return r!==n&&n.providers!==void 0}function C_(n,e){for(let t of n)Ax(t)&&(t=t.\u0275providers),Array.isArray(t)?C_(t,e):e(t)}var uj=et({provide:String,useValue:et});function Wx(n){return n!==null&&typeof n=="object"&&uj in n}function dj(n){return!!(n&&n.useExisting)}function hj(n){return!!(n&&n.useFactory)}function lc(n){return typeof n=="function"}function fj(n){return!!n.useClass}var ep=new ee(""),Ef={},pj={},J0;function D_(){return J0===void 0&&(J0=new Pf),J0}var Gn=class{},lu=class extends Gn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bv(e,o=>this.processProvider(o)),this.records.set(Rx,nc(void 0,this)),r.has("environment")&&this.records.set(Gn,nc(void 0,this));let s=this.records.get(ep);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kx,fn,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Es(this),i=bn(void 0),r;try{return e()}finally{Es(t),bn(i)}}get(e,t=au,i=be.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(OA))return e[OA](this);i=Jf(i);let r,s=Es(this),o=bn(void 0);try{if(!(i&be.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=_j(e)&&Xf(e);l&&this.injectableDefInScope(l)?c=nc(_v(e),Ef):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&be.Self?D_():this.parent;return t=i&be.Optional&&t===au?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[xf]=a[xf]||[]).unshift(pn(e)),s)throw a;return $B(a,e,"R3InjectorError",this.source)}else throw a}finally{bn(o),Es(s)}}resolveInjectorInitializers(){let e=_e(null),t=Es(this),i=bn(void 0),r;try{let s=this.get(cc,fn,be.Self);for(let o of s)o()}finally{Es(t),bn(i),_e(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(pn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=hn(e);let t=lc(e)?e:hn(e&&e.provide),i=mj(e);if(!lc(e)&&e.multi===!0){let r=this.records.get(t);r||(r=nc(void 0,Ef,!0),r.factory=()=>mv(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=_e(null);try{return t.value===Ef&&(t.value=pj,t.value=t.factory()),typeof t.value=="object"&&t.value&&vj(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_e(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=hn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function _v(n){let e=Xf(n),t=e!==null?e.factory:Ao(n);if(t!==null)return t;if(n instanceof ee)throw new z(204,!1);if(n instanceof Function)return gj(n);throw new z(204,!1)}function gj(n){if(n.length>0)throw new z(204,!1);let t=TB(n);return t!==null?()=>t.factory(n):()=>new n}function mj(n){if(Wx(n))return nc(void 0,n.useValue);{let e=Gx(n);return nc(e,Ef)}}function Gx(n,e,t){let i;if(lc(n)){let r=hn(n);return Ao(r)||_v(r)}else if(Wx(n))i=()=>hn(n.useValue);else if(hj(n))i=()=>n.useFactory(...mv(n.deps||[]));else if(dj(n))i=()=>re(hn(n.useExisting));else{let r=hn(n&&(n.useClass||n.provide));if(yj(n))i=()=>new r(...mv(n.deps));else return Ao(r)||_v(r)}return i}function nc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function yj(n){return!!n.deps}function vj(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function _j(n){return typeof n=="function"||typeof n=="object"&&n instanceof ee}function bv(n,e){for(let t of n)Array.isArray(t)?bv(t,e):t&&Ax(t)?bv(t.\u0275providers,e):e(t)}function Dr(n,e){n instanceof lu&&n.assertNotDestroyed();let t,i=Es(n),r=bn(void 0);try{return e()}finally{Es(i),bn(r)}}function bj(){return xx()!==void 0||VB()!=null}function wj(n){return typeof n=="function"}var Ui=0,le=1,oe=2,rn=3,gi=4,_i=5,uu=6,Rf=7,tn=8,uc=9,Fi=10,wt=11,du=12,UA=13,mc=14,mi=15,xo=16,ic=17,br=18,tp=19,Kx=20,Is=21,ev=22,Wn=23,gn=25,T_=1;var Mo=7,kf=8,dc=9,nn=10,Nf=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Nf||{});function Cs(n){return Array.isArray(n)&&typeof n[T_]=="object"}function Tr(n){return Array.isArray(n)&&n[T_]===!0}function S_(n){return(n.flags&4)!==0}function np(n){return n.componentOffset>-1}function ip(n){return(n.flags&1)===1}function wr(n){return!!n.template}function wv(n){return(n[oe]&512)!==0}var Ev=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Qx(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function Qn(){return Yx}function Yx(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ij),Ej}Qn.ngInherit=!0;function Ej(){let n=Xx(this),e=n?.current;if(e){let t=n.previous;if(t===ac)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Ij(n,e,t,i,r){let s=this.declaredInputs[i],o=Xx(n)||Cj(n,{previous:ac,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Ev(l&&l.currentValue,t,c===ac),Qx(n,e,r,t)}var Zx="__ngSimpleChanges__";function Xx(n){return n[Zx]||null}function Cj(n,e){return n[Zx]=e}var $A=null;var ki=function(n,e,t){$A?.(n,e,t)},Dj="svg",Tj="math";function Li(n){for(;Array.isArray(n);)n=n[Ui];return n}function Sj(n){for(;Array.isArray(n);){if(typeof n[T_]=="object")return n;n=n[Ui]}return null}function Jx(n,e){return Li(e[n])}function Yn(n,e){return Li(e[n.index])}function A_(n,e){return n.data[e]}function eM(n,e){return n[e]}function Rs(n,e){let t=e[n];return Cs(t)?t:t[Ui]}function Aj(n){return(n[oe]&4)===4}function x_(n){return(n[oe]&128)===128}function xj(n){return Tr(n[rn])}function Ss(n,e){return e==null?null:n[e]}function tM(n){n[ic]=0}function nM(n){n[oe]&1024||(n[oe]|=1024,x_(n)&&sp(n))}function Mj(n,e){for(;n>0;)e=e[mc],n--;return e}function rp(n){return!!(n[oe]&9216||n[Wn]?.dirty)}function Iv(n){n[Fi].changeDetectionScheduler?.notify(8),n[oe]&64&&(n[oe]|=1024),rp(n)&&sp(n)}function sp(n){n[Fi].changeDetectionScheduler?.notify(0);let e=Po(n);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!x_(e)));)e=Po(e)}function iM(n,e){if((n[oe]&256)===256)throw new z(911,!1);n[Is]===null&&(n[Is]=[]),n[Is].push(e)}function Pj(n,e){if(n[Is]===null)return;let t=n[Is].indexOf(e);t!==-1&&n[Is].splice(t,1)}function Po(n){let e=n[rn];return Tr(e)?e[rn]:e}var ve={lFrame:hM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rM=!1;function Rj(){return ve.lFrame.elementDepthCount}function kj(){ve.lFrame.elementDepthCount++}function Nj(){ve.lFrame.elementDepthCount--}function sM(){return ve.bindingsEnabled}function Oj(){return ve.skipHydrationRootTNode!==null}function Fj(n){return ve.skipHydrationRootTNode===n}function Lj(){ve.skipHydrationRootTNode=null}function we(){return ve.lFrame.lView}function Dt(){return ve.lFrame.tView}function Be(n){return ve.lFrame.contextLView=n,n[tn]}function je(n){return ve.lFrame.contextLView=null,n}function sn(){let n=oM();for(;n!==null&&n.type===64;)n=n.parent;return n}function oM(){return ve.lFrame.currentTNode}function Vj(){let n=ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Lo(n,e){let t=ve.lFrame;t.currentTNode=n,t.isParent=e}function M_(){return ve.lFrame.isParent}function aM(){ve.lFrame.isParent=!1}function Bj(){return ve.lFrame.contextLView}function cM(){return rM}function zA(n){rM=n}function jj(){let n=ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Uj(){return ve.lFrame.bindingIndex}function $j(n){return ve.lFrame.bindingIndex=n}function Vo(){return ve.lFrame.bindingIndex++}function P_(n){let e=ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zj(){return ve.lFrame.inI18n}function Hj(n,e){let t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,Cv(e)}function qj(){return ve.lFrame.currentDirectiveIndex}function Cv(n){ve.lFrame.currentDirectiveIndex=n}function lM(n){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function R_(){return ve.lFrame.currentQueryIndex}function op(n){ve.lFrame.currentQueryIndex=n}function Wj(n){let e=n[le];return e.type===2?e.declTNode:e.type===1?n[_i]:null}function uM(n,e,t){if(t&be.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&be.Host);)if(r=Wj(s),r===null||(s=s[mc],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=ve.lFrame=dM();return i.currentTNode=e,i.lView=n,!0}function k_(n){let e=dM(),t=n[le];ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function dM(){let n=ve.lFrame,e=n===null?null:n.child;return e===null?hM(n):e}function hM(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function fM(){let n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var pM=fM;function N_(){let n=fM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Gj(n){return(ve.lFrame.contextLView=Mj(n,ve.lFrame.contextLView))[tn]}function Sr(){return ve.lFrame.selectedIndex}function Ro(n){ve.lFrame.selectedIndex=n}function ap(){let n=ve.lFrame;return A_(n.tView,n.selectedIndex)}function Kj(){return ve.lFrame.currentNamespace}var gM=!0;function cp(){return gM}function lp(n){gM=n}function Qj(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=Yx(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function up(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function If(n,e,t){mM(n,e,3,t)}function Cf(n,e,t,i){(n[oe]&3)===t&&mM(n,e,t,i)}function tv(n,e){let t=n[oe];(t&3)===e&&(t&=16383,t+=1,n[oe]=t)}function mM(n,e,t,i){let r=i!==void 0?n[ic]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[ic]+=65536),(a<s||s==-1)&&(Yj(n,t,e,c),n[ic]=(n[ic]&4294901760)+c+2),c++}function HA(n,e){ki(4,n,e);let t=_e(null);try{e.call(n)}finally{_e(t),ki(5,n,e)}}function Yj(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[oe]>>14<n[ic]>>16&&(n[oe]&3)===e&&(n[oe]+=16384,HA(a,s)):HA(a,s)}var oc=-1,ko=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function Zj(n){return n instanceof ko}function Xj(n){return(n.flags&8)!==0}function Jj(n){return(n.flags&16)!==0}var nv={},Dv=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Jf(i);let r=this.injector.get(e,nv,i);return r!==nv||t===nv?r:this.parentInjector.get(e,t,i)}};function yM(n){return n!==oc}function Of(n){return n&32767}function eU(n){return n>>16}function Ff(n,e){let t=eU(n),i=e;for(;t>0;)i=i[mc],t--;return i}var Tv=!0;function Lf(n){let e=Tv;return Tv=n,e}var tU=256,vM=tU-1,_M=5,nU=0,Ni={};function iU(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(ou)&&(i=t[ou]),i==null&&(i=t[ou]=nU++);let r=i&vM,s=1<<r;e.data[n+(r>>_M)]|=s}function Vf(n,e){let t=bM(n,e);if(t!==-1)return t;let i=e[le];i.firstCreatePass&&(n.injectorIndex=e.length,iv(i.data,n),iv(e,null),iv(i.blueprint,null));let r=O_(n,e),s=n.injectorIndex;if(yM(r)){let o=Of(r),a=Ff(r,e),c=a[le].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=r,s}function iv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bM(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function O_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=DM(r),i===null)return oc;if(t++,r=r[mc],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return oc}function Sv(n,e,t){iU(n,e,t)}function rU(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(Ox(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function wM(n,e,t){if(t&be.Optional||n!==void 0)return n;b_(e,"NodeInjector")}function EM(n,e,t,i){if(t&be.Optional&&i===void 0&&(i=null),!(t&(be.Self|be.Host))){let r=n[uc],s=bn(void 0);try{return r?r.get(e,i,t&be.Optional):Mx(e,i,t&be.Optional)}finally{bn(s)}}return wM(i,e,t)}function IM(n,e,t,i=be.Default,r){if(n!==null){if(e[oe]&2048&&!(i&be.Self)){let o=cU(n,e,t,i,Ni);if(o!==Ni)return o}let s=CM(n,e,t,i,Ni);if(s!==Ni)return s}return EM(e,t,i,r)}function CM(n,e,t,i,r){let s=oU(t);if(typeof s=="function"){if(!uM(e,n,i))return i&be.Host?wM(r,t,i):EM(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&be.Optional))b_(t);else return o}finally{pM()}}else if(typeof s=="number"){let o=null,a=bM(n,e),c=oc,l=i&be.Host?e[mi][_i]:null;for((a===-1||i&be.SkipSelf)&&(c=a===-1?O_(n,e):e[a+8],c===oc||!WA(i,!1)?a=-1:(o=e[le],a=Of(c),e=Ff(c,e)));a!==-1;){let u=e[le];if(qA(s,a,u.data)){let h=sU(a,e,t,o,i,l);if(h!==Ni)return h}c=e[a+8],c!==oc&&WA(i,e[le].data[a+8]===l)&&qA(s,a,e)?(o=u,a=Of(c),e=Ff(c,e)):a=-1}}return r}function sU(n,e,t,i,r,s){let o=e[le],a=o.data[n+8],c=i==null?np(a)&&Tv:i!=o&&(a.type&3)!==0,l=r&be.Host&&s===a,u=Df(a,o,t,c,l);return u!==null?No(e,o,u,a):Ni}function Df(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,l=n.directiveEnd,u=s>>20,h=i?a:a+u,f=r?a+u:l;for(let g=h;g<f;g++){let y=o[g];if(g<c&&t===y||g>=c&&y.type===t)return g}if(r){let g=o[c];if(g&&wr(g)&&g.type===t)return c}return null}function No(n,e,t,i){let r=n[t],s=e.data;if(Zj(r)){let o=r;o.resolving&&kB(RB(s[t]));let a=Lf(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?bn(o.injectImpl):null,u=uM(n,i,be.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&Qj(t,s[t],e)}finally{l!==null&&bn(l),Lf(a),o.resolving=!1,pM()}}return r}function oU(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ou)?n[ou]:void 0;return typeof e=="number"?e>=0?e&vM:aU:e}function qA(n,e,t){let i=1<<n;return!!(t[e+(n>>_M)]&i)}function WA(n,e){return!(n&be.Self)&&!(n&be.Host&&e)}var So=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return IM(this._tNode,this._lView,e,Jf(i),t)}};function aU(){return new So(sn(),we())}function ks(n){return vu(()=>{let e=n.prototype.constructor,t=e[Af]||Av(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[Af]||Av(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Av(n){return Cx(n)?()=>{let e=Av(hn(n));return e&&e()}:Ao(n)}function cU(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[oe]&2048&&!(o[oe]&512);){let a=CM(s,o,t,i|be.Self,Ni);if(a!==Ni)return a;let c=s.parent;if(!c){let l=o[Kx];if(l){let u=l.get(t,Ni,i);if(u!==Ni)return u}c=DM(o),o=o[mc]}s=c}return r}function DM(n){let e=n[le],t=e.type;return t===2?e.declTNode:t===1?n[_i]:null}function F_(n){return rU(sn(),n)}function GA(n,e=null,t=null,i){let r=TM(n,e,t,i);return r.resolveInjectorInitializers(),r}function TM(n,e=null,t=null,i,r=new Set){let s=[t||fn,lj(n)];return i=i||(typeof n=="object"?void 0:pn(n)),new lu(s,e||D_(),i||null,r)}var Ut=class n{static{this.THROW_IF_NOT_FOUND=au}static{this.NULL=new Pf}static create(e,t){if(Array.isArray(e))return GA({name:""},t,e,"");{let i=e.name??"";return GA({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=Z({token:n,providedIn:"any",factory:()=>re(Rx)})}static{this.__NG_ELEMENT_ID__=-1}};var lU=new ee("");lU.__NG_ELEMENT_ID__=n=>{let e=sn();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&be.Optional)return null;throw new z(204,!1)};var uU="ngOriginalError";function rv(n){return n[uU]}var SM=!0,L_=(()=>{class n{static{this.__NG_ELEMENT_ID__=dU}static{this.__NG_ENV_ID__=t=>t}}return n})(),xv=class extends L_{constructor(e){super(),this._lView=e}onDestroy(e){return iM(this._lView,e),()=>Pj(this._lView,e)}};function dU(){return new xv(we())}var yc=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Mv=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,bj()&&(this.destroyRef=j(L_,{optional:!0})??void 0,this.pendingTasks=j(yc,{optional:!0})??void 0)}emit(e){let t=_e(null);try{super.next(e)}finally{_e(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof bt&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},Je=Mv;function Bf(...n){}function AM(n){let e,t;function i(){n=Bf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function KA(n){return queueMicrotask(()=>n()),()=>{n=Bf}}var V_="isAngularZone",jf=V_+"_ID",hU=0,Oe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=SM}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,gU(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(V_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,fU,Bf,Bf);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},fU={};function B_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pU(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){AM(()=>{n.callbackScheduled=!1,Pv(n),n.isCheckStableRunning=!0,B_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Pv(n)}function gU(n){let e=()=>{pU(n)},t=hU++;n._inner=n._inner.fork({name:"angular",properties:{[V_]:!0,[jf]:t,[jf+t]:!0},onInvokeTask:(i,r,s,o,a,c)=>{if(mU(c))return i.invokeTask(s,o,a,c);try{return QA(n),i.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),YA(n)}},onInvoke:(i,r,s,o,a,c,l)=>{try{return QA(n),i.invoke(s,o,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!yU(c)&&e(),YA(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Pv(n),B_(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Pv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function QA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function YA(n){n._nesting--,B_(n)}var Rv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function mU(n){return xM(n,"__ignore_ng_zone__")}function yU(n){return xM(n,"__scheduler_tick__")}function xM(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Vi=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&rv(e);for(;t&&rv(t);)t=rv(t);return t||null}},vU=new ee("",{providedIn:"root",factory:()=>{let n=j(Oe),e=j(Vi);return t=>n.runOutsideAngular(()=>e.handleError(t))}}),kv=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=j(Vi,{optional:!0}),this.destroyRef=j(L_),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new z(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed)throw new z(953,!1);if(this.listeners===null)return;let t=_e(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{_e(t)}}};function MM(n){return new kv}function ZA(n,e){return Ix(n,e)}function _U(n){return Ix(Ex,n)}var PM=(ZA.required=_U,ZA);function bU(){return vc(sn(),we())}function vc(n,e){return new En(Yn(n,e))}var En=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=bU}}return n})();function RM(n){return n instanceof En?n.nativeElement:n}function wU(){return this._results[Symbol.iterator]()}var Nv=class n{get changes(){return this._changes??=new Je}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=wU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=qB(e);(this._changesDetected=!HB(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function kM(n){return(n.flags&128)===128}var NM=new Map,EU=0;function IU(){return EU++}function CU(n){NM.set(n[tp],n)}function Ov(n){NM.delete(n[tp])}var XA="__ngContext__";function As(n,e){Cs(e)?(n[XA]=e[tp],CU(e)):n[XA]=e}function OM(n){return LM(n[du])}function FM(n){return LM(n[gi])}function LM(n){for(;n!==null&&!Tr(n);)n=n[gi];return n}var Fv;function VM(n){Fv=n}function BM(){if(Fv!==void 0)return Fv;if(typeof document<"u")return document;throw new z(210,!1)}var j_=new ee("",{providedIn:"root",factory:()=>DU}),DU="ng",U_=new ee(""),Ns=new ee("",{providedIn:"platform",factory:()=>"unknown"});var $_=new ee(""),z_=new ee("",{providedIn:"root",factory:()=>BM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TU="h",SU="b";var AU=()=>null;function H_(n,e,t=!1){return AU(n,e,t)}var jM=!1,xU=new ee("",{providedIn:"root",factory:()=>jM});var mf;function MU(){if(mf===void 0&&(mf=null,_r.trustedTypes))try{mf=_r.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return mf}function dp(n){return MU()?.createHTML(n)||n}var yf;function UM(){if(yf===void 0&&(yf=null,_r.trustedTypes))try{yf=_r.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yf}function JA(n){return UM()?.createHTML(n)||n}function ex(n){return UM()?.createScriptURL(n)||n}var Er=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wx})`}},Lv=class extends Er{getTypeName(){return"HTML"}},Vv=class extends Er{getTypeName(){return"Style"}},Bv=class extends Er{getTypeName(){return"Script"}},jv=class extends Er{getTypeName(){return"URL"}},Uv=class extends Er{getTypeName(){return"ResourceURL"}};function Zn(n){return n instanceof Er?n.changingThisBreaksApplicationSecurity:n}function Ar(n,e){let t=PU(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${wx})`)}return t===e}function PU(n){return n instanceof Er&&n.getTypeName()||null}function $M(n){return new Lv(n)}function zM(n){return new Vv(n)}function HM(n){return new Bv(n)}function qM(n){return new jv(n)}function WM(n){return new Uv(n)}function RU(n){let e=new zv(n);return kU()?new $v(e):e}var $v=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(dp(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},zv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=dp(e),t}};function kU(){try{return!!new window.DOMParser().parseFromString(dp(""),"text/html")}catch{return!1}}var NU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hp(n){return n=String(n),n.match(NU)?n:"unsafe:"+n}function xr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function bu(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var GM=xr("area,br,col,hr,img,wbr"),KM=xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QM=xr("rp,rt"),OU=bu(QM,KM),FU=bu(KM,xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),LU=bu(QM,xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tx=bu(GM,FU,LU,OU),YM=xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),VU=xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),BU=xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),jU=bu(YM,VU,BU),UU=xr("script,style,template"),Hv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=HU(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=zU(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=nx(e).toLowerCase();if(!tx.hasOwnProperty(t))return this.sanitizedSomething=!0,!UU.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!jU.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;YM[a]&&(c=hp(c)),this.buf.push(" ",o,'="',ix(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=nx(e).toLowerCase();tx.hasOwnProperty(t)&&!GM.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ix(e))}};function $U(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function zU(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw ZM(e);return e}function HU(n){let e=n.firstChild;if(e&&$U(n,e))throw ZM(e);return e}function nx(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function ZM(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var qU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,WU=/([^\#-~ |!])/g;function ix(n){return n.replace(/&/g,"&amp;").replace(qU,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(WU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var vf;function q_(n,e){let t=null;try{vf=vf||RU(n);let i=e?String(e):"";t=vf.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=vf.getInertBodyElement(i)}while(i!==s);let a=new Hv().sanitizeChildren(rx(t)||t);return dp(a)}finally{if(t){let i=rx(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function rx(n){return"content"in n&&GU(n)?n.content:null}function GU(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var kn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(kn||{});function W_(n){let e=G_();return e?JA(e.sanitize(kn.HTML,n)||""):Ar(n,"HTML")?JA(Zn(n)):q_(BM(),fi(n))}function KU(n){let e=G_();return e?e.sanitize(kn.URL,n)||"":Ar(n,"URL")?Zn(n):hp(fi(n))}function QU(n){let e=G_();if(e)return ex(e.sanitize(kn.RESOURCE_URL,n)||"");if(Ar(n,"ResourceURL"))return ex(Zn(n));throw new z(904,!1)}function YU(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?QU:KU}function XM(n,e,t){return YU(e,t)(n)}function G_(){let n=we();return n&&n[Fi].sanitizer}var ZU=/^>|^->|<!--|-->|--!>|<!-$/g,XU=/(<|>)/g,JU="\u200B$1\u200B";function e5(n){return n.replace(ZU,e=>e.replace(XU,JU))}function JM(n){return n.ownerDocument.defaultView}function eP(n){return n instanceof Function?n():n}var Ir=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ir||{}),t5;function K_(n,e){return t5(n,e)}function rc(n,e,t,i,r){if(i!=null){let s,o=!1;Tr(i)?s=i:Cs(i)&&(o=!0,i=i[Ui]);let a=Li(i);n===0&&t!==null?r==null?rP(e,t,a):Uf(e,t,a,r||null,!0):n===1&&t!==null?Uf(e,t,a,r||null,!0):n===2?y5(e,a,o):n===3&&e.destroyNode(a),s!=null&&_5(e,n,s,t,r)}}function n5(n,e){return n.createText(e)}function i5(n,e,t){n.setValue(e,t)}function r5(n,e){return n.createComment(e5(e))}function tP(n,e,t){return n.createElement(e,t)}function s5(n,e){nP(n,e),e[Ui]=null,e[_i]=null}function o5(n,e,t,i,r,s){i[Ui]=r,i[_i]=e,gp(n,i,t,1,r,s)}function nP(n,e){e[Fi].changeDetectionScheduler?.notify(9),gp(n,e,e[wt],2,null,null)}function a5(n){let e=n[du];if(!e)return sv(n[le],n);for(;e;){let t=null;if(Cs(e))t=e[du];else{let i=e[nn];i&&(t=i)}if(!t){for(;e&&!e[gi]&&e!==n;)Cs(e)&&sv(e[le],e),e=e[rn];e===null&&(e=n),Cs(e)&&sv(e[le],e),t=e&&e[gi]}e=t}}function c5(n,e,t,i){let r=nn+i,s=t.length;i>0&&(t[r-1][gi]=e),i<s-nn?(e[gi]=t[r],Px(t,nn+i,e)):(t.push(e),e[gi]=null),e[rn]=t;let o=e[xo];o!==null&&t!==o&&iP(o,e);let a=e[br];a!==null&&a.insertView(n),Iv(e),e[oe]|=128}function iP(n,e){let t=n[dc],i=e[rn];if(Cs(i))n[oe]|=Nf.HasTransplantedViews;else{let r=i[rn][mi];e[mi]!==r&&(n[oe]|=Nf.HasTransplantedViews)}t===null?n[dc]=[e]:t.push(e)}function Q_(n,e){let t=n[dc],i=t.indexOf(e);t.splice(i,1)}function hu(n,e){if(n.length<=nn)return;let t=nn+e,i=n[t];if(i){let r=i[xo];r!==null&&r!==n&&Q_(r,i),e>0&&(n[t-1][gi]=i[gi]);let s=Mf(n,nn+e);s5(i[le],i);let o=s[br];o!==null&&o.detachView(s[le]),i[rn]=null,i[gi]=null,i[oe]&=-129}return i}function fp(n,e){if(!(e[oe]&256)){let t=e[wt];t.destroyNode&&gp(n,e,t,3,null,null),a5(e)}}function sv(n,e){if(e[oe]&256)return;let t=_e(null);try{e[oe]&=-129,e[oe]|=256,e[Wn]&&S0(e[Wn]),u5(n,e),l5(n,e),e[le].type===1&&e[wt].destroy();let i=e[xo];if(i!==null&&Tr(e[rn])){i!==e[rn]&&Q_(i,e);let r=e[br];r!==null&&r.detachView(n)}Ov(e)}finally{_e(t)}}function l5(n,e){let t=n.cleanup,i=e[Rf];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Rf]=null);let r=e[Is];if(r!==null){e[Is]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function u5(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof ko)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];ki(4,a,c);try{c.call(a)}finally{ki(5,a,c)}}else{ki(4,r,s);try{s.call(r)}finally{ki(5,r,s)}}}}}function d5(n,e,t){return h5(n,e.parent,t)}function h5(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Ui];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Oi.None||s===Oi.Emulated)return null}return Yn(i,t)}}function Uf(n,e,t,i,r){n.insertBefore(e,t,i,r)}function rP(n,e,t){n.appendChild(e,t)}function sx(n,e,t,i,r){i!==null?Uf(n,e,t,i,r):rP(n,e,t)}function sP(n,e){return n.parentNode(e)}function f5(n,e){return n.nextSibling(e)}function p5(n,e,t){return m5(n,e,t)}function g5(n,e,t){return n.type&40?Yn(n,t):null}var m5=g5,ox;function pp(n,e,t,i){let r=d5(n,i,e),s=e[wt],o=i.parent||e[_i],a=p5(o,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)sx(s,r,t[c],a,!1);else sx(s,r,t,a,!1);ox!==void 0&&ox(s,i,e,t,r)}function ru(n,e){if(e!==null){let t=e.type;if(t&3)return Yn(e,n);if(t&4)return qv(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return ru(n,i);{let r=n[e.index];return Tr(r)?qv(-1,r):Li(r)}}else{if(t&128)return ru(n,e.next);if(t&32)return K_(e,n)()||Li(n[e.index]);{let i=oP(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Po(n[mi]);return ru(r,i)}else return ru(n,e.next)}}}return null}function oP(n,e){if(e!==null){let i=n[mi][_i],r=e.projection;return i.projection[r]}return null}function qv(n,e){let t=nn+n+1;if(t<e.length){let i=e[t],r=i[le].firstChild;if(r!==null)return ru(i,r)}return e[Mo]}function y5(n,e,t){n.removeChild(null,e,t)}function Y_(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(o&&e===0&&(a&&As(Li(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)Y_(n,e,t.child,i,r,s,!1),rc(e,n,r,a,s);else if(c&32){let l=K_(t,i),u;for(;u=l();)rc(e,n,r,u,s);rc(e,n,r,a,s)}else c&16?v5(n,e,i,t,r,s):rc(e,n,r,a,s);t=o?t.projectionNext:t.next}}function gp(n,e,t,i,r,s){Y_(t,i,n.firstChild,e,r,s,!1)}function v5(n,e,t,i,r,s){let o=t[mi],c=o[_i].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];rc(e,n,r,u,s)}else{let l=c,u=o[rn];kM(i)&&(l.flags|=128),Y_(n,e,l,u,r,s,!0)}}function _5(n,e,t,i,r){let s=t[Mo],o=Li(t);s!==o&&rc(e,n,i,s,r);for(let a=nn;a<t.length;a++){let c=t[a];gp(c[le],c,n,e,i,s)}}function b5(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Ir.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ir.Important),n.setStyle(t,i,r,s))}}function w5(n,e,t){n.setAttribute(e,"style",t)}function aP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function cP(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&yv(n,e,i),r!==null&&aP(n,e,r),s!==null&&w5(n,e,s)}var Xn={};function W(n=1){lP(Dt(),we(),Sr()+n,!1)}function lP(n,e,t,i){if(!i)if((e[oe]&3)===3){let s=n.preOrderCheckHooks;s!==null&&If(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Cf(e,s,0,t)}Ro(t)}function ne(n,e=be.Default){let t=we();if(t===null)return re(n,e);let i=sn();return IM(i,t,hn(n),e)}function uP(n,e,t,i,r,s){let o=_e(null);try{let a=null;r&Ds.SignalBased&&(a=e[i][Hn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Ds.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):Qx(e,a,i,s)}finally{_e(o)}}function E5(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Ro(~r);else{let s=r,o=t[++i],a=t[++i];Hj(o,s);let c=e[s];a(2,c)}}}finally{Ro(-1)}}function mp(n,e,t,i,r,s,o,a,c,l,u){let h=e.blueprint.slice();return h[Ui]=r,h[oe]=i|4|128|8|64,(l!==null||n&&n[oe]&2048)&&(h[oe]|=2048),tM(h),h[rn]=h[mc]=n,h[tn]=t,h[Fi]=o||n&&n[Fi],h[wt]=a||n&&n[wt],h[uc]=c||n&&n[uc]||null,h[_i]=s,h[tp]=IU(),h[uu]=u,h[Kx]=l,h[mi]=e.type==2?n[mi]:h,h}function wu(n,e,t,i,r){let s=n.data[e];if(s===null)s=I5(n,e,t,i,r),zj()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=Vj();s.injectorIndex=o===null?-1:o.injectorIndex}return Lo(s,!0),s}function I5(n,e,t,i,r){let s=oM(),o=M_(),a=o?s:s&&s.parent,c=n.data[e]=x5(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function dP(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function hP(n,e,t,i,r){let s=Sr(),o=i&2;try{Ro(-1),o&&e.length>gn&&lP(n,e,gn,!1),ki(o?2:0,r),t(i,r)}finally{Ro(s),ki(o?3:1,r)}}function Z_(n,e,t){if(S_(e)){let i=_e(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{_e(i)}}}function X_(n,e,t){sM()&&(O5(n,e,t,Yn(t,e)),(t.flags&64)===64&&gP(n,e,t))}function J_(n,e,t=Yn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function fP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=eb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function eb(n,e,t,i,r,s,o,a,c,l,u){let h=gn+i,f=h+r,g=C5(h,f),y=typeof l=="function"?l():l;return g[le]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function C5(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Xn);return t}function D5(n,e,t,i){let s=i.get(xU,jM)||t===Oi.ShadowDom,o=n.selectRootElement(e,s);return T5(o),o}function T5(n){S5(n)}var S5=()=>null;function A5(n,e,t,i){let r=vP(e);r.push(t),n.firstCreatePass&&_P(n).push(i,r.length-1)}function x5(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return Oj()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ax(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=Ds.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(r!==null){if(!r.hasOwnProperty(s))continue;l=r[s]}n===0?cx(i,t,l,a,c):cx(i,t,l,a)}return i}function cx(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function M5(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let h=s[u],f=t?t.get(h):null,g=f?f.inputs:null,y=f?f.outputs:null;c=ax(0,h.inputs,u,c,g),l=ax(1,h.outputs,u,l,y);let v=c!==null&&o!==null&&!I_(e)?W5(c,u,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function P5(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function tb(n,e,t,i,r,s,o,a){let c=Yn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(ib(n,t,u,i,r),np(e)&&R5(t,e.index)):e.type&3?(i=P5(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function R5(n,e){let t=Rs(e,n);t[oe]&16||(t[oe]|=64)}function nb(n,e,t,i){if(sM()){let r=i===null?null:{"":-1},s=L5(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&pP(n,e,t,o,r,a),r&&V5(t,i,r)}t.mergedAttrs=cu(t.mergedAttrs,t.attrs)}function pP(n,e,t,i,r,s){for(let l=0;l<i.length;l++)Sv(Vf(t,e),n,i[l].type);j5(t,n.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=dP(n,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];t.mergedAttrs=cu(t.mergedAttrs,u.hostAttrs),U5(n,t,e,c,u),B5(c,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}M5(n,t,s)}function k5(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;N5(o)!=a&&o.push(a),o.push(t,i,s)}}function N5(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function O5(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;np(t)&&$5(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Vf(t,e),As(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let c=n.data[a],l=No(e,n,a,t);if(As(l,e),o!==null&&q5(e,a-r,l,c,t,o),wr(c)){let u=Rs(t.index,e);u[tn]=No(e,n,a,t)}}}function gP(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=qj();try{Ro(s);for(let a=i;a<r;a++){let c=n.data[a],l=e[a];Cv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&F5(c,l)}}finally{Ro(-1),Cv(o)}}function F5(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function L5(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(ej(e,o.selectors,!1))if(i||(i=[]),wr(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;Wv(n,e,c)}else i.unshift(o),Wv(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Wv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function V5(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new z(-301,!1);i.push(e[r],s)}}}function B5(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;wr(e)&&(t[""]=n)}}function j5(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function U5(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=Ao(r.type,!0)),o=new ko(s,wr(r),ne);n.blueprint[i]=o,t[i]=o,k5(n,e,i,dP(n,t,r.hostVars,Xn),r)}function $5(n,e,t){let i=Yn(e,n),r=fP(t),s=n[Fi].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=yp(n,mp(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function z5(n,e,t,i,r,s){let o=Yn(n,e);H5(e[wt],o,s,n.value,t,i,r)}function H5(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?fi(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function q5(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],h=o[a++];uP(i,t,c,l,u,h)}}function W5(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function mP(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function yP(n,e){let t=n.contentQueries;if(t!==null){let i=_e(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];op(s),a.contentQueries(2,e[o],o)}}}finally{_e(i)}}}function yp(n,e){return n[du]?n[UA][gi]=e:n[du]=e,n[UA]=e,e}function Gv(n,e,t){op(0);let i=_e(null);try{e(n,t)}finally{_e(i)}}function vP(n){return n[Rf]??=[]}function _P(n){return n.cleanup??=[]}function G5(n,e,t){return(n===null||wr(n))&&(t=Sj(t[e.index])),t[wt]}function bP(n,e){let t=n[uc],i=t?t.get(Vi,null):null;i&&i.handleError(e)}function ib(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],c=t[s++],l=e[o],u=n.data[o];uP(u,l,i,a,c,r)}}function wP(n,e,t){let i=Jx(e,n);i5(n[wt],i,t)}function K5(n,e){let t=Rs(e,n),i=t[le];Q5(i,t);let r=t[Ui];r!==null&&t[uu]===null&&(t[uu]=H_(r,t[uc])),rb(i,t,t[tn])}function Q5(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function rb(n,e,t){k_(e);try{let i=n.viewQuery;i!==null&&Gv(1,i,t);let r=n.template;r!==null&&hP(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[br]?.finishViewCreation(n),n.staticContentQueries&&yP(n,e),n.staticViewQueries&&Gv(2,n.viewQuery,t);let s=n.components;s!==null&&Y5(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[oe]&=-5,N_()}}function Y5(n,e){for(let t=0;t<e.length;t++)K5(n,e[t])}function vp(n,e,t,i){let r=_e(null);try{let s=e.tView,a=n[oe]&4096?4096:16,c=mp(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];c[xo]=l;let u=n[br];return u!==null&&(c[br]=u.createEmbeddedView(s)),rb(s,c,t),c}finally{_e(r)}}function EP(n,e){let t=nn+e;if(t<n.length)return n[t]}function fu(n,e){return!e||e.firstChild===null||kM(n)}function _p(n,e,t,i=!0){let r=e[le];if(c5(r,e,n,t),i){let o=qv(t,n),a=e[wt],c=sP(a,n[Mo]);c!==null&&o5(r,n[_i],a,e,c,o)}let s=e[uu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function IP(n,e){let t=hu(n,e);return t!==void 0&&fp(t[le],t),t}function $f(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(Li(s)),Tr(s)&&Z5(s,i);let o=t.type;if(o&8)$f(n,e,t.child,i);else if(o&32){let a=K_(t,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=oP(e,t);if(Array.isArray(a))i.push(...a);else{let c=Po(e[mi]);$f(c[le],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function Z5(n,e){for(let t=nn;t<n.length;t++){let i=n[t],r=i[le].firstChild;r!==null&&$f(i[le],i,r,e)}n[Mo]!==n[Ui]&&e.push(n[Mo])}var CP=[];function X5(n){return n[Wn]??J5(n)}function J5(n){let e=CP.pop()??Object.create(t$);return e.lView=n,e}function e$(n){n.lView[Wn]!==n&&(n.lView=null,CP.push(n))}var t$=se($({},Jl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{sp(n.lView)},consumerOnSignalRead(){this.lView[Wn]=this}});function n$(n){let e=n[Wn]??Object.create(i$);return e.lView=n,e}var i$=se($({},Jl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Po(n.lView);for(;e&&!DP(e[le]);)e=Po(e);e&&nM(e)},consumerOnSignalRead(){this.lView[Wn]=this}});function DP(n){return n.type!==2}var r$=100;function TP(n,e=!0,t=0){let i=n[Fi],r=i.rendererFactory,s=!1;s||r.begin?.();try{s$(n,t)}catch(o){throw e&&bP(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function s$(n,e){let t=cM();try{zA(!0),Kv(n,e);let i=0;for(;rp(n);){if(i===r$)throw new z(103,!1);i++,Kv(n,1)}}finally{zA(t)}}function o$(n,e,t,i){let r=e[oe];if((r&256)===256)return;let s=!1,o=!1;!s&&e[Fi].inlineEffectRunner?.flush(),k_(e);let a=!0,c=null,l=null;s||(DP(n)?(l=X5(e),c=Bh(l)):QS()===null?(a=!1,l=n$(e),c=Bh(l)):e[Wn]&&(S0(e[Wn]),e[Wn]=null));try{tM(e),$j(n.bindingStartIndex),t!==null&&hP(n,e,t,2,i);let u=(r&3)===3;if(!s)if(u){let g=n.preOrderCheckHooks;g!==null&&If(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Cf(e,g,0,null),tv(e,0)}if(o||a$(e),SP(e,0),n.contentQueries!==null&&yP(n,e),!s)if(u){let g=n.contentCheckHooks;g!==null&&If(e,g)}else{let g=n.contentHooks;g!==null&&Cf(e,g,1),tv(e,1)}E5(n,e);let h=n.components;h!==null&&xP(e,h,0);let f=n.viewQuery;if(f!==null&&Gv(2,f,i),!s)if(u){let g=n.viewCheckHooks;g!==null&&If(e,g)}else{let g=n.viewHooks;g!==null&&Cf(e,g,2),tv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ev]){for(let g of e[ev])g();e[ev]=null}s||(e[oe]&=-73)}catch(u){throw s||sp(e),u}finally{l!==null&&(D0(l,c),a&&e$(l)),N_()}}function SP(n,e){for(let t=OM(n);t!==null;t=FM(t))for(let i=nn;i<t.length;i++){let r=t[i];AP(r,e)}}function a$(n){for(let e=OM(n);e!==null;e=FM(e)){if(!(e[oe]&Nf.HasTransplantedViews))continue;let t=e[dc];for(let i=0;i<t.length;i++){let r=t[i];nM(r)}}}function c$(n,e,t){let i=Rs(e,n);AP(i,t)}function AP(n,e){x_(n)&&Kv(n,e)}function Kv(n,e){let i=n[le],r=n[oe],s=n[Wn],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&T0(s)),o||=!1,s&&(s.dirty=!1),n[oe]&=-9217,o)o$(i,n,i.template,n[tn]);else if(r&8192){SP(n,1);let a=i.components;a!==null&&xP(n,a,1)}}function xP(n,e,t){for(let i=0;i<e.length;i++)c$(n,e[i],t)}function sb(n,e){let t=cM()?64:1088;for(n[Fi].changeDetectionScheduler?.notify(e);n;){n[oe]|=t;let i=Po(n);if(wv(n)&&!i)return n;n=i}return null}var Oo=class{get rootNodes(){let e=this._lView,t=e[le];return $f(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(e){this._lView[tn]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rn];if(Tr(e)){let t=e[kf],i=t?t.indexOf(this):-1;i>-1&&(hu(e,i),Mf(t,i))}this._attachedToViewContainer=!1}fp(this._lView[le],this._lView)}onDestroy(e){iM(this._lView,e)}markForCheck(){sb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){Iv(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,TP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=wv(this._lView),t=this._lView[xo];t!==null&&!e&&Q_(t,this._lView),nP(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=wv(this._lView),i=this._lView[xo];i!==null&&!t&&iP(i,this._lView),Iv(this._lView)}},hc=(()=>{class n{static{this.__NG_ELEMENT_ID__=d$}}return n})(),l$=hc,u$=class extends l${constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=vp(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Oo(r)}};function d$(){return ob(sn(),we())}function ob(n,e){return n.type&4?new u$(e,n,vc(n,e)):null}var lae=new RegExp(`^(\\d+)*(${SU}|${TU})*(.*)`);var h$=()=>null;function pu(n,e){return h$(n,e)}var fc=class{},bp=new ee("",{providedIn:"root",factory:()=>!1});var MP=new ee(""),PP=new ee(""),gu=class{},zf=class{};function f$(n){let e=Error(`No component factory found for ${pn(n)}.`);return e[p$]=n,e}var p$="ngComponent";var Qv=class{resolveComponentFactory(e){throw f$(e)}},xs=class{static{this.NULL=new Qv}},Ms=class{},Mr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>g$()}}return n})();function g$(){let n=we(),e=sn(),t=Rs(e.index,n);return(Cs(t)?t:n)[wt]}var m$=(()=>{class n{static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>null})}}return n})();function Hf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=fv(r,a);else if(s==2){let c=a,l=e[++o];i=fv(i,c+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var qf=class extends xs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ts(e);return new pc(t,this.ngModule)}};function lx(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Ds.None;e?t.push({propName:o,templateName:i,isSignal:(a&Ds.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function y$(n){let e=n.toLowerCase();return e==="svg"?Dj:e==="math"?Tj:null}var pc=class extends zf{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=lx(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return lx(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=rj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=_e(null);try{r=r||this.ngModule;let o=r instanceof Gn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Dv(e,o):e,c=a.get(Ms,null);if(c===null)throw new z(407,!1);let l=a.get(m$,null),u=a.get(fc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=i?D5(f,i,this.componentDef.encapsulation,a):tP(f,g,y$(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let _=null;y!==null&&(_=H_(y,a,!0));let S=eb(0,null,null,1,0,null,null,null,null,null,null),x=mp(null,S,null,v,null,null,h,f,a,null,_);k_(x);let k,F,L=null;try{let O=this.componentDef,I,b=null;O.findHostDirectiveDefs?(I=[],b=new Map,O.findHostDirectiveDefs(O,I,b),I.push(O)):I=[O];let E=v$(x,y);L=_$(E,y,O,I,x,h,f),F=A_(S,gn),y&&E$(f,O,y,i),t!==void 0&&I$(F,this.ngContentSelectors,t),k=w$(L,O,I,b,x,[C$]),rb(S,x,null)}catch(O){throw L!==null&&Ov(L),Ov(x),O}finally{N_()}return new Yv(this.componentType,k,vc(F,x),x,F)}finally{_e(s)}}},Yv=class extends gu{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Oo(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;ib(s[le],s,r,e,t),this.previousInputValues.set(e,t);let o=Rs(this._tNode.index,s);sb(o,1)}}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function v$(n,e){let t=n[le],i=gn;return n[i]=e,wu(t,i,2,"#host",null)}function _$(n,e,t,i,r,s,o){let a=r[le];b$(i,n,e,o);let c=null;e!==null&&(c=H_(e,r[uc]));let l=s.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let h=mp(r,fP(t),null,u,r[n.index],n,s,l,null,null,c);return a.firstCreatePass&&Wv(a,n,i.length-1),yp(r,h),r[n.index]=h}function b$(n,e,t,i){for(let r of n)e.mergedAttrs=cu(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Hf(e,e.mergedAttrs,!0),t!==null&&cP(i,t,e))}function w$(n,e,t,i,r,s){let o=sn(),a=r[le],c=Yn(o,r);pP(a,r,o,t,null,i);for(let u=0;u<t.length;u++){let h=o.directiveStart+u,f=No(r,a,h,o);As(f,r)}gP(a,r,o),c&&As(c,r);let l=No(r,a,o.directiveStart+o.componentOffset,o);if(n[tn]=r[tn]=l,s!==null)for(let u of s)u(l,e);return Z_(a,o,r),l}function E$(n,e,t,i){if(i)yv(n,t,["ng-version","18.2.8"]);else{let{attrs:r,classes:s}=sj(e.selectors[0]);r&&yv(n,t,r),s&&s.length>0&&aP(n,t,s.join(" "))}}function I$(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function C$(){let n=sn();up(we()[le],n)}var $i=(()=>{class n{static{this.__NG_ELEMENT_ID__=D$}}return n})();function D$(){let n=sn();return kP(n,we())}var T$=$i,RP=class extends T${constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return vc(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){let e=O_(this._hostTNode,this._hostLView);if(yM(e)){let t=Ff(e,this._hostLView),i=Of(e),r=t[le].data[i+8];return new So(r,t)}else return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ux(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=pu(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,fu(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!wj(e),a;if(o)a=t;else{let y=t||{};a=y.index,i=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new pc(Ts(e)),l=i||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?l:this.parentInjector).get(Gn,null);v&&(s=v)}let u=Ts(c.componentType??{}),h=pu(this._lContainer,u?.id??null),f=h?.firstChild??null,g=c.create(l,r,f,s);return this.insertImpl(g.hostView,a,fu(this._hostTNode,h)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(xj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[rn],l=new RP(c,c[_i],c[rn]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return _p(o,r,s,i),e.attachToViewContainerRef(),Px(ov(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ux(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=hu(this._lContainer,t);i&&(Mf(ov(this._lContainer),t),fp(i[le],i))}detach(e){let t=this._adjustIndex(e,-1),i=hu(this._lContainer,t);return i&&Mf(ov(this._lContainer),t)!=null?new Oo(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function ux(n){return n[kf]}function ov(n){return n[kf]||(n[kf]=[])}function kP(n,e){let t,i=e[n.index];return Tr(i)?t=i:(t=mP(i,e,null,n),e[n.index]=t,yp(e,t)),A$(t,e,n,i),new RP(t,n,e)}function S$(n,e){let t=n[wt],i=t.createComment(""),r=Yn(e,n),s=sP(t,r);return Uf(t,s,i,f5(t,r),!1),i}var A$=P$,x$=()=>!1;function M$(n,e,t){return x$(n,e,t)}function P$(n,e,t,i){if(n[Mo])return;let r;t.type&8?r=Li(i):r=S$(e,t),n[Mo]=r}var Zv=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Xv=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)cb(e,t).matches!==null&&this.queries[t].setDirty()}},Jv=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=L$(e):this.predicate=e}},e_=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},t_=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,R$(t,s)),this.matchTNodeWithReadOption(e,t,Df(t,e,s,!1,!1))}else i===hc?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Df(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===En||r===$i||r===hc&&t.type&4)this.addMatch(t.index,-2);else{let s=Df(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function R$(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function k$(n,e){return n.type&11?vc(n,e):n.type&4?ob(n,e):null}function N$(n,e,t,i){return t===-1?k$(e,n):t===-2?O$(n,e,i):No(n,n[le],t,e)}function O$(n,e,t){if(t===En)return vc(e,n);if(t===hc)return ob(e,n);if(t===$i)return kP(e,n)}function NP(n,e,t,i){let r=e[br].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(N$(e,u,o[c+1],t.metadata.read))}}r.matches=a}return r.matches}function n_(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=NP(n,e,r,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let h=nn;h<u.length;h++){let f=u[h];f[xo]===f[rn]&&n_(f[le],f,l,i)}if(u[dc]!==null){let h=u[dc];for(let f=0;f<h.length;f++){let g=h[f];n_(g[le],g,l,i)}}}}}return i}function ab(n,e){return n[br].queries[e].queryList}function F$(n,e,t){let i=new Nv((t&4)===4);return A5(n,e,i,i.destroy),(e[br]??=new Xv).queries.push(new Zv(i))-1}function OP(n,e,t){let i=Dt();return i.firstCreatePass&&(V$(i,new Jv(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),F$(i,we(),e)}function L$(n){return n.split(",").map(e=>e.trim())}function V$(n,e,t){n.queries===null&&(n.queries=new e_),n.queries.track(new t_(e,t))}function cb(n,e){return n.queries.getByIndex(e)}function FP(n,e){let t=n[le],i=cb(t,e);return i.crossesNgTemplate?n_(t,n,e,[]):NP(t,n,i,e)}var dx=new Set;function Pr(n){dx.has(n)||(dx.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function B$(n){return typeof n=="function"&&n[Hn]!==void 0}function st(n,e){Pr("NgSignals");let t=sA(n),i=t[Hn];return e?.equal&&(i.equal=e.equal),t.set=r=>$h(i,r),t.update=r=>oA(i,r),t.asReadonly=j$.bind(t),t}function j$(){let n=this[Hn];if(n.readonlyFn===void 0){let e=()=>this();e[Hn]=n,n.readonlyFn=e}return n.readonlyFn}function LP(n){return B$(n)&&typeof n.set=="function"}function VP(n,e){let t,i=A0(()=>{t._dirtyCounter();let r=H$(t,n);if(e&&r===void 0)throw new z(-951,!1);return r});return t=i[Hn],t._dirtyCounter=st(0),t._flatValue=void 0,i}function U$(){return VP(!0,!1)}function $$(){return VP(!0,!0)}function z$(n,e){let t=n[Hn];t._lView=we(),t._queryIndex=e,t._queryList=ab(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function H$(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[oe]&4)return e?void 0:fn;let r=ab(t,i),s=FP(t,i);return r.reset(s,RM),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}function hx(n,e){return U$()}function q$(n,e){return $$()}var Bo=(hx.required=q$,hx);function W$(n){return Object.getPrototypeOf(n.prototype).constructor}function Nn(n){let e=W$(n.type),t=!0,i=[n];for(;e;){let r;if(wr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=_f(n.inputs),o.inputTransforms=_f(n.inputTransforms),o.declaredInputs=_f(n.declaredInputs),o.outputs=_f(n.outputs);let a=r.hostBindings;a&&Z$(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&Q$(n,c),l&&Y$(n,l),G$(n,r),CB(n.outputs,r.outputs),wr(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Nn&&(t=!1)}}e=Object.getPrototypeOf(e)}K$(i)}function G$(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function K$(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=cu(r.hostAttrs,t=cu(t,r.hostAttrs))}}function _f(n){return n===ac?{}:n===fn?[]:n}function Q$(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function Y$(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function Z$(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function lb(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var Ps=class{},mu=class{};var i_=class extends Ps{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qf(this);let s=Ux(e);this._bootstrapComponents=eP(s.bootstrap),this._r3Injector=TM(e,t,[{provide:Ps,useValue:this},{provide:xs,useValue:this.componentFactoryResolver},...i],pn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},r_=class extends mu{constructor(e){super(),this.moduleType=e}create(e){return new i_(this.moduleType,e,[])}};var Wf=class extends Ps{constructor(e){super(),this.componentFactoryResolver=new qf(this),this.instance=null;let t=new lu([...e.providers,{provide:Ps,useValue:this},{provide:xs,useValue:this.componentFactoryResolver}],e.parent||D_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ub(n,e,t=null){return new Wf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function X$(n,e,t){return n[e]=t}function yi(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Gf(n,e,t,i){let r=yi(n,e,t);return yi(n,e+1,i)||r}function J$(n,e,t,i,r,s){let o=Gf(n,e,t,i);return Gf(n,e+2,r,s)||o}function e4(n){return(n.flags&32)===32}function t4(n,e,t,i,r,s,o,a,c){let l=e.consts,u=wu(e,n,4,o||null,a||null);nb(e,t,u,Ss(l,c)),up(e,u);let h=u.tView=eb(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function s_(n,e,t,i,r,s,o,a,c,l){let u=t+gn,h=e.firstCreatePass?t4(u,e,n,i,r,s,o,a,c):e.data[u];Lo(h,!1);let f=n4(e,n,h,t);cp()&&pp(e,n,f,h),As(f,n);let g=mP(f,n,f,h);return n[u]=g,yp(n,g),M$(g,h,n),ip(h)&&X_(e,n,h),c!=null&&J_(n,h,l),h}function ht(n,e,t,i,r,s,o,a){let c=we(),l=Dt(),u=Ss(l.consts,s);return s_(c,l,n,e,t,i,r,u,o,a),ht}var n4=i4;function i4(n,e,t,i){return lp(!0),e[wt].createComment("")}var su=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(su||{}),r4=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}}return n})(),fx=class n{constructor(){this.ngZone=j(Oe),this.scheduler=j(fc),this.errorHandler=j(Vi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[su.EarlyRead,su.Write,su.MixedReadWrite,su.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}};function zi(n,e,t,i){let r=we(),s=Vo();if(yi(r,s,e)){let o=Dt(),a=ap();z5(a,r,n,e,t,i)}return zi}function s4(n,e,t,i){return yi(n,Vo(),t)?e+fi(t)+i:Xn}function o4(n,e,t,i,r,s,o,a,c,l,u,h,f,g){let y=Uj(),v=J$(n,y,t,r,o,c);return v=Gf(n,y+4,u,f)||v,P_(6),v?e+fi(t)+i+fi(r)+s+fi(o)+a+fi(c)+l+fi(u)+h+fi(f)+g:Xn}function bf(n,e){return n<<17|e<<2}function Fo(n){return n>>17&32767}function a4(n){return(n&2)==2}function c4(n,e){return n&131071|e<<17}function o_(n){return n|2}function gc(n){return(n&131068)>>2}function av(n,e){return n&-131069|e<<2}function l4(n){return(n&1)===1}function a_(n){return n|1}function u4(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Fo(o),c=gc(o);n[i]=t;let l=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||_u(h,u)>0)&&(l=!0)}else u=t;if(r)if(c!==0){let f=Fo(n[a+1]);n[i+1]=bf(f,a),f!==0&&(n[f+1]=av(n[f+1],i)),n[a+1]=c4(n[a+1],i)}else n[i+1]=bf(a,0),a!==0&&(n[a+1]=av(n[a+1],i)),a=i;else n[i+1]=bf(c,0),a===0?a=i:n[c+1]=av(n[c+1],i),c=i;l&&(n[i+1]=o_(n[i+1])),px(n,u,i,!0),px(n,u,i,!1),d4(e,u,n,i,s),o=bf(a,c),s?e.classBindings=o:e.styleBindings=o}function d4(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&_u(s,e)>=0&&(t[i+1]=a_(t[i+1]))}function px(n,e,t,i){let r=n[t+1],s=e===null,o=i?Fo(r):gc(r),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],l=n[o+1];h4(c,e)&&(a=!0,n[o+1]=i?a_(l):o_(l)),o=i?Fo(l):gc(l)}a&&(n[t+1]=i?o_(r):a_(r))}function h4(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?_u(n,e)>=0:!1}var pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function f4(n){return n.substring(pi.key,pi.keyEnd)}function p4(n){return g4(n),BP(n,jP(n,0,pi.textEnd))}function BP(n,e){let t=pi.textEnd;return t===e?-1:(e=pi.keyEnd=m4(n,pi.key=e,t),jP(n,e,t))}function g4(n){pi.key=0,pi.keyEnd=0,pi.value=0,pi.valueEnd=0,pi.textEnd=n.length}function jP(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function m4(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Ue(n,e,t){let i=we(),r=Vo();if(yi(i,r,e)){let s=Dt(),o=ap();tb(s,o,i,n,e,i[wt],t,!1)}return Ue}function c_(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";ib(n,t,s[o],o,i)}function bi(n,e,t){return UP(n,e,t,!1),bi}function _c(n,e){return UP(n,e,null,!0),_c}function gt(n){v4(C4,y4,n,!0)}function y4(n,e){for(let t=p4(e);t>=0;t=BP(e,t))E_(n,f4(e),!0)}function UP(n,e,t,i){let r=we(),s=Dt(),o=P_(2);if(s.firstUpdatePass&&zP(s,n,o,i),e!==Xn&&yi(r,o,e)){let a=s.data[Sr()];HP(s,a,r,r[wt],n,r[o+1]=T4(e,t),i,o)}}function v4(n,e,t,i){let r=Dt(),s=P_(2);r.firstUpdatePass&&zP(r,null,s,i);let o=we();if(t!==Xn&&yi(o,s,t)){let a=r.data[Sr()];if(qP(a,i)&&!$P(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=fv(c,t||"")),c_(r,a,o,t,i)}else D4(r,a,o,o[wt],o[s+1],o[s+1]=I4(n,e,t),i,s)}}function $P(n,e){return e>=n.expandoStartIndex}function zP(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[Sr()],o=$P(n,t);qP(s,i)&&e===null&&!o&&(e=!1),e=_4(r,s,e,i),u4(r,s,e,t,o,i)}}function _4(n,e,t,i){let r=lM(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=cv(null,n,e,t,i),t=yu(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=cv(r,n,e,t,i),s===null){let c=b4(n,e,i);c!==void 0&&Array.isArray(c)&&(c=cv(null,n,e,c[1],i),c=yu(c,e.attrs,i),w4(n,e,i,c))}else s=E4(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function b4(n,e,t){let i=t?e.classBindings:e.styleBindings;if(gc(i)!==0)return n[Fo(i)]}function w4(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Fo(r)]=i}function E4(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=yu(i,o,t)}return yu(i,e.attrs,t)}function cv(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=yu(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function yu(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),E_(n,o,t?!0:e[++s]))}return n===void 0?null:n}function I4(n,e,t){if(t==null||t==="")return fn;let i=[],r=Zn(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function C4(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&E_(n,i,t)}function D4(n,e,t,i,r,s,o,a){r===Xn&&(r=fn);let c=0,l=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;u!==null||h!==null;){let f=c<r.length?r[c+1]:void 0,g=l<s.length?s[l+1]:void 0,y=null,v;u===h?(c+=2,l+=2,f!==g&&(y=h,v=g)):h===null||u!==null&&u<h?(c+=2,y=u):(l+=2,y=h,v=g),y!==null&&HP(n,e,t,i,y,v,o,a),u=c<r.length?r[c]:null,h=l<s.length?s[l]:null}}function HP(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=l4(l)?gx(c,e,t,r,gc(l),o):void 0;if(!Kf(u)){Kf(s)||a4(l)&&(s=gx(c,null,t,r,a,o));let h=Jx(Sr(),t);b5(i,o,h,r,s)}}function gx(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),u=l?c[1]:c,h=u===null,f=t[r+1];f===Xn&&(f=h?fn:void 0);let g=h?X0(f,i):u===i?f:void 0;if(l&&!Kf(g)&&(g=X0(c,i)),Kf(g)&&(a=g,o))return a;let y=n[r+1];r=o?Fo(y):gc(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=X0(c,i))}return a}function Kf(n){return n!==void 0}function T4(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=pn(Zn(n)))),n}function qP(n,e){return(n.flags&(e?8:16))!==0}var l_=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,t){this.attach(t,this.detach(e))}};function lv(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function S4(n,e,t){let i,r,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let l=n.at(s),u=e[s],h=lv(s,l,s,u,t);if(h!==0){h<0&&n.updateValue(s,u),s++;continue}let f=n.at(o),g=e[c],y=lv(o,f,c,g,t);if(y!==0){y<0&&n.updateValue(o,g),o--,c--;continue}let v=t(s,l),_=t(o,f),S=t(s,u);if(Object.is(S,_)){let x=t(c,g);Object.is(x,v)?(n.swap(s,o),n.updateValue(o,g),c--,o--):n.move(o,s),n.updateValue(s,u),s++;continue}if(i??=new Qf,r??=yx(n,s,o,t),u_(n,i,s,S))n.updateValue(s,u),s++,o++;else if(r.has(S))i.set(v,n.detach(s)),o--;else{let x=n.create(s,e[s]);n.attach(s,x),s++,o++}}for(;s<=c;)mx(n,i,t,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&s<=o;){let u=n.at(s),h=l.value,f=lv(s,u,s,h,t);if(f!==0)f<0&&n.updateValue(s,h),s++,l=c.next();else{i??=new Qf,r??=yx(n,s,o,t);let g=t(s,h);if(u_(n,i,s,g))n.updateValue(s,h),s++,o++,l=c.next();else if(!r.has(g))n.attach(s,n.create(s,h)),s++,o++,l=c.next();else{let y=t(s,u);i.set(y,n.detach(s)),o--}}}for(;!l.done;)mx(n,i,t,n.length,l.value),l=c.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(c=>{n.destroy(c)})}function u_(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function mx(n,e,t,i,r){if(u_(n,e,i,t(i,r)))n.updateValue(i,r);else{let s=n.create(i,r);n.attach(i,s)}}function yx(n,e,t,i){let r=new Set;for(let s=e;s<=t;s++)r.add(i(s,n.at(s)));return r}var Qf=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function In(n,e){Pr("NgControlFlow");let t=we(),i=Vo(),r=t[i]!==Xn?t[i]:-1,s=r!==-1?Yf(t,gn+r):void 0,o=0;if(yi(t,i,n)){let a=_e(null);try{if(s!==void 0&&IP(s,o),n!==-1){let c=gn+n,l=Yf(t,c),u=p_(t[le],c),h=pu(l,u.tView.ssrId),f=vp(t,u,e,{dehydratedView:h});_p(l,f,o,fu(u,h))}}finally{_e(a)}}else if(s!==void 0){let a=EP(s,o);a!==void 0&&(a[tn]=e)}}var d_=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-nn}};function Eu(n){return n}var h_=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function jo(n,e,t,i,r,s,o,a,c,l,u,h,f){Pr("NgControlFlow");let g=we(),y=Dt(),v=c!==void 0,_=we(),S=a?o.bind(_[mi][tn]):o,x=new h_(v,S);_[gn+n]=x,s_(g,y,n+1,e,t,i,r,Ss(y.consts,s)),v&&s_(g,y,n+2,c,l,u,h,Ss(y.consts,f))}var f_=class extends l_{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-nn}at(e){return this.getLView(e)[tn].$implicit}attach(e,t){let i=t[uu];this.needsIndexUpdate||=e!==this.length,_p(this.lContainer,t,e,fu(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,A4(this.lContainer,e)}create(e,t){let i=pu(this.lContainer,this.templateTNode.tView.ssrId),r=vp(this.hostLView,this.templateTNode,new d_(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){fp(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[tn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[tn].$index=e}getLView(e){return x4(this.lContainer,e)}};function Uo(n){let e=_e(null),t=Sr();try{let i=we(),r=i[le],s=i[t],o=t+1,a=Yf(i,o);if(s.liveCollection===void 0){let l=p_(r,o);s.liveCollection=new f_(a,i,l)}else s.liveCollection.reset();let c=s.liveCollection;if(S4(c,n,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let l=Vo(),u=c.length===0;if(yi(i,l,u)){let h=t+2,f=Yf(i,h);if(u){let g=p_(r,h),y=pu(f,g.tView.ssrId),v=vp(i,g,void 0,{dehydratedView:y});_p(f,v,0,fu(g,y))}else IP(f,0)}}}finally{_e(e)}}function Yf(n,e){return n[e]}function A4(n,e){return hu(n,e)}function x4(n,e){return EP(n,e)}function p_(n,e){return A_(n,e)}function M4(n,e,t,i,r,s){let o=e.consts,a=Ss(o,r),c=wu(e,n,2,i,a);return nb(e,t,c,Ss(o,s)),c.attrs!==null&&Hf(c,c.attrs,!1),c.mergedAttrs!==null&&Hf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function N(n,e,t,i){let r=we(),s=Dt(),o=gn+n,a=r[wt],c=s.firstCreatePass?M4(o,s,r,e,t,i):s.data[o],l=P4(s,r,c,a,e,n);r[o]=l;let u=ip(c);return Lo(c,!0),cP(a,l,c),!e4(c)&&cp()&&pp(s,r,l,c),Rj()===0&&As(l,r),kj(),u&&(X_(s,r,c),Z_(s,c,r)),i!==null&&J_(r,c),N}function P(){let n=sn();M_()?aM():(n=n.parent,Lo(n,!1));let e=n;Fj(e)&&Lj(),Nj();let t=Dt();return t.firstCreatePass&&(up(t,n),S_(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Xj(e)&&c_(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Jj(e)&&c_(t,e,we(),e.stylesWithoutHost,!1),P}function J(n,e,t,i){return N(n,e,t,i),P(),J}var P4=(n,e,t,i,r,s)=>(lp(!0),tP(i,r,Kj()));function R4(n,e,t,i,r){let s=e.consts,o=Ss(s,i),a=wu(e,n,8,"ng-container",o);o!==null&&Hf(a,o,!0);let c=Ss(s,r);return nb(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Iu(n,e,t){let i=we(),r=Dt(),s=n+gn,o=r.firstCreatePass?R4(s,r,i,e,t):r.data[s];Lo(o,!0);let a=k4(r,i,o,n);return i[s]=a,cp()&&pp(r,i,a,o),As(a,i),ip(o)&&(X_(r,i,o),Z_(r,o,i)),t!=null&&J_(i,o),Iu}function Cu(){let n=sn(),e=Dt();return M_()?aM():(n=n.parent,Lo(n,!1)),e.firstCreatePass&&(up(e,n),S_(n)&&e.queries.elementEnd(n)),Cu}function db(n,e,t){return Iu(n,e,t),Cu(),db}var k4=(n,e,t,i)=>(lp(!0),r5(e[wt],""));function Lt(){return we()}function hb(n,e,t){let i=we(),r=Vo();if(yi(i,r,e)){let s=Dt(),o=ap(),a=lM(s.data),c=G5(a,o,i);tb(s,o,i,n,e,c,t,!0)}return hb}var To=void 0;function N4(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var O4=["en",[["a","p"],["AM","PM"],To],[["AM","PM"],To,To],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],To,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],To,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",To,"{1} 'at' {0}",To],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",N4],uv={};function Jn(n){let e=F4(n),t=vx(e);if(t)return t;let i=e.split("-")[0];if(t=vx(i),t)return t;if(i==="en")return O4;throw new z(701,!1)}function vx(n){return n in uv||(uv[n]=_r.ng&&_r.ng.common&&_r.ng.common.locales&&_r.ng.common.locales[n]),uv[n]}var Tt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Tt||{});function F4(n){return n.toLowerCase().replace(/_/g,"-")}var Zf="en-US";var L4=Zf;function V4(n){typeof n=="string"&&(L4=n.toLowerCase().replace(/_/g,"-"))}var B4=(n,e,t)=>{};function ue(n,e,t,i){let r=we(),s=Dt(),o=sn();return WP(s,r,r[wt],o,n,e,i),ue}function j4(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Rf],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function WP(n,e,t,i,r,s,o){let a=ip(i),l=n.firstCreatePass&&_P(n),u=e[tn],h=vP(e),f=!0;if(i.type&3||o){let v=Yn(i,e),_=o?o(v):v,S=h.length,x=o?F=>o(Li(F[i.index])):i.index,k=null;if(!o&&a&&(k=j4(n,e,r,i.index)),k!==null){let F=k.__ngLastListenerFn__||k;F.__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1}else{s=bx(i,e,u,s),B4(v,r,s);let F=t.listen(_,r,s);h.push(s,F),l&&l.push(r,x,S,S+1)}}else s=bx(i,e,u,s);let g=i.outputs,y;if(f&&g!==null&&(y=g[r])){let v=y.length;if(v)for(let _=0;_<v;_+=2){let S=y[_],x=y[_+1],L=e[S][x].subscribe(s),O=h.length;h.push(s,L),l&&l.push(r,i.index,O,-(O+1))}}}function _x(n,e,t,i){let r=_e(null);try{return ki(6,e,t),t(i)!==!1}catch(s){return bP(n,s),!1}finally{ki(7,e,t),_e(r)}}function bx(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Rs(n.index,e):e;sb(o,5);let a=_x(e,t,i,s),c=r.__ngNextListenerFn__;for(;c;)a=_x(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function Qe(n=1){return Gj(n)}function GP(n,e,t){OP(n,e,t)}function fb(n){let e=we(),t=Dt(),i=R_();op(i+1);let r=cb(t,i);if(n.dirty&&Aj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=FP(e,i);n.reset(s,RM),n.notifyOnChanges()}return!0}return!1}function pb(){return ab(we(),R_())}function $o(n,e,t,i){z$(n,OP(e,t,i))}function bc(n=1){op(R_()+n)}function U4(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Rr(n){let e=Bj();return eM(e,gn+n)}function B(n,e=""){let t=we(),i=Dt(),r=n+gn,s=i.firstCreatePass?wu(i,r,1,e,null):i.data[r],o=$4(i,t,s,e,n);t[r]=o,cp()&&pp(i,t,o,s),Lo(s,!1)}var $4=(n,e,t,i,r)=>(lp(!0),n5(e[wt],i));function kr(n){return Ye("",n,""),kr}function Ye(n,e,t){let i=we(),r=s4(i,n,e,t);return r!==Xn&&wP(i,Sr(),r),Ye}function gb(n,e,t,i,r,s,o,a,c,l,u,h,f){let g=we(),y=o4(g,n,e,t,i,r,s,o,a,c,l,u,h,f);return y!==Xn&&wP(g,Sr(),y),gb}function Os(n,e,t){LP(e)&&(e=e());let i=we(),r=Vo();if(yi(i,r,e)){let s=Dt(),o=ap();tb(s,o,i,n,e,i[wt],t,!1)}return Os}function zo(n,e){let t=LP(n);return t&&n.set(e),t}function Fs(n,e){let t=we(),i=Dt(),r=sn();return WP(i,t,t[wt],r,n,e),Fs}function z4(n,e,t){let i=Dt();if(i.firstCreatePass){let r=wr(n);g_(t,i.data,i.blueprint,r,!0),g_(e,i.data,i.blueprint,r,!1)}}function g_(n,e,t,i,r){if(n=hn(n),Array.isArray(n))for(let s=0;s<n.length;s++)g_(n[s],e,t,i,r);else{let s=Dt(),o=we(),a=sn(),c=lc(n)?n:hn(n.provide),l=Gx(n),u=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(lc(n)||!n.multi){let g=new ko(l,r,ne),y=hv(c,e,r?u:u+f,h);y===-1?(Sv(Vf(a,o),s,c),dv(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(g),o.push(g)):(t[y]=g,o[y]=g)}else{let g=hv(c,e,u+f,h),y=hv(c,e,u,u+f),v=g>=0&&t[g],_=y>=0&&t[y];if(r&&!_||!r&&!v){Sv(Vf(a,o),s,c);let S=W4(r?q4:H4,t.length,r,i,l);!r&&_&&(t[y].providerFactory=S),dv(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(S),o.push(S)}else{let S=KP(t[r?y:g],l,!r&&i);dv(s,n,g>-1?g:y,S)}!r&&i&&_&&t[y].componentProviders++}}}function dv(n,e,t,i){let r=lc(e),s=fj(e);if(r||s){let c=(s?hn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function KP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function hv(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function H4(n,e,t,i){return m_(this.multi,[])}function q4(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=No(t,t[le],this.providerFactory.index,i);s=a.slice(0,o),m_(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],m_(r,s);return s}function m_(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function W4(n,e,t,i,r){let s=new ko(n,t,ne);return s.multi=[],s.index=e,s.componentProviders=0,KP(s,r,i&&!t),s}function Nr(n,e=[]){return t=>{t.providersResolver=(i,r)=>z4(i,r?r(n):n,e)}}var G4=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Hx(!1,t.type),r=i.length>0?ub([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Z({token:n,providedIn:"environment",factory:()=>new n(re(Gn))})}}return n})();function Me(n){Pr("NgStandalone"),n.getStandaloneInjector=e=>e.get(G4).getOrCreateStandaloneInjector(n)}function K4(n,e){let t=n[e];return t===Xn?void 0:t}function Q4(n,e,t,i,r,s,o){let a=e+t;return Gf(n,a,r,s)?X$(n,a+2,o?i.call(o,r,s):i(r,s)):K4(n,a+2)}function Or(n,e){let t=Dt(),i,r=n+gn;t.firstCreatePass?(i=Y4(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=Ao(i.type,!0)),o,a=bn(ne);try{let c=Lf(!1),l=s();return Lf(c),U4(t,we(),r,l),l}finally{bn(a)}}function Y4(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Fr(n,e,t,i){let r=n+gn,s=we(),o=eM(s,r);return Z4(s,r)?Q4(s,jj(),e,o.transform,t,i,o):o.transform(t,i)}function Z4(n,e){return n[le].data[e].pure}var Cr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},QP=new Cr("18.2.8");var wp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var YP=new ee("");function Ho(n){return!!n&&typeof n.then=="function"}function ZP(n){return!!n&&typeof n.subscribe=="function"}var XP=new ee(""),JP=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=j(XP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let s=r();if(Ho(s))t.push(s);else if(ZP(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mb=new ee("");function X4(){rA(()=>{throw new z(600,!1)})}function J4(n){return n.isBoundToModule}var e3=10;function t3(n,e,t){try{let i=t();return Ho(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var wi=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(vU),this.afterRenderManager=j(r4),this.zonelessEnabled=j(bp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=j(yc).hasPendingTasks.pipe(Ie(t=>!t)),this._injector=j(Gn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof zf;if(!this._injector.get(JP).done){let f=!r&&jx(t),g=!1;throw new z(405,g)}let o;r?o=t:o=this._injector.get(xs).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=J4(o)?void 0:this._injector.get(Ps),c=i||o.selector,l=o.create(Ut.NULL,[],c,a),u=l.location.nativeElement,h=l.injector.get(YP,null);return h?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Tf(this.components,l),h?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let t=_e(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,_e(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ms,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<e3;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)n3(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>rp(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Tf(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(mb,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Tf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Tf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function n3(n,e,t,i){if(!t&&!rp(n))return;TP(n,e,t&&!i?0:1)}var y_=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},yb=(()=>{class n{compileModuleSync(t){return new r_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=Ux(t),s=eP(r.declarations).reduce((o,a)=>{let c=Ts(a);return c&&o.push(new pc(c)),o},[]);return new y_(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var i3=(()=>{class n{constructor(){this.zone=j(Oe),this.changeDetectionScheduler=j(fc),this.applicationRef=j(wi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),r3=new ee("",{factory:()=>!1});function e1({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Oe(se($({},n1()),{scheduleInRootZone:t})),[{provide:Oe,useFactory:n},{provide:cc,multi:!0,useFactory:()=>{let i=j(i3,{optional:!0});return()=>i.initialize()}},{provide:cc,multi:!0,useFactory:()=>{let i=j(s3);return()=>{i.initialize()}}},e===!0?{provide:MP,useValue:!0}:[],{provide:PP,useValue:t??SM}]}function t1(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=e1({ngZoneFactory:()=>{let r=n1(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Pr("NgZone_CoalesceEvent"),new Oe(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Kn([{provide:r3,useValue:!0},{provide:bp,useValue:!1},i])}function n1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var s3=(()=>{class n{constructor(){this.subscription=new bt,this.initialized=!1,this.zone=j(Oe),this.pendingTasks=j(yc)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var o3=(()=>{class n{constructor(){this.appRef=j(wi),this.taskService=j(yc),this.ngZone=j(Oe),this.zonelessEnabled=j(bp),this.disableScheduling=j(MP,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new bt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(PP,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rv||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?KA:AM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,KA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function a3(){return typeof $localize<"u"&&$localize.locale||Zf}var Ep=new ee("",{providedIn:"root",factory:()=>j(Ep,be.Optional|be.SkipSelf)||a3()});var v_=new ee("");function wf(n){return!n.moduleRef}function c3(n){let e=wf(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{wf(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Vi,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),wf(n)){let s=()=>e.destroy(),o=n.platformInjector.get(v_);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(v_);o.add(s),n.moduleRef.onDestroy(()=>{Tf(n.allPlatformModules,n.moduleRef),r.unsubscribe(),o.delete(s)})}return t3(i,t,()=>{let s=e.get(JP);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ep,Zf);if(V4(o||Zf),wf(n)){let a=e.get(wi);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return l3(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function l3(n,e){let t=n.injector.get(wi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new z(-403,!1);e.push(n)}var Sf=null;function u3(n=[],e){return Ut.create({name:e,providers:[{provide:ep,useValue:"platform"},{provide:v_,useValue:new Set([()=>Sf=null])},...n]})}function d3(n=[]){if(Sf)return Sf;let e=u3(n);return Sf=e,X4(),h3(e),e}function h3(n){n.get(U_,null)?.forEach(t=>t())}var qo=(()=>{class n{static{this.__NG_ELEMENT_ID__=f3}}return n})();function f3(n){return p3(sn(),we(),(n&16)===16)}function p3(n,e,t){if(np(n)&&!t){let i=Rs(n.index,e);return new Oo(i,i)}else if(n.type&175){let i=e[mi];return new Oo(i,e)}return null}function i1(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=d3(i),s=[e1({}),{provide:fc,useExisting:o3},...t||[]],o=new Wf({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return c3({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function Ls(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function wc(n,e){Pr("NgSignals");let t=A0(n);return e?.equal&&(t[Hn].equal=e.equal),t}function Hi(n){let e=_e(null);try{return n()}finally{_e(e)}}function r1(n){let e=Ts(n);if(!e)return null;let t=new pc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var l1=null;function Br(){return l1}function u1(n){l1??=n}var Pp=class{};var $t=new ee(""),d1=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:()=>j(g3),providedIn:"platform"})}}return n})();var g3=(()=>{class n extends d1{constructor(){super(),this._doc=j($t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Br().getBaseHref(this._doc)}onPopState(t){let i=Br().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Br().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function h1(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function s1(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Wo(n){return n&&n[0]!=="?"?"?"+n:n}var Ec=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:()=>j(f1),providedIn:"root"})}}return n})(),m3=new ee(""),f1=(()=>{class n extends Ec{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??j($t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return h1(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Wo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Wo(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Wo(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(re(d1),re(m3,8))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Du=(()=>{class n{constructor(t){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=_3(s1(o1(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Wo(i))}normalize(t){return n.stripTrailingSlash(v3(this._basePath,o1(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Wo}static{this.joinWithSlash=h1}static{this.stripTrailingSlash=s1}static{this.\u0275fac=function(i){return new(i||n)(re(Ec))}}static{this.\u0275prov=Z({token:n,factory:()=>y3(),providedIn:"root"})}}return n})();function y3(){return new Du(re(Ec))}function v3(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function o1(n){return n.replace(/\/index.html$/,"")}function _3(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var mn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(mn||{}),tt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(tt||{}),On=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(On||{}),Vs={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function b3(n){return Jn(n)[Tt.LocaleId]}function w3(n,e,t){let i=Jn(n),r=[i[Tt.DayPeriodsFormat],i[Tt.DayPeriodsStandalone]],s=ei(r,e);return ei(s,t)}function E3(n,e,t){let i=Jn(n),r=[i[Tt.DaysFormat],i[Tt.DaysStandalone]],s=ei(r,e);return ei(s,t)}function I3(n,e,t){let i=Jn(n),r=[i[Tt.MonthsFormat],i[Tt.MonthsStandalone]],s=ei(r,e);return ei(s,t)}function C3(n,e){let i=Jn(n)[Tt.Eras];return ei(i,e)}function Ip(n,e){let t=Jn(n);return ei(t[Tt.DateFormat],e)}function Cp(n,e){let t=Jn(n);return ei(t[Tt.TimeFormat],e)}function Dp(n,e){let i=Jn(n)[Tt.DateTimeFormat];return ei(i,e)}function Np(n,e){let t=Jn(n),i=t[Tt.NumberSymbols][e];if(typeof i>"u"){if(e===Vs.CurrencyDecimal)return t[Tt.NumberSymbols][Vs.Decimal];if(e===Vs.CurrencyGroup)return t[Tt.NumberSymbols][Vs.Group]}return i}function p1(n){if(!n[Tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function D3(n){let e=Jn(n);return p1(e),(e[Tt.ExtraData][2]||[]).map(i=>typeof i=="string"?vb(i):[vb(i[0]),vb(i[1])])}function T3(n,e,t){let i=Jn(n);p1(i);let r=[i[Tt.ExtraData][0],i[Tt.ExtraData][1]],s=ei(r,e)||[];return ei(s,t)||[]}function ei(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function vb(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var S3=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tp={},A3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Vr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Vr||{}),ze=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(ze||{}),$e=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}($e||{});function x3(n,e,t,i){let r=V3(n);e=Lr(t,e)||e;let o=[],a;for(;e;)if(a=A3.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let c=r.getTimezoneOffset();i&&(c=m1(i,c),r=L3(r,i,!0));let l="";return o.forEach(u=>{let h=O3(u);l+=h?h(r,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Rp(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Lr(n,e){let t=b3(n);if(Tp[t]??={},Tp[t][e])return Tp[t][e];let i="";switch(e){case"shortDate":i=Ip(n,On.Short);break;case"mediumDate":i=Ip(n,On.Medium);break;case"longDate":i=Ip(n,On.Long);break;case"fullDate":i=Ip(n,On.Full);break;case"shortTime":i=Cp(n,On.Short);break;case"mediumTime":i=Cp(n,On.Medium);break;case"longTime":i=Cp(n,On.Long);break;case"fullTime":i=Cp(n,On.Full);break;case"short":let r=Lr(n,"shortTime"),s=Lr(n,"shortDate");i=Sp(Dp(n,On.Short),[r,s]);break;case"medium":let o=Lr(n,"mediumTime"),a=Lr(n,"mediumDate");i=Sp(Dp(n,On.Medium),[o,a]);break;case"long":let c=Lr(n,"longTime"),l=Lr(n,"longDate");i=Sp(Dp(n,On.Long),[c,l]);break;case"full":let u=Lr(n,"fullTime"),h=Lr(n,"fullDate");i=Sp(Dp(n,On.Full),[u,h]);break}return i&&(Tp[t][e]=i),i}function Sp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Ei(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function M3(n,e){return Ei(n,3).substring(0,e)}function At(n,e,t=0,i=!1,r=!1){return function(s,o){let a=P3(n,s);if((t>0||a>-t)&&(a+=t),n===ze.Hours)a===0&&t===-12&&(a=12);else if(n===ze.FractionalSeconds)return M3(a,e);let c=Np(o,Vs.MinusSign);return Ei(a,e,c,i,r)}}function P3(n,e){switch(n){case ze.FullYear:return e.getFullYear();case ze.Month:return e.getMonth();case ze.Date:return e.getDate();case ze.Hours:return e.getHours();case ze.Minutes:return e.getMinutes();case ze.Seconds:return e.getSeconds();case ze.FractionalSeconds:return e.getMilliseconds();case ze.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function ot(n,e,t=mn.Format,i=!1){return function(r,s){return R3(r,s,n,e,t,i)}}function R3(n,e,t,i,r,s){switch(t){case $e.Months:return I3(e,r,i)[n.getMonth()];case $e.Days:return E3(e,r,i)[n.getDay()];case $e.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let l=D3(e),u=T3(e,r,i),h=l.findIndex(f=>{if(Array.isArray(f)){let[g,y]=f,v=o>=g.hours&&a>=g.minutes,_=o<y.hours||o===y.hours&&a<y.minutes;if(g.hours<y.hours){if(v&&_)return!0}else if(v||_)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return w3(e,r,i)[o<12?0:1];case $e.Eras:return C3(e,i)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Ap(n){return function(e,t,i){let r=-1*i,s=Np(t,Vs.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Vr.Short:return(r>=0?"+":"")+Ei(o,2,s)+Ei(Math.abs(r%60),2,s);case Vr.ShortGMT:return"GMT"+(r>=0?"+":"")+Ei(o,1,s);case Vr.Long:return"GMT"+(r>=0?"+":"")+Ei(o,2,s)+":"+Ei(Math.abs(r%60),2,s);case Vr.Extended:return i===0?"Z":(r>=0?"+":"")+Ei(o,2,s)+":"+Ei(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var k3=0,Mp=4;function N3(n){let e=Rp(n,k3,1).getDay();return Rp(n,0,1+(e<=Mp?Mp:Mp+7)-e)}function g1(n){let e=n.getDay(),t=e===0?-3:Mp-e;return Rp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function _b(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=g1(t),o=N3(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Ei(r,n,Np(i,Vs.MinusSign))}}function xp(n,e=!1){return function(t,i){let s=g1(t).getFullYear();return Ei(s,n,Np(i,Vs.MinusSign),e)}}var bb={};function O3(n){if(bb[n])return bb[n];let e;switch(n){case"G":case"GG":case"GGG":e=ot($e.Eras,tt.Abbreviated);break;case"GGGG":e=ot($e.Eras,tt.Wide);break;case"GGGGG":e=ot($e.Eras,tt.Narrow);break;case"y":e=At(ze.FullYear,1,0,!1,!0);break;case"yy":e=At(ze.FullYear,2,0,!0,!0);break;case"yyy":e=At(ze.FullYear,3,0,!1,!0);break;case"yyyy":e=At(ze.FullYear,4,0,!1,!0);break;case"Y":e=xp(1);break;case"YY":e=xp(2,!0);break;case"YYY":e=xp(3);break;case"YYYY":e=xp(4);break;case"M":case"L":e=At(ze.Month,1,1);break;case"MM":case"LL":e=At(ze.Month,2,1);break;case"MMM":e=ot($e.Months,tt.Abbreviated);break;case"MMMM":e=ot($e.Months,tt.Wide);break;case"MMMMM":e=ot($e.Months,tt.Narrow);break;case"LLL":e=ot($e.Months,tt.Abbreviated,mn.Standalone);break;case"LLLL":e=ot($e.Months,tt.Wide,mn.Standalone);break;case"LLLLL":e=ot($e.Months,tt.Narrow,mn.Standalone);break;case"w":e=_b(1);break;case"ww":e=_b(2);break;case"W":e=_b(1,!0);break;case"d":e=At(ze.Date,1);break;case"dd":e=At(ze.Date,2);break;case"c":case"cc":e=At(ze.Day,1);break;case"ccc":e=ot($e.Days,tt.Abbreviated,mn.Standalone);break;case"cccc":e=ot($e.Days,tt.Wide,mn.Standalone);break;case"ccccc":e=ot($e.Days,tt.Narrow,mn.Standalone);break;case"cccccc":e=ot($e.Days,tt.Short,mn.Standalone);break;case"E":case"EE":case"EEE":e=ot($e.Days,tt.Abbreviated);break;case"EEEE":e=ot($e.Days,tt.Wide);break;case"EEEEE":e=ot($e.Days,tt.Narrow);break;case"EEEEEE":e=ot($e.Days,tt.Short);break;case"a":case"aa":case"aaa":e=ot($e.DayPeriods,tt.Abbreviated);break;case"aaaa":e=ot($e.DayPeriods,tt.Wide);break;case"aaaaa":e=ot($e.DayPeriods,tt.Narrow);break;case"b":case"bb":case"bbb":e=ot($e.DayPeriods,tt.Abbreviated,mn.Standalone,!0);break;case"bbbb":e=ot($e.DayPeriods,tt.Wide,mn.Standalone,!0);break;case"bbbbb":e=ot($e.DayPeriods,tt.Narrow,mn.Standalone,!0);break;case"B":case"BB":case"BBB":e=ot($e.DayPeriods,tt.Abbreviated,mn.Format,!0);break;case"BBBB":e=ot($e.DayPeriods,tt.Wide,mn.Format,!0);break;case"BBBBB":e=ot($e.DayPeriods,tt.Narrow,mn.Format,!0);break;case"h":e=At(ze.Hours,1,-12);break;case"hh":e=At(ze.Hours,2,-12);break;case"H":e=At(ze.Hours,1);break;case"HH":e=At(ze.Hours,2);break;case"m":e=At(ze.Minutes,1);break;case"mm":e=At(ze.Minutes,2);break;case"s":e=At(ze.Seconds,1);break;case"ss":e=At(ze.Seconds,2);break;case"S":e=At(ze.FractionalSeconds,1);break;case"SS":e=At(ze.FractionalSeconds,2);break;case"SSS":e=At(ze.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ap(Vr.Short);break;case"ZZZZZ":e=Ap(Vr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ap(Vr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ap(Vr.Long);break;default:return null}return bb[n]=e,e}function m1(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function F3(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function L3(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),s=m1(e,r);return F3(n,i*(s-r))}function V3(n){if(a1(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return Rp(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(S3))return B3(i)}let e=new Date(n);if(!a1(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function B3(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,c,l),e}function a1(n){return n instanceof Date&&!isNaN(n.valueOf())}function y1(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Tu=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new wb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){c1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){c1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(ne($i),ne(hc))}}static{this.\u0275dir=pt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),wb=class{constructor(){this.$implicit=null,this.ngIf=null}};function c1(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${pn(e)}'.`)}function j3(n,e){return new z(2100,!1)}var U3="mediumDate",$3=new ee(""),z3=new ee(""),Ic=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(t==null||t===""||t!==t)return null;try{let o=i??this.defaultOptions?.dateFormat??U3,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return x3(t,o,s||this.locale,a)}catch(o){throw j3(n,o.message)}}static{this.\u0275fac=function(i){return new(i||n)(ne(Ep,16),ne($3,24),ne(z3,24))}}static{this.\u0275pipe=Lx({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Su=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ji({type:n})}static{this.\u0275inj=Bi({})}}return n})(),v1="browser",H3="server";function Eb(n){return n===H3}var kp=class{};var Db=class extends Pp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Tb=class n extends Db{static makeCurrent(){u1(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=W3();return t==null?null:G3(t)}resetBaseElement(){Au=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return y1(document.cookie,e)}},Au=null;function W3(){return Au=Au||document.querySelector("base"),Au?Au.getAttribute("href"):null}function G3(n){return new URL(n,document.baseURI).pathname}var K3=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),Sb=new ee(""),w1=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(re(Sb),re(Oe))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),Op=class{constructor(e){this._doc=e}},Ib="ng-app-id",E1=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Eb(s),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Ib}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Ib),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Ib,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(re($t),re(j_),re(z_,8),re(Ns))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),Cb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xb=/%COMP%/g,I1="%COMP%",Q3=`_nghost-${I1}`,Y3=`_ngcontent-${I1}`,Z3=!0,X3=new ee("",{providedIn:"root",factory:()=>Z3});function J3(n){return Y3.replace(xb,n)}function ez(n){return Q3.replace(xb,n)}function C1(n,e){return e.map(t=>t.replace(xb,n))}var Fp=(()=>{class n{constructor(t,i,r,s,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Eb(a),this.defaultRenderer=new xu(t,o,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Oi.ShadowDom&&(i=se($({},i),{encapsulation:Oi.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Lp?r.applyToHost(t):r instanceof Mu&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Oi.Emulated:s=new Lp(c,l,i,this.appId,u,o,a,h);break;case Oi.ShadowDom:return new Ab(c,l,t,i,o,a,this.nonce,h);default:s=new Mu(c,l,i,u,o,a,h);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(re(w1),re(E1),re(j_),re(X3),re($t),re(Ns),re(Oe),re(z_))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),xu=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Cb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_1(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(_1(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new z(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=Cb[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Cb[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ir.DashCase|Ir.Important)?e.style.setProperty(t,i,r&Ir.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ir.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Br().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function _1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ab=class extends xu{constructor(e,t,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=C1(r.id,r.styles);for(let u of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mu=class extends xu{constructor(e,t,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?C1(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Lp=class extends Mu{constructor(e,t,i,r,s,o,a,c){let l=r+"-"+i.id;super(e,t,i,s,o,a,c,l),this.contentAttr=J3(l),this.hostAttr=ez(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},tz=(()=>{class n extends Op{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(re($t))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),b1=["alt","control","meta","shift"],nz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iz={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},rz=(()=>{class n extends Op{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),b1.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),o+=l+".")}),o+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(t,i){let r=nz[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),b1.forEach(o=>{if(o!==r){let a=iz[o];a(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(re($t))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();function D1(n,e){return i1($({rootComponent:n},sz(e)))}function sz(n){return{appProviders:[...uz,...n?.providers??[]],platformProviders:lz}}function oz(){Tb.makeCurrent()}function az(){return new Vi}function cz(){return VM(document),document}var lz=[{provide:Ns,useValue:v1},{provide:U_,useValue:oz,multi:!0},{provide:$t,useFactory:cz,deps:[]}];var uz=[{provide:ep,useValue:"root"},{provide:Vi,useFactory:az,deps:[]},{provide:Sb,useClass:tz,multi:!0,deps:[$t,Oe,Ns]},{provide:Sb,useClass:rz,multi:!0,deps:[$t]},Fp,E1,w1,{provide:Ms,useExisting:Fp},{provide:kp,useClass:K3,deps:[]},[]];var T1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(re($t))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Mb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=re(dz),r},providedIn:"root"})}}return n})(),dz=(()=>{class n extends Mb{constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case kn.NONE:return i;case kn.HTML:return Ar(i,"HTML")?Zn(i):q_(this._doc,String(i)).toString();case kn.STYLE:return Ar(i,"Style")?Zn(i):i;case kn.SCRIPT:if(Ar(i,"Script"))return Zn(i);throw new z(5200,!1);case kn.URL:return Ar(i,"URL")?Zn(i):hp(String(i));case kn.RESOURCE_URL:if(Ar(i,"ResourceURL"))return Zn(i);throw new z(5201,!1);default:throw new z(5202,!1)}}bypassSecurityTrustHtml(t){return $M(t)}bypassSecurityTrustStyle(t){return zM(t)}bypassSecurityTrustScript(t){return HM(t)}bypassSecurityTrustUrl(t){return qM(t)}bypassSecurityTrustResourceUrl(t){return WM(t)}static{this.\u0275fac=function(i){return new(i||n)(re($t))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ye="primary",Wu=Symbol("RouteTitle"),Ob=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function xc(n){return new Ob(n)}function hz(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function fz(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qi(n[t],e[t]))return!1;return!0}function qi(n,e){let t=n?Fb(n):void 0,i=e?Fb(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!F1(n[r],e[r]))return!1;return!0}function Fb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function F1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function L1(n){return n.length>0?n[n.length-1]:null}function js(n){return z0(n)?n:Ho(n)?Ct(Promise.resolve(n)):fe(n)}var pz={exact:B1,subset:j1},V1={exact:gz,subset:mz,ignored:()=>!0};function A1(n,e,t){return pz[t.paths](n.root,e.root,t.matrixParams)&&V1[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function gz(n,e){return qi(n,e)}function B1(n,e,t){if(!Ko(n.segments,e.segments)||!jp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!B1(n.children[i],e.children[i],t))return!1;return!0}function mz(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>F1(n[t],e[t]))}function j1(n,e,t){return U1(n,e,e.segments,t)}function U1(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Ko(r,t)||e.hasChildren()||!jp(r,t,i))}else if(n.segments.length===t.length){if(!Ko(n.segments,t)||!jp(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!j1(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Ko(n.segments,r)||!jp(n.segments,r,i)||!n.children[ye]?!1:U1(n.children[ye],e,s,i)}}function jp(n,e,t){return e.every((i,r)=>V1[t](n[r].parameters,i.parameters))}var Ur=class{constructor(e=new He([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=xc(this.queryParams),this._queryParamMap}toString(){return _z.serialize(this)}},He=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Up(this)}},Go=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=xc(this.parameters),this._parameterMap}toString(){return z1(this)}};function yz(n,e){return Ko(n,e)&&n.every((t,i)=>qi(t.parameters,e[i].parameters))}function Ko(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function vz(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ye&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ye&&(t=t.concat(e(r,i)))}),t}var cw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:()=>new Lu,providedIn:"root"})}}return n})(),Lu=class{parse(e){let t=new Vb(e);return new Ur(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Pu(e.root,!0)}`,i=Ez(e.queryParams),r=typeof e.fragment=="string"?`#${bz(e.fragment)}`:"";return`${t}${i}${r}`}},_z=new Lu;function Up(n){return n.segments.map(e=>z1(e)).join("/")}function Pu(n,e){if(!n.hasChildren())return Up(n);if(e){let t=n.children[ye]?Pu(n.children[ye],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==ye&&i.push(`${r}:${Pu(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=vz(n,(i,r)=>r===ye?[Pu(n.children[ye],!1)]:[`${r}:${Pu(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${Up(n)}/${t[0]}`:`${Up(n)}/(${t.join("//")})`}}function $1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vp(n){return $1(n).replace(/%3B/gi,";")}function bz(n){return encodeURI(n)}function Lb(n){return $1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $p(n){return decodeURIComponent(n)}function x1(n){return $p(n.replace(/\+/g,"%20"))}function z1(n){return`${Lb(n.path)}${wz(n.parameters)}`}function wz(n){return Object.entries(n).map(([e,t])=>`;${Lb(e)}=${Lb(t)}`).join("")}function Ez(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Vp(t)}=${Vp(r)}`).join("&"):`${Vp(t)}=${Vp(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Iz=/^[^\/()?;#]+/;function Pb(n){let e=n.match(Iz);return e?e[0]:""}var Cz=/^[^\/()?;=#]+/;function Dz(n){let e=n.match(Cz);return e?e[0]:""}var Tz=/^[^=?&#]+/;function Sz(n){let e=n.match(Tz);return e?e[0]:""}var Az=/^[^&#]+/;function xz(n){let e=n.match(Az);return e?e[0]:""}var Vb=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ye]=new He(e,t)),i}parseSegment(){let e=Pb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Go($p(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Dz(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Pb(this.remaining);r&&(i=r,this.capture(i))}e[$p(t)]=$p(i)}parseQueryParam(e){let t=Sz(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=xz(this.remaining);o&&(i=o,this.capture(i))}let r=x1(t),s=x1(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Pb(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new z(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ye]:new He([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function H1(n){return n.segments.length>0?new He([],{[ye]:n}):n}function q1(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=q1(r);if(i===ye&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new He(n.segments,e);return Mz(t)}function Mz(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new He(n.segments.concat(e.segments),e.children)}return n}function Qo(n){return n instanceof Ur}function Pz(n,e,t=null,i=null){let r=W1(n);return G1(r,e,t,i)}function W1(n){let e;function t(s){let o={};for(let c of s.children){let l=t(c);o[c.outlet]=l}let a=new He(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=H1(i);return e??r}function G1(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Rb(r,r,r,t,i);let s=Rz(e);if(s.toRoot())return Rb(r,r,new He([],{}),t,i);let o=kz(s,r,n),a=o.processChildren?Nu(o.segmentGroup,o.index,s.commands):Q1(o.segmentGroup,o.index,s.commands);return Rb(r,o.segmentGroup,a,t,i)}function zp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Vu(n){return typeof n=="object"&&n!=null&&n.outlets}function Rb(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;n===e?o=t:o=K1(n,e,t);let a=H1(q1(o));return new Ur(a,s,r)}function K1(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=K1(s,e,t)}),new He(n.segments,i)}var Hp=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&zp(i[0]))throw new z(4003,!1);let r=i.find(Vu);if(r&&r!==L1(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rz(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hp(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Hp(t,e,i)}var Tc=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function kz(n,e,t){if(n.isAbsolute)return new Tc(e,!0,0);if(!t)return new Tc(e,!1,NaN);if(t.parent===null)return new Tc(t,!0,0);let i=zp(n.commands[0])?0:1,r=t.segments.length-1+i;return Nz(t,r,n.numberOfDoubleDots)}function Nz(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new Tc(i,!1,r-s)}function Oz(n){return Vu(n[0])?n[0].outlets:{[ye]:n}}function Q1(n,e,t){if(n??=new He([],{}),n.segments.length===0&&n.hasChildren())return Nu(n,e,t);let i=Fz(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new He(n.segments.slice(0,i.pathIndex),{});return s.children[ye]=new He(n.segments.slice(i.pathIndex),n.children),Nu(s,0,r)}else return i.match&&r.length===0?new He(n.segments,{}):i.match&&!n.hasChildren()?Bb(n,e,t):i.match?Nu(n,0,r):Bb(n,e,t)}function Nu(n,e,t){if(t.length===0)return new He(n.segments,{});{let i=Oz(t),r={};if(Object.keys(i).some(s=>s!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let s=Nu(n.children[ye],e,t);return new He(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Q1(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new He(n.segments,r)}}function Fz(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(Vu(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!P1(c,l,o))return s;i+=2}else{if(!P1(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Bb(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Vu(s)){let c=Lz(s.outlets);return new He(i,c)}if(r===0&&zp(t[0])){let c=n.segments[e];i.push(new Go(c.path,M1(t[0]))),r++;continue}let o=Vu(s)?s.outlets[ye]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&zp(a)?(i.push(new Go(o,M1(a))),r+=2):(i.push(new Go(o,{})),r++)}return new He(i,{})}function Lz(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=Bb(new He([],{}),0,i))}),e}function M1(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function P1(n,e,t){return n==t.path&&qi(e,t.parameters)}var Ou="imperative",Kt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Kt||{}),ti=class{constructor(e,t){this.id=e,this.url=t}},Bu=class extends ti{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Kt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bs=class extends ti{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Kt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ln=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ln||{}),jb=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(jb||{}),jr=class extends ti{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Kt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yo=class extends ti{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Kt.NavigationSkipped}},ju=class extends ti{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Kt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qp=class extends ti{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Kt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ub=class extends ti{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Kt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$b=class extends ti{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Kt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zb=class extends ti{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Kt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hb=class extends ti{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Kt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qb=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wb=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gb=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kb=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qb=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yb=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Uu=class{},Mc=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Vz(n,e){return n.providers&&!n._injector&&(n._injector=ub(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ii(n){return n.outlet||ye}function Bz(n,e){let t=n.filter(i=>Ii(i)===e);return t.push(...n.filter(i=>Ii(i)!==e)),t}function Gu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zb=class{get injector(){return Gu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Xp(this.rootInjector),this.attachRef=null}},Xp=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Zb(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(re(Gn))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Xb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Xb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Jb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Jb(e,this._root).map(t=>t.value)}};function Xb(n,e){if(n===e.value)return e;for(let t of e.children){let i=Xb(n,t);if(i)return i}return null}function Jb(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Jb(n,t);if(i.length)return i.unshift(e),i}return[]}var Fn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Dc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Gp=class extends Wp{constructor(e,t){super(e),this.snapshot=t,lw(this,e)}toString(){return this.snapshot.toString()}};function Y1(n){let e=jz(n),t=new Gt([new Go("",{})]),i=new Gt({}),r=new Gt({}),s=new Gt({}),o=new Gt(""),a=new Zo(t,i,s,o,r,ye,n,e.root);return a.snapshot=e.root,new Gp(new Fn(a,[]),e)}function jz(n){let e={},t={},i={},r="",s=new Sc([],e,i,r,t,ye,n,null,{});return new Qp("",new Fn(s,[]))}var Zo=class{constructor(e,t,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ie(l=>l[Wu]))??fe(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ie(e=>xc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ie(e=>xc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kp(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($($($({},n.data),e.data),r?.data),n._resolvedData)}:i={params:$({},n.params),data:$({},n.data),resolve:$($({},n.data),n._resolvedData??{})},r&&X1(r)&&(i.resolve[Wu]=r.title),i}var Sc=class{get title(){return this.data?.[Wu]}constructor(e,t,i,r,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Qp=class extends Wp{constructor(e,t){super(t),this.url=e,lw(this,t)}toString(){return Z1(this._root)}};function lw(n,e){e.value._routerState=n,e.children.forEach(t=>lw(n,t))}function Z1(n){let e=n.children.length>0?` { ${n.children.map(Z1).join(", ")} } `:"";return`${n.value}${e}`}function kb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),qi(e.params,t.params)||n.paramsSubject.next(t.params),fz(e.url,t.url)||n.urlSubject.next(t.url),qi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ew(n,e){let t=qi(n.params,e.params)&&yz(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||ew(n.parent,e.parent))}function X1(n){return typeof n.title=="string"||n.title===null}var Ku=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=j(Xp),this.location=j($i),this.changeDetector=j(qo),this.inputBinder=j(Jp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new tw(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=pt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]})}}return n})(),tw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Zo?this.route:e===Xp?this.childContexts:this.parent.get(e,t)}},Jp=new ee(""),R1=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=nu([i.queryParams,i.params,i.data]).pipe(qn(([s,o,a],c)=>(a=$($($({},s),o),a),c===0?fe(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let o=r1(i.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();function Uz(n,e,t){let i=$u(n,e._root,t?t._root:void 0);return new Gp(i,e)}function $u(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=$z(n,e,t);return new Fn(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>$u(n,a)),o}}let i=zz(e.value),r=e.children.map(s=>$u(n,s));return new Fn(i,r)}}function $z(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return $u(n,i,r);return $u(n,i)})}function zz(n){return new Zo(new Gt(n.url),new Gt(n.params),new Gt(n.queryParams),new Gt(n.fragment),new Gt(n.data),n.outlet,n.component,n)}var zu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},J1="ngNavigationCancelingError";function Yp(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Qo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=eR(!1,Ln.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function eR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[J1]=!0,t.cancellationCode=e,t}function Hz(n){return tR(n)&&Qo(n.url)}function tR(n){return!!n&&n[J1]}var qz=(n,e,t,i)=>Ie(r=>(new nw(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),nw=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),kb(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Dc(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Dc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Dc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Dc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Yb(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kb(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(kb(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),kb(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Zp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ac=class{constructor(e,t){this.component=e,this.route=t}};function Wz(n,e,t){let i=n._root,r=e?e._root:null;return Ru(i,r,t,[i.value])}function Gz(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Rc(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!Dx(n)?n:e.get(n):i}function Ru(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Dc(e);return n.children.forEach(o=>{Kz(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Fu(a,t.getContext(o),r)),r}function Kz(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Qz(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Zp(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ru(n,e,a?a.children:null,i,r):Ru(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ac(a.outlet.component,o))}else o&&Fu(e,a,r),r.canActivateChecks.push(new Zp(i)),s.component?Ru(n,null,a?a.children:null,i,r):Ru(n,null,t,i,r);return r}function Qz(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ko(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ko(n.url,e.url)||!qi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ew(n,e)||!qi(n.queryParams,e.queryParams);case"paramsChange":default:return!ew(n,e)}}function Fu(n,e,t){let i=Dc(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Fu(o,e.children.getContext(s),t):Fu(o,null,t):Fu(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ac(e.outlet.component,r)):t.canDeactivateChecks.push(new Ac(null,r)):t.canDeactivateChecks.push(new Ac(null,r))}function Qu(n){return typeof n=="function"}function Yz(n){return typeof n=="boolean"}function Zz(n){return n&&Qu(n.canLoad)}function Xz(n){return n&&Qu(n.canActivate)}function Jz(n){return n&&Qu(n.canActivateChild)}function eH(n){return n&&Qu(n.canDeactivate)}function tH(n){return n&&Qu(n.canMatch)}function nR(n){return n instanceof yr||n?.name==="EmptyError"}var Bp=Symbol("INITIAL_VALUE");function Pc(){return qn(n=>nu(n.map(e=>e.pipe(vr(1),Y0(Bp)))).pipe(Ie(e=>{for(let t of e)if(t!==!0){if(t===Bp)return Bp;if(t===!1||nH(t))return t}return!0}),di(e=>e!==Bp),vr(1)))}function nH(n){return Qo(n)||n instanceof zu}function iH(n,e){return Ot(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?fe(se($({},t),{guardsResult:!0})):rH(o,i,r,n).pipe(Ot(a=>a&&Yz(a)?sH(i,s,n,e):fe(a)),Ie(a=>se($({},t),{guardsResult:a})))})}function rH(n,e,t,i){return Ct(n).pipe(Ot(r=>uH(r.component,r.route,t,e,i)),Ri(r=>r!==!0,!0))}function sH(n,e,t,i){return Ct(e).pipe(ec(r=>Ja(aH(r.route.parent,i),oH(r.route,i),lH(n,r.path,t),cH(n,r.route,t))),Ri(r=>r!==!0,!0))}function oH(n,e){return n!==null&&e&&e(new Qb(n)),fe(!0)}function aH(n,e){return n!==null&&e&&e(new Gb(n)),fe(!0)}function cH(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return fe(!0);let r=i.map(s=>ff(()=>{let o=Gu(e)??t,a=Rc(s,o),c=Xz(a)?a.canActivate(e,n):Dr(o,()=>a(e,n));return js(c).pipe(Ri())}));return fe(r).pipe(Pc())}function lH(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Gz(o)).filter(o=>o!==null).map(o=>ff(()=>{let a=o.guards.map(c=>{let l=Gu(o.node)??t,u=Rc(c,l),h=Jz(u)?u.canActivateChild(i,n):Dr(l,()=>u(i,n));return js(h).pipe(Ri())});return fe(a).pipe(Pc())}));return fe(s).pipe(Pc())}function uH(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return fe(!0);let o=s.map(a=>{let c=Gu(e)??r,l=Rc(a,c),u=eH(l)?l.canDeactivate(n,e,t,i):Dr(c,()=>l(n,e,t,i));return js(u).pipe(Ri())});return fe(o).pipe(Pc())}function dH(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return fe(!0);let s=r.map(o=>{let a=Rc(o,n),c=Zz(a)?a.canLoad(e,t):Dr(n,()=>a(e,t));return js(c)});return fe(s).pipe(Pc(),iR(i))}function iR(n){return O0(Ft(e=>{if(typeof e!="boolean")throw Yp(n,e)}),Ie(e=>e===!0))}function hH(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return fe(!0);let s=r.map(o=>{let a=Rc(o,n),c=tH(a)?a.canMatch(e,t):Dr(n,()=>a(e,t));return js(c)});return fe(s).pipe(Pc(),iR(i))}var Hu=class{constructor(e){this.segmentGroup=e||null}},qu=class extends Error{constructor(e){super(),this.urlTree=e}};function Cc(n){return Xa(new Hu(n))}function fH(n){return Xa(new z(4e3,!1))}function pH(n){return Xa(eR(!1,Ln.GuardRejected))}var iw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return fe(i);if(r.numberOfChildren>1||!r.children[ye])return fH(`${e.redirectTo}`);r=r.children[ye]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:h,outlet:f,params:g,data:y,title:v}=r,_=Dr(s,()=>a({params:g,data:y,queryParams:c,fragment:l,routeConfig:u,url:h,outlet:f,title:v}));if(_ instanceof Ur)throw new qu(_);t=_}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new qu(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new Ur(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new He(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},rw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gH(n,e,t,i,r){let s=rR(n,e,t);return s.matched?(i=Vz(e,i),hH(i,e,t,r).pipe(Ie(o=>o===!0?s:$({},rw)))):fe(s)}function rR(n,e,t){if(e.path==="**")return mH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?$({},rw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||hz)(t,n,e);if(!r)return $({},rw);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?$($({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function mH(n){return{matched:!0,parameters:n.length>0?L1(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function k1(n,e,t,i){return t.length>0&&_H(n,t,i)?{segmentGroup:new He(e,vH(i,new He(t,n.children))),slicedSegments:[]}:t.length===0&&bH(n,t,i)?{segmentGroup:new He(n.segments,yH(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new He(n.segments,n.children),slicedSegments:t}}function yH(n,e,t,i){let r={};for(let s of t)if(eg(n,e,s)&&!i[Ii(s)]){let o=new He([],{});r[Ii(s)]=o}return $($({},i),r)}function vH(n,e){let t={};t[ye]=e;for(let i of n)if(i.path===""&&Ii(i)!==ye){let r=new He([],{});t[Ii(i)]=r}return t}function _H(n,e,t){return t.some(i=>eg(n,e,i)&&Ii(i)!==ye)}function bH(n,e,t){return t.some(i=>eg(n,e,i))}function eg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function wH(n,e,t){return e.length===0&&!n.children[t]}var sw=class{};function EH(n,e,t,i,r,s,o="emptyOnly"){return new ow(n,e,t,i,r,o,s).recognize()}var IH=31,ow=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new iw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=k1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ie(({children:t,rootSnapshot:i})=>{let r=new Fn(i,t),s=new Qp("",r),o=Pz(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Sc([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,t).pipe(Ie(i=>({children:i,rootSnapshot:t})),bs(i=>{if(i instanceof qu)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Hu?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(Ie(o=>o instanceof Fn?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Ct(s).pipe(ec(o=>{let a=i.children[o],c=Bz(t,o);return this.processSegmentGroup(e,c,a,o,r)}),Q0((o,a)=>(o.push(...a),o)),ws(null),K0(),Ot(o=>{if(o===null)return Cc(i);let a=sR(o);return CH(a),fe(a)}))}processSegment(e,t,i,r,s,o,a){return Ct(t).pipe(ec(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,s,o,a).pipe(bs(l=>{if(l instanceof Hu)return fe(null);throw l}))),Ri(c=>!!c),bs(c=>{if(nR(c))return wH(i,r,s)?fe(new sw):Cc(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,c){return Ii(i)!==o&&(o===ye||!eg(r,s,i))?Cc(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,c):Cc(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:h,remainingSegments:f}=rR(t,r,s);if(!c)return Cc(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>IH&&(this.allowRedirects=!1));let g=new Sc(s,l,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,N1(r),Ii(r),r.component??r._loadedComponent??null,r,O1(r)),y=Kp(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let v=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,h,g,e);return this.applyRedirects.lineralizeSegments(r,v).pipe(Ot(_=>this.processSegment(e,i,t,_.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=gH(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(qn(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(qn(({routes:l})=>{let u=i._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:g}=c,y=new Sc(f,h,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,N1(i),Ii(i),i.component??i._loadedComponent??null,i,O1(i)),v=Kp(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:S}=k1(t,f,g,l);if(S.length===0&&_.hasChildren())return this.processChildren(u,l,_,y).pipe(Ie(k=>new Fn(y,k)));if(l.length===0&&S.length===0)return fe(new Fn(y,[]));let x=Ii(i)===s;return this.processSegment(u,l,_,S,x?ye:s,!0,y).pipe(Ie(k=>new Fn(y,k instanceof Fn?[k]:[])))}))):Cc(t)))}getChildConfig(e,t,i){return t.children?fe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?fe({routes:t._loadedRoutes,injector:t._loadedInjector}):dH(e,t,i,this.urlSerializer).pipe(Ot(r=>r?this.configLoader.loadChildren(e,t).pipe(Ft(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):pH(t))):fe({routes:[],injector:e})}};function CH(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function DH(n){let e=n.value.routeConfig;return e&&e.path===""}function sR(n){let e=[],t=new Set;for(let i of n){if(!DH(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=sR(i.children);e.push(new Fn(i.value,r))}return e.filter(i=>!t.has(i))}function N1(n){return n.data||{}}function O1(n){return n.resolve||{}}function TH(n,e,t,i,r,s){return Ot(o=>EH(n,e,t,i,o.extractedUrl,r,s).pipe(Ie(({state:a,tree:c})=>se($({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function SH(n,e){return Ot(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return fe(t);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of oR(c))o.add(l);let a=0;return Ct(o).pipe(ec(c=>s.has(c)?AH(c,i,n,e):(c.data=Kp(c,c.parent,n).resolve,fe(void 0))),Ft(()=>a++),tc(1),Ot(c=>a===o.size?fe(t):Rn))})}function oR(n){let e=n.children.map(t=>oR(t)).flat();return[n,...e]}function AH(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!X1(r)&&(s[Wu]=r.title),xH(s,n,e,i).pipe(Ie(o=>(n._resolvedData=o,n.data=Kp(n,n.parent,t).resolve,null)))}function xH(n,e,t,i){let r=Fb(n);if(r.length===0)return fe({});let s={};return Ct(r).pipe(Ot(o=>MH(n[o],e,t,i).pipe(Ri(),Ft(a=>{if(a instanceof zu)throw Yp(new Lu,a);s[o]=a}))),tc(1),G0(s),bs(o=>nR(o)?Rn:Xa(o)))}function MH(n,e,t,i){let r=Gu(e)??i,s=Rc(n,r),o=s.resolve?s.resolve(e,t):Dr(r,()=>s(e,t));return js(o)}function Nb(n){return qn(e=>{let t=n(e);return t?Ct(t).pipe(Ie(()=>e)):fe(e)})}var aR=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ye);return i}getResolvedTitleForRoute(t){return t.data[Wu]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:()=>j(PH),providedIn:"root"})}}return n})(),PH=(()=>{class n extends aR{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(re(T1))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uw=new ee("",{providedIn:"root",factory:()=>({})}),RH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=xe({type:n,selectors:[["ng-component"]],standalone:!0,features:[Me],decls:1,vars:0,template:function(i,r){i&1&&J(0,"router-outlet")},dependencies:[Ku],encapsulation:2})}}return n})();function dw(n){let e=n.children&&n.children.map(dw),t=e?se($({},n),{children:e}):$({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=RH),t}var hw=new ee(""),kH=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(yb)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return fe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=js(t.loadComponent()).pipe(Ie(cR),Ft(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),iu(()=>{this.componentLoaders.delete(t)})),r=new Ga(i,()=>new rt).pipe(Wa());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return fe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=NH(i,this.compiler,t,this.onLoadEndListener).pipe(iu(()=>{this.childrenLoaders.delete(i)})),o=new Ga(s,()=>new rt).pipe(Wa());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function NH(n,e,t,i){return js(n.loadChildren()).pipe(Ie(cR),Ot(r=>r instanceof mu||Array.isArray(r)?fe(r):Ct(e.compileModuleAsync(r))),Ie(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(hw,[],{optional:!0,self:!0}).flat()),{routes:o.map(dw),injector:s}}))}function OH(n){return n&&typeof n=="object"&&"default"in n}function cR(n){return OH(n)?n.default:n}var fw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:()=>j(FH),providedIn:"root"})}}return n})(),FH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LH=new ee("");var VH=new ee(""),BH=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=j(kH),this.environmentInjector=j(Gn),this.urlSerializer=j(cw),this.rootContexts=j(Xp),this.location=j(Du),this.inputBindingEnabled=j(Jp,{optional:!0})!==null,this.titleStrategy=j(aR),this.options=j(uw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(fw),this.createViewTransition=j(LH,{optional:!0}),this.navigationErrorHandler=j(VH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>fe(void 0),this.rootComponentType=null;let t=r=>this.events.next(new qb(r)),i=r=>this.events.next(new Wb(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(se($($({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Gt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ou,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(di(s=>s.id!==0),Ie(s=>se($({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),qn(s=>{let o=!1,a=!1;return fe(s).pipe(qn(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ln.SupersededByNewNavigation),Rn;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?se($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let h="";return this.events.next(new Yo(c.id,this.urlSerializer.serialize(c.rawUrl),h,jb.IgnoredSameUrlNavigation)),c.resolve(!1),Rn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return fe(c).pipe(qn(h=>{let f=this.transitions?.getValue();return this.events.next(new Bu(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Rn:Promise.resolve(h)}),TH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ft(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=se($({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new qp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:y,extras:v}=c,_=new Bu(h,this.urlSerializer.serialize(f),g,y);this.events.next(_);let S=Y1(this.rootComponentType).snapshot;return this.currentTransition=s=se($({},c),{targetSnapshot:S,urlAfterRedirects:f,extras:se($({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,fe(s)}else{let h="";return this.events.next(new Yo(c.id,this.urlSerializer.serialize(c.extractedUrl),h,jb.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Rn}}),Ft(c=>{let l=new Ub(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ie(c=>(this.currentTransition=s=se($({},c),{guards:Wz(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),iH(this.environmentInjector,c=>this.events.next(c)),Ft(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Yp(this.urlSerializer,c.guardsResult);let l=new $b(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),di(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ln.GuardRejected),!1)),Nb(c=>{if(c.guards.canActivateChecks.length)return fe(c).pipe(Ft(l=>{let u=new zb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),qn(l=>{let u=!1;return fe(l).pipe(SH(this.paramsInheritanceStrategy,this.environmentInjector),Ft({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Ln.NoDataFromResolver)}}))}),Ft(l=>{let u=new Hb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Nb(c=>{let l=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ft(f=>{u.component=f}),Ie(()=>{})));for(let f of u.children)h.push(...l(f));return h};return nu(l(c.targetSnapshot.root)).pipe(ws(null),vr(1))}),Nb(()=>this.afterPreactivation()),qn(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Ct(u).pipe(Ie(()=>s)):fe(s)}),Ie(c=>{let l=Uz(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=se($({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ft(()=>{this.events.next(new Uu)}),qz(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),vr(1),Ft({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Z0(this.transitionAbortSubject.pipe(Ft(c=>{throw c}))),iu(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ln.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),bs(c=>{if(a=!0,tR(c))this.events.next(new jr(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),Hz(c)?this.events.next(new Mc(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let l=new ju(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let u=Dr(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof zu){let{message:h,cancellationCode:f}=Yp(this.urlSerializer,u);this.events.next(new jr(s.id,this.urlSerializer.serialize(s.extractedUrl),h,f)),this.events.next(new Mc(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let h=t.errorHandler(c);s.resolve(!!h)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Rn}))}))}cancelNavigationTransition(t,i,r){let s=new jr(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jH(n){return n!==Ou}var UH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:()=>j($H),providedIn:"root"})}}return n})(),aw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},$H=(()=>{class n extends aw{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ks(n)))(r||n)}})()}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:()=>j(zH),providedIn:"root"})}}return n})(),zH=(()=>{class n extends lR{constructor(){super(...arguments),this.location=j(Du),this.urlSerializer=j(cw),this.options=j(uw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(fw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ur,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Y1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Bu)this.stateMemento=this.createStateMemento();else if(t instanceof Yo)this.rawUrlTree=i.initialUrl;else if(t instanceof qp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof Uu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof jr&&(t.code===Ln.GuardRejected||t.code===Ln.NoDataFromResolver)?this.restoreHistory(i):t instanceof ju?this.restoreHistory(i,!0):t instanceof Bs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof Ur?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=$($({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=$($({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ks(n)))(r||n)}})()}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ku=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ku||{});function HH(n,e){n.events.pipe(di(t=>t instanceof Bs||t instanceof jr||t instanceof ju||t instanceof Yo),Ie(t=>t instanceof Bs||t instanceof Yo?ku.COMPLETE:(t instanceof jr?t.code===Ln.Redirect||t.code===Ln.SupersededByNewNavigation:!1)?ku.REDIRECTING:ku.FAILED),di(t=>t!==ku.REDIRECTING),vr(1)).subscribe(()=>{e()})}function qH(n){throw n}var WH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(wp),this.stateManager=j(lR),this.options=j(uw,{optional:!0})||{},this.pendingTasks=j(yc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(BH),this.urlSerializer=j(cw),this.location=j(Du),this.urlHandlingStrategy=j(fw),this._events=new rt,this.errorHandler=this.options.errorHandler||qH,this.navigated=!1,this.routeReuseStrategy=j(UH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(hw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Jp,{optional:!0}),this.eventsSubscription=new bt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof jr&&i.code!==Ln.Redirect&&i.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bs)this.navigated=!0;else if(i instanceof Mc){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=$({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jH(r.source)},o);this.scheduleNavigation(a,Ou,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}QH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ou,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let c=$({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(dw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=$($({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=r?r.snapshot:this.routerState.snapshot.root;h=W1(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return G1(h,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Qo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Ou,null,i)}navigate(t,i={skipLocationChange:!1}){return KH(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=$({},WH):i===!1?r=$({},GH):r=i,Qo(t))return A1(this.currentUrlTree,t,r);let s=this.parseUrl(t);return A1(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((h,f)=>{a=h,c=f});let u=this.pendingTasks.add();return HH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function QH(n){return!(n instanceof Uu)&&!(n instanceof Mc)}var Wi=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Bs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:XM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Qo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(ne(Vn),ne(Zo),F_("tabindex"),ne(Mr),ne(En),ne(Ec))}}static{this.\u0275dir=pt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&ue("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&zi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ls],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ls],replaceUrl:[2,"replaceUrl","replaceUrl",Ls],routerLink:"routerLink"},standalone:!0,features:[lb,Qn]})}}return n})();var YH=new ee("");function uR(n,...e){return Kn([{provide:hw,multi:!0,useValue:n},[],{provide:Zo,useFactory:ZH,deps:[Vn]},{provide:mb,multi:!0,useFactory:JH},e.map(t=>t.\u0275providers)])}function ZH(n){return n.routerState.root}function XH(n,e){return{\u0275kind:n,\u0275providers:e}}function JH(){let n=j(Ut);return e=>{let t=n.get(wi);if(e!==t.components[0])return;let i=n.get(Vn),r=n.get(e6);n.get(t6)===1&&i.initialNavigation(),n.get(n6,null,be.Optional)?.setUpPreloading(),n.get(YH,null,be.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var e6=new ee("",{factory:()=>new rt}),t6=new ee("",{providedIn:"root",factory:()=>1});var n6=new ee("");function dR(){return XH(8,[R1,{provide:Jp,useExisting:R1}])}var fR=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},i6=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(f=64)),i.push(t[u],t[h],t[f],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let l=r<n.length?t[n.charAt(r)]:64;++r;let h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||l==null||h==null)throw new gw;let f=s<<2|a>>4;if(i.push(f),l!==64){let g=a<<4&240|l>>2;if(i.push(g),h!==64){let y=l<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},gw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},r6=function(n){let e=fR(n);return pR.encodeByteArray(e,!0)},Yu=function(n){return r6(n).replace(/\./g,"")},yw=function(n){try{return pR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function s6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var o6=()=>s6().__FIREBASE_DEFAULTS__,a6=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},c6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&yw(n[1]);return e&&JSON.parse(e)},ng=()=>{try{return o6()||a6()||c6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vw=n=>{var e,t;return(t=(e=ng())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gR=n=>{let e=vw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_w=()=>{var n;return(n=ng())===null||n===void 0?void 0:n.config},bw=n=>{var e;return(e=ng())===null||e===void 0?void 0:e[`_${n}`]};var tg=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function mR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yu(JSON.stringify(t)),Yu(JSON.stringify(o)),""].join(".")}function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function l6(){var n;let e=(n=ng())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _R(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){let n=zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ER(){return!l6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ww(){try{return typeof indexedDB=="object"}catch{return!1}}function IR(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var u6="FirebaseError",Bn=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=u6,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}},$r=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?d6(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Bn(r,a,i)}};function d6(n,e){return n.replace(h6,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var h6=/\{\$([^}]+)}/g;function CR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xo(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(hR(s)&&hR(o)){if(!Xo(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function hR(n){return n!==null&&typeof n=="object"}function Zu(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function kc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Nc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function DR(n,e){let t=new mw(n,e);return t.subscribe.bind(t)}var mw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");f6(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=pw),r.error===void 0&&(r.error=pw),r.complete===void 0&&(r.complete=pw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function f6(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pw(){}var Cce=4*60*60*1e3;function xt(n){return n&&n._delegate?n._delegate:n}var ni=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Jo="[DEFAULT]";var Ew=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new tg;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g6(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:p6(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p6(n){return n===Jo?void 0:n}function g6(n){return n.instantiationMode==="EAGER"}var ig=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ew(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var m6=[],Se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Se||{}),y6={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},v6=Se.INFO,_6={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},b6=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=_6[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Us=class{constructor(e){this.name=e,this._logLevel=v6,this._logHandler=b6,this._userLogHandler=null,m6.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var w6=(n,e)=>e.some(t=>n instanceof t),TR,SR;function E6(){return TR||(TR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I6(){return SR||(SR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var AR=new WeakMap,Cw=new WeakMap,xR=new WeakMap,Iw=new WeakMap,Tw=new WeakMap;function C6(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Gi(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&AR.set(t,n)}).catch(()=>{}),Tw.set(e,n),e}function D6(n){if(Cw.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Cw.set(n,e)}var Dw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Cw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function MR(n){Dw=n(Dw)}function T6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(rg(this),e,...t);return xR.set(i,e.sort?e.sort():[e]),Gi(i)}:I6().includes(n)?function(...e){return n.apply(rg(this),e),Gi(AR.get(this))}:function(...e){return Gi(n.apply(rg(this),e))}}function S6(n){return typeof n=="function"?T6(n):(n instanceof IDBTransaction&&D6(n),w6(n,E6())?new Proxy(n,Dw):n)}function Gi(n){if(n instanceof IDBRequest)return C6(n);if(Iw.has(n))return Iw.get(n);let e=S6(n);return e!==n&&(Iw.set(n,e),Tw.set(e,n)),e}var rg=n=>Tw.get(n);function RR(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=Gi(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Gi(o.result),c.oldVersion,c.newVersion,Gi(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var A6=["get","getKey","getAll","getAllKeys","count"],x6=["put","add","delete","clear"],Sw=new Map;function PR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sw.get(e))return Sw.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=x6.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||A6.includes(t)))return;let s=function(o,...a){return C(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),r&&c.done]))[0]})};return Sw.set(e,s),s}MR(n=>se($({},n),{get:(e,t,i)=>PR(e,t)||n.get(e,t,i),has:(e,t)=>!!PR(e,t)||n.has(e,t)}));var xw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(M6(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function M6(n){let e=n.getComponent();return e?.type==="VERSION"}var Mw="@firebase/app",kR="0.10.13";var zr=new Us("@firebase/app"),P6="@firebase/app-compat",R6="@firebase/analytics-compat",k6="@firebase/analytics",N6="@firebase/app-check-compat",O6="@firebase/app-check",F6="@firebase/auth",L6="@firebase/auth-compat",V6="@firebase/database",B6="@firebase/data-connect",j6="@firebase/database-compat",U6="@firebase/functions",$6="@firebase/functions-compat",z6="@firebase/installations",H6="@firebase/installations-compat",q6="@firebase/messaging",W6="@firebase/messaging-compat",G6="@firebase/performance",K6="@firebase/performance-compat",Q6="@firebase/remote-config",Y6="@firebase/remote-config-compat",Z6="@firebase/storage",X6="@firebase/storage-compat",J6="@firebase/firestore",e9="@firebase/vertexai-preview",t9="@firebase/firestore-compat",n9="firebase",i9="10.14.1";var Pw="[DEFAULT]",r9={[Mw]:"fire-core",[P6]:"fire-core-compat",[k6]:"fire-analytics",[R6]:"fire-analytics-compat",[O6]:"fire-app-check",[N6]:"fire-app-check-compat",[F6]:"fire-auth",[L6]:"fire-auth-compat",[V6]:"fire-rtdb",[B6]:"fire-data-connect",[j6]:"fire-rtdb-compat",[U6]:"fire-fn",[$6]:"fire-fn-compat",[z6]:"fire-iid",[H6]:"fire-iid-compat",[q6]:"fire-fcm",[W6]:"fire-fcm-compat",[G6]:"fire-perf",[K6]:"fire-perf-compat",[Q6]:"fire-rc",[Y6]:"fire-rc-compat",[Z6]:"fire-gcs",[X6]:"fire-gcs-compat",[J6]:"fire-fst",[t9]:"fire-fst-compat",[e9]:"fire-vertex","fire-js":"fire-js",[n9]:"fire-js-all"};var Xu=new Map,s9=new Map,Rw=new Map;function NR(n,e){try{n.container.addComponent(e)}catch(t){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zs(n){let e=n.name;if(Rw.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;Rw.set(e,n);for(let t of Xu.values())NR(t,n);for(let t of s9.values())NR(t,n);return!0}function ed(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ci(n){return n.settings!==void 0}var o9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new $r("app","Firebase",o9);var kw=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}};var Hs=i9;function Fw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Pw,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw $s.create("bad-app-name",{appName:String(r)});if(t||(t=_w()),!t)throw $s.create("no-options");let s=Xu.get(r);if(s){if(Xo(t,s.options)&&Xo(i,s.config))return s;throw $s.create("duplicate-app",{appName:r})}let o=new ig(r);for(let c of Rw.values())o.addComponent(c);let a=new kw(t,i,o);return Xu.set(r,a),a}function Oc(n=Pw){let e=Xu.get(n);if(!e&&n===Pw&&_w())return Fw();if(!e)throw $s.create("no-app",{appName:n});return e}function sg(){return Array.from(Xu.values())}function Vt(n,e,t){var i;let r=(i=r9[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}zs(new ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var a9="firebase-heartbeat-database",c9=1,Ju="firebase-heartbeat-store",Aw=null;function VR(){return Aw||(Aw=RR(a9,c9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw $s.create("idb-open",{originalErrorMessage:n.message})})),Aw}function l9(n){return C(this,null,function*(){try{let t=(yield VR()).transaction(Ju),i=yield t.objectStore(Ju).get(BR(n));return yield t.done,i}catch(e){if(e instanceof Bn)zr.warn(e.message);else{let t=$s.create("idb-get",{originalErrorMessage:e?.message});zr.warn(t.message)}}})}function OR(n,e){return C(this,null,function*(){try{let i=(yield VR()).transaction(Ju,"readwrite");yield i.objectStore(Ju).put(e,BR(n)),yield i.done}catch(t){if(t instanceof Bn)zr.warn(t.message);else{let i=$s.create("idb-set",{originalErrorMessage:t?.message});zr.warn(i.message)}}})}function BR(n){return`${n.name}!${n.options.appId}`}var u9=1024,d9=30*24*60*60*1e3,Nw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ow(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=d9}),this._storage.overwrite(this._heartbeatsCache))}catch(i){zr.warn(i)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=FR(),{heartbeatsToSend:i,unsentEntries:r}=h9(this._heartbeatsCache.heartbeats),s=Yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return zr.warn(t),""}})}};function FR(){return new Date().toISOString().substring(0,10)}function h9(n,e=u9){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),LR(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),LR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Ow=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return ww()?IR().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield l9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return OR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return OR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function LR(n){return Yu(JSON.stringify({version:2,heartbeats:n})).length}function f9(n){zs(new ni("platform-logger",e=>new xw(e),"PRIVATE")),zs(new ni("heartbeat",e=>new Nw(e),"PRIVATE")),Vt(Mw,kR,n),Vt(Mw,kR,"esm2017"),Vt("fire-js","")}f9("");var p9="firebase",g9="10.14.1";Vt(p9,g9,"app");var ta=new Cr("ANGULARFIRE2_VERSION");function ag(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var td=(n,e)=>{let t=e?[e]:sg(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Lc=class{constructor(){return td(m9)}},m9="app-check";function Fc(){}var og=class{zone;delegate;constructor(e,t=U0){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},Lw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fc,{},Fc,Fc)),t.pipe(Ft({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Vc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new og(Zone.current)),this.insideAngular=t.run(()=>new og(Zone.current,Za)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(re(Oe))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cg(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function y9(n){return cg().ngZone.runOutsideAngular(()=>n())}function ea(n){return cg().ngZone.run(()=>n())}function v9(n){return _9(cg())(n)}function _9(n){return function(t){return t=t.lift(new Lw(n.ngZone)),t.pipe(_s(n.outsideAngular),vs(n.insideAngular))}}var b9=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ea(()=>n.apply(void 0,i))},Bt=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=ea(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fc,{},Fc,Fc))),i[s]=b9(i[s],t));let r=y9(()=>n.apply(this,i));if(!e)if(r instanceof De){let s=cg();return r.pipe(_s(s.outsideAngular),vs(s.insideAngular))}else return ea(()=>r);return r instanceof De?r.pipe(v9):r instanceof Promise?ea(()=>new Promise((s,o)=>r.then(a=>ea(()=>s(a)),a=>ea(()=>o(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:ea(()=>r)};var Hr=class{constructor(e){return e}},na=class{constructor(){return sg()}};function w9(n){return n&&n.length===1?n[0]:new Hr(Oc())}var Vw=new ee("angularfire2._apps"),E9={provide:Hr,useFactory:w9,deps:[[new wn,Vw]]},I9={provide:na,deps:[[new wn,Vw]]};function C9(n){return(e,t)=>{let i=t.get(Ns);Vt("angularfire",ta.full,"core"),Vt("angularfire",ta.full,"app"),Vt("angular",QP.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Hr(r)}}function jR(n,...e){return Kn([E9,I9,{provide:Vw,useFactory:C9(n),multi:!0,deps:[Oe,Ut,Vc,...e]}])}var UR=Bt(Fw,!0);function rk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sk=rk,ok=new $r("auth","Firebase",rk());var pg=new Us("@firebase/auth");function D9(n,...e){pg.logLevel<=Se.WARN&&pg.warn(`Auth (${Hs}): ${n}`,...e)}function ug(n,...e){pg.logLevel<=Se.ERROR&&pg.error(`Auth (${Hs}): ${n}`,...e)}function Qi(n,...e){throw aE(n,...e)}function ia(n,...e){return aE(n,...e)}function ak(n,e,t){let i=Object.assign(Object.assign({},sk()),{[e]:t});return new $r("auth","Firebase",i).create(e,{appName:n.name})}function Gr(n){return ak(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aE(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return ok.create(n,...e)}function ae(n,e,...t){if(!n)throw aE(e,...t)}function qr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ug(e),new Error(e)}function Ws(n,e){n||qr(e)}function $w(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function T9(){return $R()==="http:"||$R()==="https:"}function $R(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function S9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T9()||_R()||"connection"in navigator)?navigator.onLine:!0}function A9(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ra=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ws(t>e,"Short delay should be less than long delay!"),this.isMobile=yR()||bR()}get(){return S9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cE(n,e){Ws(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var gg=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var x9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var M9=new ra(3e4,6e4);function Gs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Kr(s,o,a,c){return C(this,arguments,function*(n,e,t,i,r={}){return ck(n,r,()=>C(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let h=Zu(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:f},l);return vR()||(g.referrerPolicy="no-referrer"),gg.fetch()(lk(n,n.config.apiHost,t,h),g)}))})}function ck(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},x9),e);try{let r=new zw(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw lg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw lg(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw lg(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw lg(n,"user-disabled",o);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ak(n,u,l);Qi(n,u)}}catch(r){if(r instanceof Bn)throw r;Qi(n,"network-request-failed",{message:String(r)})}})}function cd(s,o,a,c){return C(this,arguments,function*(n,e,t,i,r={}){let l=yield Kr(n,e,t,i,r);return"mfaPendingCredential"in l&&Qi(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function lk(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?cE(n.config,r):`${n.config.apiScheme}://${r}`}function P9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var zw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ia(this.auth,"network-request-failed")),M9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function lg(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=ia(n,e,i);return r.customData._tokenResponse=t,r}function zR(n){return n!==void 0&&n.enterprise!==void 0}var Hw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return P9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function R9(n,e){return C(this,null,function*(){return Kr(n,"GET","/v2/recaptchaConfig",Gs(n,e))})}function k9(n,e){return C(this,null,function*(){return Kr(n,"POST","/v1/accounts:delete",e)})}function uk(n,e){return C(this,null,function*(){return Kr(n,"POST","/v1/accounts:lookup",e)})}function nd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lE(n,e=!1){return C(this,null,function*(){let t=xt(n),i=yield t.getIdToken(e),r=uE(i);ae(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:nd(Bw(r.auth_time)),issuedAtTime:nd(Bw(r.iat)),expirationTime:nd(Bw(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bw(n){return Number(n)*1e3}function uE(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ug("JWT malformed, contained fewer than 3 sections"),null;try{let r=yw(t);return r?JSON.parse(r):(ug("Failed to decode base64 JWT payload"),null)}catch(r){return ug("Caught error parsing JWT payload as JSON",r?.toString()),null}}function HR(n){let e=uE(n);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Bc(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Bn&&N9(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function N9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var qw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var rd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mg(n){return C(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Bc(n,uk(t,{idToken:i}));ae(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?dk(s.providerUserInfo):[],a=O9(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,u=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rd(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function dE(n){return C(this,null,function*(){let e=xt(n);yield mg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function O9(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function dk(n){return n.map(e=>{var{providerId:t}=e,i=$0(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function F9(n,e){return C(this,null,function*(){let t=yield ck(n,{},()=>C(this,null,function*(){let i=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=lk(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gg.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function L9(n,e){return C(this,null,function*(){return Kr(n,"POST","/v2/accounts:revokeToken",Gs(n,e))})}var id=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ae(e.length!==0,"internal-error");let t=HR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield F9(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(ae(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ae(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return qr("not implemented")}};function qs(n,e){ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var jc=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=$0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rd(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield Bc(this,this.stsTokenManager.getToken(this.auth,e));return ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return lE(this,e)}reload(){return dE(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield mg(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Ci(this.auth.app))return Promise.reject(Gr(this.auth));let e=yield this.getIdToken();return yield Bc(this,k9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,c,l,u;let h=(i=t.displayName)!==null&&i!==void 0?i:void 0,f=(r=t.email)!==null&&r!==void 0?r:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,S=(l=t.createdAt)!==null&&l!==void 0?l:void 0,x=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:k,emailVerified:F,isAnonymous:L,providerData:O,stsTokenManager:I}=t;ae(k&&I,e,"internal-error");let b=id.fromJSON(this.name,I);ae(typeof k=="string",e,"internal-error"),qs(h,e.name),qs(f,e.name),ae(typeof F=="boolean",e,"internal-error"),ae(typeof L=="boolean",e,"internal-error"),qs(g,e.name),qs(y,e.name),qs(v,e.name),qs(_,e.name),qs(S,e.name),qs(x,e.name);let E=new n({uid:k,auth:e,email:f,emailVerified:F,displayName:h,isAnonymous:L,photoURL:y,phoneNumber:g,tenantId:v,stsTokenManager:b,createdAt:S,lastLoginAt:x});return O&&Array.isArray(O)&&(E.providerData=O.map(T=>Object.assign({},T))),_&&(E._redirectEventId=_),E}static _fromIdTokenResponse(e,t,i=!1){return C(this,null,function*(){let r=new id;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield mg(s),s})}static _fromGetAccountInfoResponse(e,t,i){return C(this,null,function*(){let r=t.users[0];ae(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?dk(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new id;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new rd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var qR=new Map;function Wr(n){Ws(n instanceof Function,"Expected a class definition");let e=qR.get(n);return e?(Ws(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qR.set(n,e),e)}var V9=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,i){return C(this,null,function*(){this.storage[t]=i})}_get(t){return C(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Ww=V9;function dg(n,e,t){return`firebase:${n}:${e}:${t}`}var yg=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=dg(this.userKey,r.apiKey,s),this.fullPersistenceKey=dg("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?jc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return C(this,null,function*(){if(!t.length)return new n(Wr(Ww),e,i);let r=(yield Promise.all(t.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||Wr(Ww),o=dg(i,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(o);if(u){let h=jc._fromJSON(e,u);l!==s&&(a=h),s=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>C(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,i))})}};function WR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yk(e))return"Blackberry";if(vk(e))return"Webos";if(fk(e))return"Safari";if((e.includes("chrome/")||pk(e))&&!e.includes("edge/"))return"Chrome";if(mk(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function hk(n=zt()){return/firefox\//i.test(n)}function fk(n=zt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pk(n=zt()){return/crios\//i.test(n)}function gk(n=zt()){return/iemobile/i.test(n)}function mk(n=zt()){return/android/i.test(n)}function yk(n=zt()){return/blackberry/i.test(n)}function vk(n=zt()){return/webos/i.test(n)}function hE(n=zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function B9(n=zt()){var e;return hE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j9(){return wR()&&document.documentMode===10}function _k(n=zt()){return hE(n)||mk(n)||vk(n)||yk(n)||/windows phone/i.test(n)||gk(n)}function bk(n,e=[]){let t;switch(n){case"Browser":t=WR(zt());break;case"Worker":t=`${WR(zt())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hs}/${i}`}var Gw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function U9(t){return C(this,arguments,function*(n,e={}){return Kr(n,"GET","/v2/passwordPolicy",Gs(n,e))})}var $9=6,Kw=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:$9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Qw=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vg(this),this.idTokenSubscription=new vg(this),this.beforeStateQueue=new Gw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ok,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield yg.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield uk(this,{idToken:e}),i=yield jc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(Ci(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield mg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=A9()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Ci(this.app))return Promise.reject(Gr(this));let t=e?xt(e):null;return t&&ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Ci(this.app)?Promise.reject(Gr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ci(this.app)?Promise.reject(Gr(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Wr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield U9(this),t=new Kw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $r("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield L9(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Wr(e)||this._popupRedirectResolver;ae(t,this,"argument-error"),this.redirectPersistenceManager=yield yg.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return C(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&D9(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function oa(n){return xt(n)}var vg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DR(t=>this.observer=t)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Dg={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z9(n){Dg=n}function wk(n){return Dg.loadJS(n)}function H9(){return Dg.recaptchaEnterpriseScript}function q9(){return Dg.gapiScript}function Ek(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var W9="recaptcha-enterprise",G9="NO_RECAPTCHA",Yw=class{constructor(e){this.type=W9,this.auth=oa(e)}verify(e="verify",t=!1){return C(this,null,function*(){function i(s){return C(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>C(this,null,function*(){R9(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Hw(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;zR(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(G9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!t&&zR(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=H9();c.length!==0&&(c+=a),wk(c).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function GR(n,e,t,i=!1){return C(this,null,function*(){let r=new Yw(n),s;try{s=yield r.verify(t)}catch{s=yield r.verify(t,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Zw(n,e,t,i){return C(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield GR(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(s=>C(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield GR(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(s)}))})}function fE(n,e){let t=ed(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(Xo(s,e??{}))return r;Qi(r,"already-initialized")}return t.initialize({options:e})}function K9(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Wr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function pE(n,e,t){let i=oa(n);ae(i._canInitEmulator,i,"emulator-config-failed"),ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=Ik(e),{host:o,port:a}=Q9(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Y9()}function Ik(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Q9(n){let e=Ik(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:KR(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:KR(o)}}}function KR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Y9(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var sd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}};function Z9(n,e){return C(this,null,function*(){return Kr(n,"POST","/v1/accounts:signUp",e)})}function X9(n,e){return C(this,null,function*(){return cd(n,"POST","/v1/accounts:signInWithPassword",Gs(n,e))})}function J9(n,e){return C(this,null,function*(){return cd(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))})}function e8(n,e){return C(this,null,function*(){return cd(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))})}var od=class n extends sd{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zw(e,t,"signInWithPassword",X9);case"emailLink":return J9(e,{email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}})}_linkToIdToken(e,t){return C(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zw(e,i,"signUpPassword",Z9);case"emailLink":return e8(e,{idToken:t,email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function jw(n,e){return C(this,null,function*(){return cd(n,"POST","/v1/accounts:signInWithIdp",Gs(n,e))})}function t8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n8(n){let e=kc(Nc(n)).link,t=e?kc(Nc(e)).deep_link_id:null,i=kc(Nc(n)).deep_link_id;return(i?kc(Nc(i)).link:null)||i||t||e||n}var _g=class n{constructor(e){var t,i,r,s,o,a;let c=kc(Nc(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,u=(i=c.oobCode)!==null&&i!==void 0?i:null,h=t8((r=c.mode)!==null&&r!==void 0?r:null);ae(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=n8(e);try{return new n(t)}catch{return null}}};var Ck=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return od._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=_g.parseLink(i);return ae(r,"argument-error"),od._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),bg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Xw=class extends bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function i8(n,e){return C(this,null,function*(){return cd(n,"POST","/v1/accounts:signUp",Gs(n,e))})}var Uc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return C(this,null,function*(){let s=yield jc._fromIdTokenResponse(e,i,r),o=QR(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return C(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=QR(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function QR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Jw=class n extends Bn{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function Dk(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jw._fromErrorAndOperation(n,s,e,i):s})}function r8(n,e,t=!1){return C(this,null,function*(){let i=yield Bc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Uc._forOperation(n,"link",i)})}function s8(n,e,t=!1){return C(this,null,function*(){let{auth:i}=n;if(Ci(i.app))return Promise.reject(Gr(i));let r="reauthenticate";try{let s=yield Bc(n,Dk(i,r,e,n),t);ae(s.idToken,i,"internal-error");let o=uE(s.idToken);ae(o,i,"internal-error");let{sub:a}=o;return ae(n.uid===a,i,"user-mismatch"),Uc._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Qi(i,"user-mismatch"),s}})}function Tk(n,e,t=!1){return C(this,null,function*(){if(Ci(n.app))return Promise.reject(Gr(n));let i="signIn",r=yield Dk(n,i,e),s=yield Uc._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function gE(n,e){return C(this,null,function*(){return Tk(oa(n),e)})}function Sk(n){return C(this,null,function*(){let e=oa(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function mE(n,e,t){return C(this,null,function*(){if(Ci(n.app))return Promise.reject(Gr(n));let i=oa(n),o=yield Zw(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i8).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Sk(n),c}),a=yield Uc._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function yE(n,e,t){return Ci(n.app)?Promise.reject(Gr(n)):gE(xt(n),Ck.credential(e,t)).catch(i=>C(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&Sk(n),i}))}function o8(n,e){return C(this,null,function*(){return Kr(n,"POST","/v1/accounts:update",e)})}function vE(i,r){return C(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=xt(n),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Bc(s,o8(s.auth,a));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;let l=s.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(c)})}function _E(n,e,t,i){return xt(n).onIdTokenChanged(e,t,i)}function bE(n,e,t){return xt(n).beforeAuthStateChanged(e,t)}function wE(n){return xt(n).signOut()}var wg="__sak";var Eg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wg,"1"),this.storage.removeItem(wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var a8=1e3,c8=10,l8=(()=>{class n extends Eg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_k(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=t.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);j9()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,c8):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},a8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return C(this,null,function*(){yield ms(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return C(this,null,function*(){let i=yield ms(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return C(this,null,function*(){yield ms(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Ak=l8;var u8=(()=>{class n extends Eg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),EE=u8;function d8(n){return Promise.all(n.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var h8=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(u=>C(this,null,function*(){return u(i.origin,o)})),l=yield d8(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function xk(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var eE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return C(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=xk("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Ki(){return window}function f8(n){Ki().location.href=n}function Mk(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}function p8(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function g8(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function m8(){return Mk()?self:null}var Pk="firebaseLocalStorageDb",y8=1,Ig="firebaseLocalStorage",Rk="fbase_key",sa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Tg(n,e){return n.transaction([Ig],e?"readwrite":"readonly").objectStore(Ig)}function v8(){let n=indexedDB.deleteDatabase(Pk);return new sa(n).toPromise()}function tE(){let n=indexedDB.open(Pk,y8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Ig,{keyPath:Rk})}catch(r){t(r)}}),n.addEventListener("success",()=>C(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Ig)?e(i):(i.close(),yield v8(),e(yield tE()))}))})}function YR(n,e,t){return C(this,null,function*(){let i=Tg(n,!0).put({[Rk]:e,value:t});return new sa(i).toPromise()})}function _8(n,e){return C(this,null,function*(){let t=Tg(n,!1).get(e),i=yield new sa(t).toPromise();return i===void 0?null:i.value})}function ZR(n,e){let t=Tg(n,!0).delete(e);return new sa(t).toPromise()}var b8=800,w8=3,E8=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield tE(),this.db)})}_withRetries(t){return C(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>w8)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return Mk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=h8._getInstance(m8()),this.receiver._subscribe("keyChanged",(t,i)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,i;if(this.activeServiceWorker=yield p8(),!this.activeServiceWorker)return;this.sender=new eE(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||g8()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield tE();return yield YR(t,wg,"1"),yield ZR(t,wg),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>YR(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let i=yield this._withRetries(r=>_8(r,t));return this.localCache[t]=i,i})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>ZR(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(s=>{let o=Tg(s,!1).getAll();return new sa(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),b8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),kk=E8;var yle=Ek("rcb"),vle=new ra(3e4,6e4);function I8(n,e){return e?Wr(e):(ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ad=class extends sd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function C8(n){return Tk(n.auth,new ad(n),n.bypassAuthState)}function D8(n){let{auth:e,user:t}=n;return ae(t,e,"internal-error"),s8(t,new ad(n),n.bypassAuthState)}function T8(n){return C(this,null,function*(){let{auth:e,user:t}=n;return ae(t,e,"internal-error"),r8(t,new ad(n),n.bypassAuthState)})}var nE=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C8;case"linkViaPopup":case"linkViaRedirect":return T8;case"reauthViaPopup":case"reauthViaRedirect":return D8;default:Qi(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var _le=new ra(2e3,1e4);var S8="pendingRedirect",hg=new Map,iE=class n extends nE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return C(this,null,function*(){let e=hg.get(this.auth._key());if(!e){try{let i=(yield A8(this.resolver,this.auth))?yield ms(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}hg.set(this.auth._key(),e)}return this.bypassAuthState||hg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return ms(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ms(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function A8(n,e){return C(this,null,function*(){let t=P8(e),i=M8(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function x8(n,e){hg.set(n._key(),e)}function M8(n){return Wr(n._redirectPersistence)}function P8(n){return dg(S8,n.config.apiKey,n.name)}function R8(n,e,t=!1){return C(this,null,function*(){if(Ci(n.app))return Promise.reject(Gr(n));let i=oa(n),r=I8(i,e),o=yield new iE(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var k8=10*60*1e3,rE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Nk(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ia(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k8&&this.cachedEventUids.clear(),this.cachedEventUids.has(XR(e))}saveEventToCache(e){this.cachedEventUids.add(XR(e)),this.lastProcessedEventTime=Date.now()}};function XR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Nk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function N8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nk(n);default:return!1}}function O8(t){return C(this,arguments,function*(n,e={}){return Kr(n,"GET","/v1/projects",e)})}var F8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L8=/^https?/;function V8(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield O8(n);for(let t of e)try{if(B8(t))return}catch{}Qi(n,"unauthorized-domain")})}function B8(n){let e=$w(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!L8.test(t))return!1;if(F8.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var j8=new ra(3e4,6e4);function JR(){let n=Ki().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function U8(n){return new Promise((e,t)=>{var i,r,s;function o(){JR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JR(),t(ia(n,"network-request-failed"))},timeout:j8.get()})}if(!((r=(i=Ki().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Ki().gapi)===null||s===void 0)&&s.load)o();else{let a=Ek("iframefcb");return Ki()[a]=()=>{gapi.load?o():t(ia(n,"network-request-failed"))},wk(`${q9()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw fg=null,e})}var fg=null;function $8(n){return fg=fg||U8(n),fg}var z8=new ra(5e3,15e3),H8="__/auth/iframe",q8="emulator/auth/iframe",W8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K8(n){let e=n.config;ae(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?cE(e,q8):`https://${n.config.authDomain}/${H8}`,i={apiKey:e.apiKey,appName:n.name,v:Hs},r=G8.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Zu(i).slice(1)}`}function Q8(n){return C(this,null,function*(){let e=yield $8(n),t=Ki().gapi;return ae(t,n,"internal-error"),e.open({where:document.body,url:K8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W8,dontclear:!0},i=>new Promise((r,s)=>C(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=ia(n,"network-request-failed"),a=Ki().setTimeout(()=>{s(o)},z8.get());function c(){Ki().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var Y8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z8=500,X8=600,J8="_blank",eq="http://localhost",Cg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tq(n,e,t,i=Z8,r=X8){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},Y8),{width:i.toString(),height:r.toString(),top:s,left:o}),l=zt().toLowerCase();t&&(a=pk(l)?J8:t),hk(l)&&(e=e||eq,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(B9(l)&&a!=="_self")return nq(e||"",a),new Cg(null);let h=window.open(e||"",a,u);ae(h,n,"popup-blocked");try{h.focus()}catch{}return new Cg(h)}function nq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var iq="__/auth/handler",rq="emulator/auth/handler",sq=encodeURIComponent("fac");function ek(n,e,t,i,r,s){return C(this,null,function*(){ae(n.config.authDomain,n,"auth-domain-config-required"),ae(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Hs,eventId:r};if(e instanceof bg){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",CR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof Xw){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield n._getAppCheckToken(),l=c?`#${sq}=${encodeURIComponent(c)}`:"";return`${oq(n)}?${Zu(a).slice(1)}${l}`})}function oq({config:n}){return n.emulator?cE(n,rq):`https://${n.authDomain}/${iq}`}var Uw="webStorageSupport",sE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EE,this._completeRedirectFn=R8,this._overrideRedirectResult=x8}_openPopup(e,t,i,r){return C(this,null,function*(){var s;Ws((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield ek(e,t,i,$w(),r);return tq(e,o,xk())})}_openRedirect(e,t,i,r){return C(this,null,function*(){yield this._originValidation(e);let s=yield ek(e,t,i,$w(),r);return f8(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Ws(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return C(this,null,function*(){let t=yield Q8(e),i=new rE(e);return t.register("authEvent",r=>(ae(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Uw,{type:Uw},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Uw];o!==void 0&&t(!!o),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=V8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _k()||fk()||hE()}},Ok=sE;var tk="@firebase/auth",nk="1.7.9";var oE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function aq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cq(n){zs(new ni("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bk(n)},l=new Qw(i,r,s,c);return K9(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),zs(new ni("auth-internal",e=>{let t=oa(e.getProvider("auth").getImmediate());return(i=>new oE(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(tk,nk,aq(n)),Vt(tk,nk,"esm2017")}var lq=5*60,uq=bw("authIdTokenMaxAge")||lq,ik=null,dq=n=>e=>C(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>uq)return;let r=t?.token;ik!==r&&(ik=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function IE(n=Oc()){let e=ed(n,"auth");if(e.isInitialized())return e.getImmediate();let t=fE(n,{popupRedirectResolver:Ok,persistence:[kk,Ak,EE]}),i=bw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=dq(s.toString());bE(t,o,()=>o(t.currentUser)),_E(t,a=>o(a))}}let r=vw("auth");return r&&pE(t,`http://${r}`),t}function hq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}z9({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=ia("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",hq().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cq("Browser");var Fk="auth",aa=class{constructor(e){return e}},ld=class{constructor(){return td(Fk)}};var CE=new ee("angularfire2.auth-instances");function tW(n,e){let t=ag(Fk,n,e);return t&&new aa(t)}function nW(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new aa(i)}}var iW={provide:ld,deps:[[new wn,CE]]},rW={provide:aa,useFactory:tW,deps:[[new wn,CE],Hr]};function Lk(n,...e){return Vt("angularfire",ta.full,"auth"),Kn([rW,iW,{provide:CE,useFactory:nW(n),multi:!0,deps:[Oe,Ut,Vc,na,[new wn,Lc],...e]}])}var Vk=Bt(mE,!0);var Bk=Bt(IE,!0);var jk=Bt(yE,!0);var Uk=Bt(wE,!0);var $k=Bt(vE,!0);var zk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hk={};var Ks,DE;(function(){var n;function e(I,b){function E(){}E.prototype=b.prototype,I.D=b.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(T,A,M){for(var D=Array(arguments.length-2),it=2;it<arguments.length;it++)D[it-2]=arguments[it];return b.prototype[A].apply(T,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,b,E){E||(E=0);var T=Array(16);if(typeof b=="string")for(var A=0;16>A;++A)T[A]=b.charCodeAt(E++)|b.charCodeAt(E++)<<8|b.charCodeAt(E++)<<16|b.charCodeAt(E++)<<24;else for(A=0;16>A;++A)T[A]=b[E++]|b[E++]<<8|b[E++]<<16|b[E++]<<24;b=I.g[0],E=I.g[1],A=I.g[2];var M=I.g[3],D=b+(M^E&(A^M))+T[0]+3614090360&4294967295;b=E+(D<<7&4294967295|D>>>25),D=M+(A^b&(E^A))+T[1]+3905402710&4294967295,M=b+(D<<12&4294967295|D>>>20),D=A+(E^M&(b^E))+T[2]+606105819&4294967295,A=M+(D<<17&4294967295|D>>>15),D=E+(b^A&(M^b))+T[3]+3250441966&4294967295,E=A+(D<<22&4294967295|D>>>10),D=b+(M^E&(A^M))+T[4]+4118548399&4294967295,b=E+(D<<7&4294967295|D>>>25),D=M+(A^b&(E^A))+T[5]+1200080426&4294967295,M=b+(D<<12&4294967295|D>>>20),D=A+(E^M&(b^E))+T[6]+2821735955&4294967295,A=M+(D<<17&4294967295|D>>>15),D=E+(b^A&(M^b))+T[7]+4249261313&4294967295,E=A+(D<<22&4294967295|D>>>10),D=b+(M^E&(A^M))+T[8]+1770035416&4294967295,b=E+(D<<7&4294967295|D>>>25),D=M+(A^b&(E^A))+T[9]+2336552879&4294967295,M=b+(D<<12&4294967295|D>>>20),D=A+(E^M&(b^E))+T[10]+4294925233&4294967295,A=M+(D<<17&4294967295|D>>>15),D=E+(b^A&(M^b))+T[11]+2304563134&4294967295,E=A+(D<<22&4294967295|D>>>10),D=b+(M^E&(A^M))+T[12]+1804603682&4294967295,b=E+(D<<7&4294967295|D>>>25),D=M+(A^b&(E^A))+T[13]+4254626195&4294967295,M=b+(D<<12&4294967295|D>>>20),D=A+(E^M&(b^E))+T[14]+2792965006&4294967295,A=M+(D<<17&4294967295|D>>>15),D=E+(b^A&(M^b))+T[15]+1236535329&4294967295,E=A+(D<<22&4294967295|D>>>10),D=b+(A^M&(E^A))+T[1]+4129170786&4294967295,b=E+(D<<5&4294967295|D>>>27),D=M+(E^A&(b^E))+T[6]+3225465664&4294967295,M=b+(D<<9&4294967295|D>>>23),D=A+(b^E&(M^b))+T[11]+643717713&4294967295,A=M+(D<<14&4294967295|D>>>18),D=E+(M^b&(A^M))+T[0]+3921069994&4294967295,E=A+(D<<20&4294967295|D>>>12),D=b+(A^M&(E^A))+T[5]+3593408605&4294967295,b=E+(D<<5&4294967295|D>>>27),D=M+(E^A&(b^E))+T[10]+38016083&4294967295,M=b+(D<<9&4294967295|D>>>23),D=A+(b^E&(M^b))+T[15]+3634488961&4294967295,A=M+(D<<14&4294967295|D>>>18),D=E+(M^b&(A^M))+T[4]+3889429448&4294967295,E=A+(D<<20&4294967295|D>>>12),D=b+(A^M&(E^A))+T[9]+568446438&4294967295,b=E+(D<<5&4294967295|D>>>27),D=M+(E^A&(b^E))+T[14]+3275163606&4294967295,M=b+(D<<9&4294967295|D>>>23),D=A+(b^E&(M^b))+T[3]+4107603335&4294967295,A=M+(D<<14&4294967295|D>>>18),D=E+(M^b&(A^M))+T[8]+1163531501&4294967295,E=A+(D<<20&4294967295|D>>>12),D=b+(A^M&(E^A))+T[13]+2850285829&4294967295,b=E+(D<<5&4294967295|D>>>27),D=M+(E^A&(b^E))+T[2]+4243563512&4294967295,M=b+(D<<9&4294967295|D>>>23),D=A+(b^E&(M^b))+T[7]+1735328473&4294967295,A=M+(D<<14&4294967295|D>>>18),D=E+(M^b&(A^M))+T[12]+2368359562&4294967295,E=A+(D<<20&4294967295|D>>>12),D=b+(E^A^M)+T[5]+4294588738&4294967295,b=E+(D<<4&4294967295|D>>>28),D=M+(b^E^A)+T[8]+2272392833&4294967295,M=b+(D<<11&4294967295|D>>>21),D=A+(M^b^E)+T[11]+1839030562&4294967295,A=M+(D<<16&4294967295|D>>>16),D=E+(A^M^b)+T[14]+4259657740&4294967295,E=A+(D<<23&4294967295|D>>>9),D=b+(E^A^M)+T[1]+2763975236&4294967295,b=E+(D<<4&4294967295|D>>>28),D=M+(b^E^A)+T[4]+1272893353&4294967295,M=b+(D<<11&4294967295|D>>>21),D=A+(M^b^E)+T[7]+4139469664&4294967295,A=M+(D<<16&4294967295|D>>>16),D=E+(A^M^b)+T[10]+3200236656&4294967295,E=A+(D<<23&4294967295|D>>>9),D=b+(E^A^M)+T[13]+681279174&4294967295,b=E+(D<<4&4294967295|D>>>28),D=M+(b^E^A)+T[0]+3936430074&4294967295,M=b+(D<<11&4294967295|D>>>21),D=A+(M^b^E)+T[3]+3572445317&4294967295,A=M+(D<<16&4294967295|D>>>16),D=E+(A^M^b)+T[6]+76029189&4294967295,E=A+(D<<23&4294967295|D>>>9),D=b+(E^A^M)+T[9]+3654602809&4294967295,b=E+(D<<4&4294967295|D>>>28),D=M+(b^E^A)+T[12]+3873151461&4294967295,M=b+(D<<11&4294967295|D>>>21),D=A+(M^b^E)+T[15]+530742520&4294967295,A=M+(D<<16&4294967295|D>>>16),D=E+(A^M^b)+T[2]+3299628645&4294967295,E=A+(D<<23&4294967295|D>>>9),D=b+(A^(E|~M))+T[0]+4096336452&4294967295,b=E+(D<<6&4294967295|D>>>26),D=M+(E^(b|~A))+T[7]+1126891415&4294967295,M=b+(D<<10&4294967295|D>>>22),D=A+(b^(M|~E))+T[14]+2878612391&4294967295,A=M+(D<<15&4294967295|D>>>17),D=E+(M^(A|~b))+T[5]+4237533241&4294967295,E=A+(D<<21&4294967295|D>>>11),D=b+(A^(E|~M))+T[12]+1700485571&4294967295,b=E+(D<<6&4294967295|D>>>26),D=M+(E^(b|~A))+T[3]+2399980690&4294967295,M=b+(D<<10&4294967295|D>>>22),D=A+(b^(M|~E))+T[10]+4293915773&4294967295,A=M+(D<<15&4294967295|D>>>17),D=E+(M^(A|~b))+T[1]+2240044497&4294967295,E=A+(D<<21&4294967295|D>>>11),D=b+(A^(E|~M))+T[8]+1873313359&4294967295,b=E+(D<<6&4294967295|D>>>26),D=M+(E^(b|~A))+T[15]+4264355552&4294967295,M=b+(D<<10&4294967295|D>>>22),D=A+(b^(M|~E))+T[6]+2734768916&4294967295,A=M+(D<<15&4294967295|D>>>17),D=E+(M^(A|~b))+T[13]+1309151649&4294967295,E=A+(D<<21&4294967295|D>>>11),D=b+(A^(E|~M))+T[4]+4149444226&4294967295,b=E+(D<<6&4294967295|D>>>26),D=M+(E^(b|~A))+T[11]+3174756917&4294967295,M=b+(D<<10&4294967295|D>>>22),D=A+(b^(M|~E))+T[2]+718787259&4294967295,A=M+(D<<15&4294967295|D>>>17),D=E+(M^(A|~b))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+M&4294967295}i.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var E=b-this.blockSize,T=this.B,A=this.h,M=0;M<b;){if(A==0)for(;M<=E;)r(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<b;)if(T[A++]=I.charCodeAt(M++),A==this.blockSize){r(this,T),A=0;break}}else for(;M<b;)if(T[A++]=I[M++],A==this.blockSize){r(this,T),A=0;break}}this.h=A,this.o+=b},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var E=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=E&255,E/=256;for(this.u(I),I=Array(16),b=E=0;4>b;++b)for(var T=0;32>T;T+=8)I[E++]=this.g[b]>>>T&255;return I};function s(I,b){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=b(I)}function o(I,b){this.h=b;for(var E=[],T=!0,A=I.length-1;0<=A;A--){var M=I[A]|0;T&&M==b||(E[A]=M,T=!1)}this.g=E}var a={};function c(I){return-128<=I&&128>I?s(I,function(b){return new o([b|0],0>b?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return _(l(-I));for(var b=[],E=1,T=0;I>=E;T++)b[T]=I/E|0,E*=4294967296;return new o(b,0)}function u(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return _(u(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(b,8)),T=h,A=0;A<I.length;A+=8){var M=Math.min(8,I.length-A),D=parseInt(I.substring(A,A+M),b);8>M?(M=l(Math.pow(b,M)),T=T.j(M).add(l(D))):(T=T.j(E),T=T.add(l(D)))}return T}var h=c(0),f=c(1),g=c(16777216);n=o.prototype,n.m=function(){if(v(this))return-_(this).m();for(var I=0,b=1,E=0;E<this.g.length;E++){var T=this.i(E);I+=(0<=T?T:4294967296+T)*b,b*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(y(this))return"0";if(v(this))return"-"+_(this).toString(I);for(var b=l(Math.pow(I,6)),E=this,T="";;){var A=F(E,b).g;E=S(E,A.j(b));var M=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=A,y(E))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function y(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function v(I){return I.h==-1}n.l=function(I){return I=S(this,I),v(I)?-1:y(I)?0:1};function _(I){for(var b=I.g.length,E=[],T=0;T<b;T++)E[T]=~I.g[T];return new o(E,~I.h).add(f)}n.abs=function(){return v(this)?_(this):this},n.add=function(I){for(var b=Math.max(this.g.length,I.g.length),E=[],T=0,A=0;A<=b;A++){var M=T+(this.i(A)&65535)+(I.i(A)&65535),D=(M>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);T=D>>>16,M&=65535,D&=65535,E[A]=D<<16|M}return new o(E,E[E.length-1]&-2147483648?-1:0)};function S(I,b){return I.add(_(b))}n.j=function(I){if(y(this)||y(I))return h;if(v(this))return v(I)?_(this).j(_(I)):_(_(this).j(I));if(v(I))return _(this.j(_(I)));if(0>this.l(g)&&0>I.l(g))return l(this.m()*I.m());for(var b=this.g.length+I.g.length,E=[],T=0;T<2*b;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<I.g.length;A++){var M=this.i(T)>>>16,D=this.i(T)&65535,it=I.i(A)>>>16,Ee=I.i(A)&65535;E[2*T+2*A]+=D*Ee,x(E,2*T+2*A),E[2*T+2*A+1]+=M*Ee,x(E,2*T+2*A+1),E[2*T+2*A+1]+=D*it,x(E,2*T+2*A+1),E[2*T+2*A+2]+=M*it,x(E,2*T+2*A+2)}for(T=0;T<b;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=b;T<2*b;T++)E[T]=0;return new o(E,0)};function x(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function k(I,b){this.g=I,this.h=b}function F(I,b){if(y(b))throw Error("division by zero");if(y(I))return new k(h,h);if(v(I))return b=F(_(I),b),new k(_(b.g),_(b.h));if(v(b))return b=F(I,_(b)),new k(_(b.g),b.h);if(30<I.g.length){if(v(I)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var E=f,T=b;0>=T.l(I);)E=L(E),T=L(T);var A=O(E,1),M=O(T,1);for(T=O(T,2),E=O(E,2);!y(T);){var D=M.add(T);0>=D.l(I)&&(A=A.add(E),M=D),T=O(T,1),E=O(E,1)}return b=S(I,A.j(b)),new k(A,b)}for(A=h;0<=I.l(b);){for(E=Math.max(1,Math.floor(I.m()/b.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=l(E),D=M.j(b);v(D)||0<D.l(I);)E-=T,M=l(E),D=M.j(b);y(M)&&(M=f),A=A.add(M),I=S(I,D)}return new k(A,I)}n.A=function(I){return F(this,I).h},n.and=function(I){for(var b=Math.max(this.g.length,I.g.length),E=[],T=0;T<b;T++)E[T]=this.i(T)&I.i(T);return new o(E,this.h&I.h)},n.or=function(I){for(var b=Math.max(this.g.length,I.g.length),E=[],T=0;T<b;T++)E[T]=this.i(T)|I.i(T);return new o(E,this.h|I.h)},n.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),E=[],T=0;T<b;T++)E[T]=this.i(T)^I.i(T);return new o(E,this.h^I.h)};function L(I){for(var b=I.g.length+1,E=[],T=0;T<b;T++)E[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(E,I.h)}function O(I,b){var E=b>>5;b%=32;for(var T=I.g.length-E,A=[],M=0;M<T;M++)A[M]=0<b?I.i(M+E)>>>b|I.i(M+E+1)<<32-b:I.i(M+E);return new o(A,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,DE=Hk.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Ks=Hk.Integer=o}).apply(typeof zk<"u"?zk:typeof self<"u"?self:typeof window<"u"?window:{});var Sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr={};var TE,sW,$c,SE,ud,Ag,AE,xE,ME;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,p,m){return d==Array.prototype||d==Object.prototype||(d[p]=m.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sg=="object"&&Sg];for(var p=0;p<d.length;++p){var m=d[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=t(this);function r(d,p){if(p)e:{var m=i;d=d.split(".");for(var w=0;w<d.length-1;w++){var R=d[w];if(!(R in m))break e;m=m[R]}d=d[d.length-1],w=m[d],p=p(w),p!=w&&p!=null&&e(m,d,{configurable:!0,writable:!0,value:p})}}function s(d,p){d instanceof String&&(d+="");var m=0,w=!1,R={next:function(){if(!w&&m<d.length){var V=m++;return{value:p(V,d[V]),done:!1}}return w=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}r("Array.prototype.values",function(d){return d||function(){return s(this,function(p,m){return m})}});var o=o||{},a=this||self;function c(d){var p=typeof d;return p=p!="object"?p:d?Array.isArray(d)?"array":p:"null",p=="array"||p=="object"&&typeof d.length=="number"}function l(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function u(d,p,m){return d.call.apply(d.bind,arguments)}function h(d,p,m){if(!d)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,w),d.apply(p,R)}}return function(){return d.apply(p,arguments)}}function f(d,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function g(d,p){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),d.apply(this,w)}}function y(d,p){function m(){}m.prototype=p.prototype,d.aa=p.prototype,d.prototype=new m,d.prototype.constructor=d,d.Qb=function(w,R,V){for(var K=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)K[Xe-2]=arguments[Xe];return p.prototype[R].apply(w,K)}}function v(d){let p=d.length;if(0<p){let m=Array(p);for(let w=0;w<p;w++)m[w]=d[w];return m}return[]}function _(d,p){for(let m=1;m<arguments.length;m++){let w=arguments[m];if(c(w)){let R=d.length||0,V=w.length||0;d.length=R+V;for(let K=0;K<V;K++)d[R+K]=w[K]}else d.push(w)}}class S{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(d){return/^[\s\xa0]*$/.test(d)}function k(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var L=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function O(d,p,m){for(let w in d)p.call(m,d[w],w,d)}function I(d,p){for(let m in d)p.call(void 0,d[m],m,d)}function b(d){let p={};for(let m in d)p[m]=d[m];return p}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(d,p){let m,w;for(let R=1;R<arguments.length;R++){w=arguments[R];for(m in w)d[m]=w[m];for(let V=0;V<E.length;V++)m=E[V],Object.prototype.hasOwnProperty.call(w,m)&&(d[m]=w[m])}}function A(d){var p=1;d=d.split(":");let m=[];for(;0<p&&d.length;)m.push(d.shift()),p--;return d.length&&m.push(d.join(":")),m}function M(d){a.setTimeout(()=>{throw d},0)}function D(){var d=te;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class it{constructor(){this.h=this.g=null}add(p,m){let w=Ee.get();w.set(p,m),this.h?this.h.next=w:this.g=w,this.h=w}}var Ee=new S(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Y=!1,te=new it,Ke=()=>{let d=a.Promise.resolve(void 0);G=()=>{d.then(qt)}};var qt=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(m){M(m)}var p=Ee;p.j(d),100>p.h&&(p.h++,d.next=p.g,p.g=d)}Y=!1};function We(){this.s=this.s,this.C=this.C}We.prototype.s=!1,We.prototype.ma=function(){this.s||(this.s=!0,this.N())},We.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return d}();function yn(d,p){if(Ve.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var m=this.type=d.type,w=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget){if(L){e:{try{F(p.nodeName);var R=!0;break e}catch{}R=!1}R||(p=null)}}else m=="mouseover"?p=d.fromElement:m=="mouseout"&&(p=d.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ci[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&yn.aa.h.call(this)}}y(yn,Ve);var ci={2:"touch",3:"pen",4:"mouse"};yn.prototype.h=function(){yn.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),fr=0;function vn(d,p,m,w,R){this.listener=d,this.proxy=null,this.src=p,this.type=m,this.capture=!!w,this.ha=R,this.key=++fr,this.da=this.fa=!1}function pr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function hs(d){this.src=d,this.g={},this.h=0}hs.prototype.add=function(d,p,m,w,R){var V=d.toString();d=this.g[V],d||(d=this.g[V]=[],this.h++);var K=e0(d,p,w,R);return-1<K?(p=d[K],m||(p.fa=!1)):(p=new vn(p,this.src,V,!!w,R),p.fa=m,d.push(p)),p};function Jy(d,p){var m=p.type;if(m in d.g){var w=d.g[m],R=Array.prototype.indexOf.call(w,p,void 0),V;(V=0<=R)&&Array.prototype.splice.call(w,R,1),V&&(pr(p),d.g[m].length==0&&(delete d.g[m],d.h--))}}function e0(d,p,m,w){for(var R=0;R<d.length;++R){var V=d[R];if(!V.da&&V.listener==p&&V.capture==!!m&&V.ha==w)return R}return-1}var t0="closure_lm_"+(1e6*Math.random()|0),n0={};function HT(d,p,m,w,R){if(w&&w.once)return WT(d,p,m,w,R);if(Array.isArray(p)){for(var V=0;V<p.length;V++)HT(d,p[V],m,w,R);return null}return m=o0(m),d&&d[vt]?d.K(p,m,l(w)?!!w.capture:!!w,R):qT(d,p,m,!1,w,R)}function qT(d,p,m,w,R,V){if(!p)throw Error("Invalid event type");var K=l(R)?!!R.capture:!!R,Xe=r0(d);if(Xe||(d[t0]=Xe=new hs(d)),m=Xe.add(p,m,w,K,V),m.proxy)return m;if(w=g2(),m.proxy=w,w.src=d,w.listener=m,d.addEventListener)Ne||(R=K),R===void 0&&(R=!1),d.addEventListener(p.toString(),w,R);else if(d.attachEvent)d.attachEvent(KT(p.toString()),w);else if(d.addListener&&d.removeListener)d.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function g2(){function d(m){return p.call(d.src,d.listener,m)}let p=m2;return d}function WT(d,p,m,w,R){if(Array.isArray(p)){for(var V=0;V<p.length;V++)WT(d,p[V],m,w,R);return null}return m=o0(m),d&&d[vt]?d.L(p,m,l(w)?!!w.capture:!!w,R):qT(d,p,m,!0,w,R)}function GT(d,p,m,w,R){if(Array.isArray(p))for(var V=0;V<p.length;V++)GT(d,p[V],m,w,R);else w=l(w)?!!w.capture:!!w,m=o0(m),d&&d[vt]?(d=d.i,p=String(p).toString(),p in d.g&&(V=d.g[p],m=e0(V,m,w,R),-1<m&&(pr(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete d.g[p],d.h--)))):d&&(d=r0(d))&&(p=d.g[p.toString()],d=-1,p&&(d=e0(p,m,w,R)),(m=-1<d?p[d]:null)&&i0(m))}function i0(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[vt])Jy(p.i,d);else{var m=d.type,w=d.proxy;p.removeEventListener?p.removeEventListener(m,w,d.capture):p.detachEvent?p.detachEvent(KT(m),w):p.addListener&&p.removeListener&&p.removeListener(w),(m=r0(p))?(Jy(m,d),m.h==0&&(m.src=null,p[t0]=null)):pr(d)}}}function KT(d){return d in n0?n0[d]:n0[d]="on"+d}function m2(d,p){if(d.da)d=!0;else{p=new yn(p,this);var m=d.listener,w=d.ha||d.src;d.fa&&i0(d),d=m.call(w,p)}return d}function r0(d){return d=d[t0],d instanceof hs?d:null}var s0="__closure_events_fn_"+(1e9*Math.random()>>>0);function o0(d){return typeof d=="function"?d:(d[s0]||(d[s0]=function(p){return d.handleEvent(p)}),d[s0])}function Xt(){We.call(this),this.i=new hs(this),this.M=this,this.F=null}y(Xt,We),Xt.prototype[vt]=!0,Xt.prototype.removeEventListener=function(d,p,m,w){GT(this,d,p,m,w)};function un(d,p){var m,w=d.F;if(w)for(m=[];w;w=w.F)m.push(w);if(d=d.M,w=p.type||p,typeof p=="string")p=new Ve(p,d);else if(p instanceof Ve)p.target=p.target||d;else{var R=p;p=new Ve(w,d),T(p,R)}if(R=!0,m)for(var V=m.length-1;0<=V;V--){var K=p.g=m[V];R=_h(K,w,!0,p)&&R}if(K=p.g=d,R=_h(K,w,!0,p)&&R,R=_h(K,w,!1,p)&&R,m)for(V=0;V<m.length;V++)K=p.g=m[V],R=_h(K,w,!1,p)&&R}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var d=this.i,p;for(p in d.g){for(var m=d.g[p],w=0;w<m.length;w++)pr(m[w]);delete d.g[p],d.h--}}this.F=null},Xt.prototype.K=function(d,p,m,w){return this.i.add(String(d),p,!1,m,w)},Xt.prototype.L=function(d,p,m,w){return this.i.add(String(d),p,!0,m,w)};function _h(d,p,m,w){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();for(var R=!0,V=0;V<p.length;++V){var K=p[V];if(K&&!K.da&&K.capture==m){var Xe=K.listener,Wt=K.ha||K.src;K.fa&&Jy(d.i,K),R=Xe.call(Wt,w)!==!1&&R}}return R&&!w.defaultPrevented}function QT(d,p,m){if(typeof d=="function")m&&(d=f(d,m));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(d,p||0)}function YT(d){d.g=QT(()=>{d.g=null,d.i&&(d.i=!1,YT(d))},d.l);let p=d.h;d.h=null,d.m.apply(null,p)}class y2 extends We{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:YT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vl(d){We.call(this),this.h=d,this.g={}}y(Vl,We);var ZT=[];function XT(d){O(d.g,function(p,m){this.g.hasOwnProperty(m)&&i0(p)},d),d.g={}}Vl.prototype.N=function(){Vl.aa.N.call(this),XT(this)},Vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var a0=a.JSON.stringify,v2=a.JSON.parse,_2=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function c0(){}c0.prototype.h=null;function JT(d){return d.h||(d.h=d.i())}function eS(){}var Bl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function l0(){Ve.call(this,"d")}y(l0,Ve);function u0(){Ve.call(this,"c")}y(u0,Ve);var vo={},tS=null;function bh(){return tS=tS||new Xt}vo.La="serverreachability";function nS(d){Ve.call(this,vo.La,d)}y(nS,Ve);function jl(d){let p=bh();un(p,new nS(p))}vo.STAT_EVENT="statevent";function iS(d,p){Ve.call(this,vo.STAT_EVENT,d),this.stat=p}y(iS,Ve);function dn(d){let p=bh();un(p,new iS(p,d))}vo.Ma="timingevent";function rS(d,p){Ve.call(this,vo.Ma,d),this.size=p}y(rS,Ve);function Ul(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},p)}function $l(){this.g=!0}$l.prototype.xa=function(){this.g=!1};function b2(d,p,m,w,R,V){d.info(function(){if(d.g)if(V)for(var K="",Xe=V.split("&"),Wt=0;Wt<Xe.length;Wt++){var Fe=Xe[Wt].split("=");if(1<Fe.length){var Jt=Fe[0];Fe=Fe[1];var en=Jt.split("_");K=2<=en.length&&en[1]=="type"?K+(Jt+"="+Fe+"&"):K+(Jt+"=redacted&")}}else K=null;else K=V;return"XMLHTTP REQ ("+w+") [attempt "+R+"]: "+p+`
`+m+`
`+K})}function w2(d,p,m,w,R,V,K){d.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+R+"]: "+p+`
`+m+`
`+V+" "+K})}function La(d,p,m,w){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+I2(d,m)+(w?" "+w:"")})}function E2(d,p){d.info(function(){return"TIMEOUT: "+p})}$l.prototype.info=function(){};function I2(d,p){if(!d.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(d=0;d<m.length;d++)if(Array.isArray(m[d])){var w=m[d];if(!(2>w.length)){var R=w[1];if(Array.isArray(R)&&!(1>R.length)){var V=R[0];if(V!="noop"&&V!="stop"&&V!="close")for(var K=1;K<R.length;K++)R[K]=""}}}}return a0(m)}catch{return p}}var wh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},d0;function Eh(){}y(Eh,c0),Eh.prototype.g=function(){return new XMLHttpRequest},Eh.prototype.i=function(){return{}},d0=new Eh;function fs(d,p,m,w){this.j=d,this.i=p,this.l=m,this.R=w||1,this.U=new Vl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oS}function oS(){this.i=null,this.g="",this.h=!1}var aS={},h0={};function f0(d,p,m){d.L=1,d.v=Th(gr(p)),d.m=m,d.P=!0,cS(d,null)}function cS(d,p){d.F=Date.now(),Ih(d),d.A=gr(d.v);var m=d.A,w=d.R;Array.isArray(w)||(w=[String(w)]),ES(m.i,"t",w),d.C=0,m=d.j.J,d.h=new oS,d.g=jS(d.j,m?p:null,!d.m),0<d.O&&(d.M=new y2(f(d.Y,d,d.g),d.O)),p=d.U,m=d.g,w=d.ca;var R="readystatechange";Array.isArray(R)||(R&&(ZT[0]=R.toString()),R=ZT);for(var V=0;V<R.length;V++){var K=HT(m,R[V],w||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,p)):(d.u="GET",d.g.ea(d.A,d.u,null,p)),jl(),b2(d.i,d.u,d.A,d.l,d.R,d.m)}fs.prototype.ca=function(d){d=d.target;let p=this.M;p&&mr(d)==3?p.j():this.Y(d)},fs.prototype.Y=function(d){try{if(d==this.g)e:{let en=mr(this.g);var p=this.g.Ba();let ja=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||xS(this.g)))){this.J||en!=4||p==7||(p==8||0>=ja?jl(3):jl(2)),p0(this);var m=this.g.Z();this.X=m;t:if(lS(this)){var w=xS(this.g);d="";var R=w.length,V=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),zl(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<R;p++)this.h.h=!0,d+=this.h.i.decode(w[p],{stream:!(V&&p==R-1)});w.length=0,this.h.g+=d,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=m==200,w2(this.i,this.u,this.A,this.l,this.R,en,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Wt=this.g;if((Xe=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Xe)){var Fe=Xe;break t}}Fe=null}if(m=Fe)La(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,g0(this,m);else{this.o=!1,this.s=3,dn(12),_o(this),zl(this);break e}}if(this.P){m=!0;let li;for(;!this.J&&this.C<K.length;)if(li=C2(this,K),li==h0){en==4&&(this.s=4,dn(14),m=!1),La(this.i,this.l,null,"[Incomplete Response]");break}else if(li==aS){this.s=4,dn(15),La(this.i,this.l,K,"[Invalid Chunk]"),m=!1;break}else La(this.i,this.l,li,null),g0(this,li);if(lS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||K.length!=0||this.h.h||(this.s=1,dn(16),m=!1),this.o=this.o&&m,!m)La(this.i,this.l,K,"[Invalid Chunked Response]"),_o(this),zl(this);else if(0<K.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),w0(Jt),Jt.M=!0,dn(11))}}else La(this.i,this.l,K,null),g0(this,K);en==4&&_o(this),this.o&&!this.J&&(en==4?FS(this.j,this):(this.o=!1,Ih(this)))}else U2(this.g),m==400&&0<K.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),_o(this),zl(this)}}}catch{}finally{}};function lS(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function C2(d,p){var m=d.C,w=p.indexOf(`
`,m);return w==-1?h0:(m=Number(p.substring(m,w)),isNaN(m)?aS:(w+=1,w+m>p.length?h0:(p=p.slice(w,w+m),d.C=w+m,p)))}fs.prototype.cancel=function(){this.J=!0,_o(this)};function Ih(d){d.S=Date.now()+d.I,uS(d,d.I)}function uS(d,p){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ul(f(d.ba,d),p)}function p0(d){d.B&&(a.clearTimeout(d.B),d.B=null)}fs.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(E2(this.i,this.A),this.L!=2&&(jl(),dn(17)),_o(this),this.s=2,zl(this)):uS(this,this.S-d)};function zl(d){d.j.G==0||d.J||FS(d.j,d)}function _o(d){p0(d);var p=d.M;p&&typeof p.ma=="function"&&p.ma(),d.M=null,XT(d.U),d.g&&(p=d.g,d.g=null,p.abort(),p.ma())}function g0(d,p){try{var m=d.j;if(m.G!=0&&(m.g==d||m0(m.h,d))){if(!d.K&&m0(m.h,d)&&m.G==3){try{var w=m.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var R=w;if(R[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<d.F)Ph(m),xh(m);else break e;b0(m),dn(18)}}else m.za=R[1],0<m.za-m.T&&37500>R[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ul(f(m.Za,m),6e3));if(1>=fS(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else wo(m,11)}else if((d.K||m.g==d)&&Ph(m),!x(p))for(R=m.Da.g.parse(p),p=0;p<R.length;p++){let Fe=R[p];if(m.T=Fe[0],Fe=Fe[1],m.G==2)if(Fe[0]=="c"){m.K=Fe[1],m.ia=Fe[2];let Jt=Fe[3];Jt!=null&&(m.la=Jt,m.j.info("VER="+m.la));let en=Fe[4];en!=null&&(m.Aa=en,m.j.info("SVER="+m.Aa));let ja=Fe[5];ja!=null&&typeof ja=="number"&&0<ja&&(w=1.5*ja,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;let li=d.g;if(li){let kh=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kh){var V=w.h;V.g||kh.indexOf("spdy")==-1&&kh.indexOf("quic")==-1&&kh.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(y0(V,V.h),V.h=null))}if(w.D){let E0=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;E0&&(w.ya=E0,ut(w.I,w.D,E0))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-d.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var K=d;if(w.qa=BS(w,w.J?w.ia:null,w.W),K.K){pS(w.h,K);var Xe=K,Wt=w.L;Wt&&(Xe.I=Wt),Xe.B&&(p0(Xe),Ih(Xe)),w.g=K}else NS(w);0<m.i.length&&Mh(m)}else Fe[0]!="stop"&&Fe[0]!="close"||wo(m,7);else m.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?wo(m,7):_0(m):Fe[0]!="noop"&&m.l&&m.l.ta(Fe),m.v=0)}}jl(4)}catch{}}var D2=class{constructor(d,p){this.g=d,this.map=p}};function dS(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hS(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function fS(d){return d.h?1:d.g?d.g.size:0}function m0(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function y0(d,p){d.g?d.g.add(p):d.h=p}function pS(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}dS.prototype.cancel=function(){if(this.i=gS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function gS(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let p=d.i;for(let m of d.g.values())p=p.concat(m.D);return p}return v(d.i)}function T2(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var p=[],m=d.length,w=0;w<m;w++)p.push(d[w]);return p}p=[],m=0;for(w in d)p[m++]=d[w];return p}function S2(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var p=[];d=d.length;for(var m=0;m<d;m++)p.push(m);return p}p=[],m=0;for(let w in d)p[m++]=w;return p}}}function mS(d,p){if(d.forEach&&typeof d.forEach=="function")d.forEach(p,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,p,void 0);else for(var m=S2(d),w=T2(d),R=w.length,V=0;V<R;V++)p.call(void 0,w[V],m&&m[V],d)}var yS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function A2(d,p){if(d){d=d.split("&");for(var m=0;m<d.length;m++){var w=d[m].indexOf("="),R=null;if(0<=w){var V=d[m].substring(0,w);R=d[m].substring(w+1)}else V=d[m];p(V,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function bo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof bo){this.h=d.h,Ch(this,d.j),this.o=d.o,this.g=d.g,Dh(this,d.s),this.l=d.l;var p=d.i,m=new Wl;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),vS(this,m),this.m=d.m}else d&&(p=String(d).match(yS))?(this.h=!1,Ch(this,p[1]||"",!0),this.o=Hl(p[2]||""),this.g=Hl(p[3]||"",!0),Dh(this,p[4]),this.l=Hl(p[5]||"",!0),vS(this,p[6]||"",!0),this.m=Hl(p[7]||"")):(this.h=!1,this.i=new Wl(null,this.h))}bo.prototype.toString=function(){var d=[],p=this.j;p&&d.push(ql(p,_S,!0),":");var m=this.g;return(m||p=="file")&&(d.push("//"),(p=this.o)&&d.push(ql(p,_S,!0),"@"),d.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&d.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&d.push("/"),d.push(ql(m,m.charAt(0)=="/"?P2:M2,!0))),(m=this.i.toString())&&d.push("?",m),(m=this.m)&&d.push("#",ql(m,k2)),d.join("")};function gr(d){return new bo(d)}function Ch(d,p,m){d.j=m?Hl(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function Dh(d,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);d.s=p}else d.s=null}function vS(d,p,m){p instanceof Wl?(d.i=p,N2(d.i,d.h)):(m||(p=ql(p,R2)),d.i=new Wl(p,d.h))}function ut(d,p,m){d.i.set(p,m)}function Th(d){return ut(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Hl(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ql(d,p,m){return typeof d=="string"?(d=encodeURI(d).replace(p,x2),m&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function x2(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var _S=/[#\/\?@]/g,M2=/[#\?:]/g,P2=/[#\?]/g,R2=/[#\?@]/g,k2=/#/g;function Wl(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function ps(d){d.g||(d.g=new Map,d.h=0,d.i&&A2(d.i,function(p,m){d.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}n=Wl.prototype,n.add=function(d,p){ps(this),this.i=null,d=Va(this,d);var m=this.g.get(d);return m||this.g.set(d,m=[]),m.push(p),this.h+=1,this};function bS(d,p){ps(d),p=Va(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function wS(d,p){return ps(d),p=Va(d,p),d.g.has(p)}n.forEach=function(d,p){ps(this),this.g.forEach(function(m,w){m.forEach(function(R){d.call(p,R,w,this)},this)},this)},n.na=function(){ps(this);let d=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let w=0;w<p.length;w++){let R=d[w];for(let V=0;V<R.length;V++)m.push(p[w])}return m},n.V=function(d){ps(this);let p=[];if(typeof d=="string")wS(this,d)&&(p=p.concat(this.g.get(Va(this,d))));else{d=Array.from(this.g.values());for(let m=0;m<d.length;m++)p=p.concat(d[m])}return p},n.set=function(d,p){return ps(this),this.i=null,d=Va(this,d),wS(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},n.get=function(d,p){return d?(d=this.V(d),0<d.length?String(d[0]):p):p};function ES(d,p,m){bS(d,p),0<m.length&&(d.i=null,d.g.set(Va(d,p),v(m)),d.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var w=p[m];let V=encodeURIComponent(String(w)),K=this.V(w);for(w=0;w<K.length;w++){var R=V;K[w]!==""&&(R+="="+encodeURIComponent(String(K[w]))),d.push(R)}}return this.i=d.join("&")};function Va(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function N2(d,p){p&&!d.j&&(ps(d),d.i=null,d.g.forEach(function(m,w){var R=w.toLowerCase();w!=R&&(bS(this,w),ES(this,R,m))},d)),d.j=p}function O2(d,p){let m=new $l;if(a.Image){let w=new Image;w.onload=g(gs,m,"TestLoadImage: loaded",!0,p,w),w.onerror=g(gs,m,"TestLoadImage: error",!1,p,w),w.onabort=g(gs,m,"TestLoadImage: abort",!1,p,w),w.ontimeout=g(gs,m,"TestLoadImage: timeout",!1,p,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=d}else p(!1)}function F2(d,p){let m=new $l,w=new AbortController,R=setTimeout(()=>{w.abort(),gs(m,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:w.signal}).then(V=>{clearTimeout(R),V.ok?gs(m,"TestPingServer: ok",!0,p):gs(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(R),gs(m,"TestPingServer: error",!1,p)})}function gs(d,p,m,w,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),w(m)}catch{}}function L2(){this.g=new _2}function V2(d,p,m){let w=m||"";try{mS(d,function(R,V){let K=R;l(R)&&(K=a0(R)),p.push(w+V+"="+encodeURIComponent(K))})}catch(R){throw p.push(w+"type="+encodeURIComponent("_badmap")),R}}function Gl(d){this.l=d.Ub||null,this.j=d.eb||!1}y(Gl,c0),Gl.prototype.g=function(){return new Sh(this.l,this.j)},Gl.prototype.i=function(d){return function(){return d}}({});function Sh(d,p){Xt.call(this),this.D=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Sh,Xt),n=Sh.prototype,n.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=p,this.readyState=1,Ql(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(p.body=d),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ql(this)),this.g&&(this.readyState=3,Ql(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;IS(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function IS(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?Kl(this):Ql(this),this.readyState==3&&IS(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Kl(this))},n.Qa=function(d){this.g&&(this.response=d,Kl(this))},n.ga=function(){this.g&&Kl(this)};function Kl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ql(d)}n.setRequestHeader=function(d,p){this.u.append(d,p)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,d.push(m[0]+": "+m[1]),m=p.next();return d.join(`\r
`)};function Ql(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Sh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function CS(d){let p="";return O(d,function(m,w){p+=w,p+=":",p+=m,p+=`\r
`}),p}function v0(d,p,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=CS(m),typeof d=="string"?m!=null&&encodeURIComponent(String(m)):ut(d,p,m))}function _t(d){Xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(_t,Xt);var B2=/^https?$/i,j2=["POST","PUT"];n=_t.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,p,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():d0.g(),this.v=this.o?JT(this.o):JT(d0),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(V){DS(this,V);return}if(d=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var R in w)m.set(R,w[R]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let V of w.keys())m.set(V,w.get(V));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),R=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(j2,p,void 0))||w||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[V,K]of m)this.g.setRequestHeader(V,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AS(this),this.u=!0,this.g.send(d),this.u=!1}catch(V){DS(this,V)}};function DS(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.m=5,TS(d),Ah(d)}function TS(d){d.A||(d.A=!0,un(d,"complete"),un(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,un(this,"complete"),un(this,"abort"),Ah(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ah(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?SS(this):this.bb())},n.bb=function(){SS(this)};function SS(d){if(d.h&&typeof o<"u"&&(!d.v[1]||mr(d)!=4||d.Z()!=2)){if(d.u&&mr(d)==4)QT(d.Ea,0,d);else if(un(d,"readystatechange"),mr(d)==4){d.h=!1;try{let K=d.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var w;if(w=K===0){var R=String(d.D).match(yS)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),w=!B2.test(R?R.toLowerCase():"")}m=w}if(m)un(d,"complete"),un(d,"success");else{d.m=6;try{var V=2<mr(d)?d.g.statusText:""}catch{V=""}d.l=V+" ["+d.Z()+"]",TS(d)}}finally{Ah(d)}}}}function Ah(d,p){if(d.g){AS(d);let m=d.g,w=d.v[0]?()=>{}:null;d.g=null,d.v=null,p||un(d,"ready");try{m.onreadystatechange=w}catch{}}}function AS(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function mr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),v2(p)}};function xS(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function U2(d){let p={};d=(d.g&&2<=mr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<d.length;w++){if(x(d[w]))continue;var m=A(d[w]);let R=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let V=p[R]||[];p[R]=V,V.push(m)}I(p,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yl(d,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[d]||p}function MS(d){this.Aa=0,this.i=[],this.j=new $l,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yl("baseRetryDelayMs",5e3,d),this.cb=Yl("retryDelaySeedMs",1e4,d),this.Wa=Yl("forwardChannelMaxRetries",2,d),this.wa=Yl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new dS(d&&d.concurrentRequestLimit),this.Da=new L2,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=MS.prototype,n.la=8,n.G=1,n.connect=function(d,p,m,w){dn(0),this.W=d,this.H=p||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=BS(this,null,this.W),Mh(this)};function _0(d){if(PS(d),d.G==3){var p=d.U++,m=gr(d.I);if(ut(m,"SID",d.K),ut(m,"RID",p),ut(m,"TYPE","terminate"),Zl(d,m),p=new fs(d,d.j,p),p.L=2,p.v=Th(gr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=jS(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ih(p)}VS(d)}function xh(d){d.g&&(w0(d),d.g.cancel(),d.g=null)}function PS(d){xh(d),d.u&&(a.clearTimeout(d.u),d.u=null),Ph(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Mh(d){if(!hS(d.h)&&!d.s){d.s=!0;var p=d.Ga;G||Ke(),Y||(G(),Y=!0),te.add(p,d),d.B=0}}function $2(d,p){return fS(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=p.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ul(f(d.Ga,d,p),LS(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let R=new fs(this,this.j,d),V=this.o;if(this.S&&(V?(V=b(V),T(V,this.S)):V=this.S),this.m!==null||this.O||(R.H=V,V=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=kS(this,R,p),m=gr(this.I),ut(m,"RID",d),ut(m,"CVER",22),this.D&&ut(m,"X-HTTP-Session-Id",this.D),Zl(this,m),V&&(this.O?p="headers="+encodeURIComponent(String(CS(V)))+"&"+p:this.m&&v0(m,this.m,V)),y0(this.h,R),this.Ua&&ut(m,"TYPE","init"),this.P?(ut(m,"$req",p),ut(m,"SID","null"),R.T=!0,f0(R,m,null)):f0(R,m,p),this.G=2}}else this.G==3&&(d?RS(this,d):this.i.length==0||hS(this.h)||RS(this))};function RS(d,p){var m;p?m=p.l:m=d.U++;let w=gr(d.I);ut(w,"SID",d.K),ut(w,"RID",m),ut(w,"AID",d.T),Zl(d,w),d.m&&d.o&&v0(w,d.m,d.o),m=new fs(d,d.j,m,d.B+1),d.m===null&&(m.H=d.o),p&&(d.i=p.D.concat(d.i)),p=kS(d,m,1e3),m.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),y0(d.h,m),f0(m,w,p)}function Zl(d,p){d.H&&O(d.H,function(m,w){ut(p,w,m)}),d.l&&mS({},function(m,w){ut(p,w,m)})}function kS(d,p,m){m=Math.min(d.i.length,m);var w=d.l?f(d.l.Na,d.l,d):null;e:{var R=d.i;let V=-1;for(;;){let K=["count="+m];V==-1?0<m?(V=R[0].g,K.push("ofs="+V)):V=0:K.push("ofs="+V);let Xe=!0;for(let Wt=0;Wt<m;Wt++){let Fe=R[Wt].g,Jt=R[Wt].map;if(Fe-=V,0>Fe)V=Math.max(0,R[Wt].g-100),Xe=!1;else try{V2(Jt,K,"req"+Fe+"_")}catch{w&&w(Jt)}}if(Xe){w=K.join("&");break e}}}return d=d.i.splice(0,m),p.D=d,w}function NS(d){if(!d.g&&!d.u){d.Y=1;var p=d.Fa;G||Ke(),Y||(G(),Y=!0),te.add(p,d),d.v=0}}function b0(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ul(f(d.Fa,d),LS(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,OS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ul(f(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),xh(this),OS(this))};function w0(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function OS(d){d.g=new fs(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var p=gr(d.qa);ut(p,"RID","rpc"),ut(p,"SID",d.K),ut(p,"AID",d.T),ut(p,"CI",d.F?"0":"1"),!d.F&&d.ja&&ut(p,"TO",d.ja),ut(p,"TYPE","xmlhttp"),Zl(d,p),d.m&&d.o&&v0(p,d.m,d.o),d.L&&(d.g.I=d.L);var m=d.g;d=d.ia,m.L=1,m.v=Th(gr(p)),m.m=null,m.P=!0,cS(m,d)}n.Za=function(){this.C!=null&&(this.C=null,xh(this),b0(this),dn(19))};function Ph(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function FS(d,p){var m=null;if(d.g==p){Ph(d),w0(d),d.g=null;var w=2}else if(m0(d.h,p))m=p.D,pS(d.h,p),w=1;else return;if(d.G!=0){if(p.o)if(w==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var R=d.B;w=bh(),un(w,new rS(w,m)),Mh(d)}else NS(d);else if(R=p.s,R==3||R==0&&0<p.X||!(w==1&&$2(d,p)||w==2&&b0(d)))switch(m&&0<m.length&&(p=d.h,p.i=p.i.concat(m)),R){case 1:wo(d,5);break;case 4:wo(d,10);break;case 3:wo(d,6);break;default:wo(d,2)}}}function LS(d,p){let m=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(m*=2),m*p}function wo(d,p){if(d.j.info("Error code "+p),p==2){var m=f(d.fb,d),w=d.Xa;let R=!w;w=new bo(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ch(w,"https"),Th(w),R?O2(w.toString(),m):F2(w.toString(),m)}else dn(2);d.G=0,d.l&&d.l.sa(p),VS(d),PS(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function VS(d){if(d.G=0,d.ka=[],d.l){let p=gS(d.h);(p.length!=0||d.i.length!=0)&&(_(d.ka,p),_(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function BS(d,p,m){var w=m instanceof bo?gr(m):new bo(m);if(w.g!="")p&&(w.g=p+"."+w.g),Dh(w,w.s);else{var R=a.location;w=R.protocol,p=p?p+"."+R.hostname:R.hostname,R=+R.port;var V=new bo(null);w&&Ch(V,w),p&&(V.g=p),R&&Dh(V,R),m&&(V.l=m),w=V}return m=d.D,p=d.ya,m&&p&&ut(w,m,p),ut(w,"VER",d.la),Zl(d,w),w}function jS(d,p,m){if(p&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Ca&&!d.pa?new _t(new Gl({eb:m})):new _t(d.pa),p.Ha(d.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function US(){}n=US.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Rh(){}Rh.prototype.g=function(d,p){return new Mn(d,p)};function Mn(d,p){Xt.call(this),this.g=new MS(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(d?d["X-WebChannel-Client-Profile"]=p.va:d={"X-WebChannel-Client-Profile":p.va}),this.g.S=d,(d=p&&p.Sb)&&!x(d)&&(this.g.m=d),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new Ba(this)}y(Mn,Xt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){_0(this.g)},Mn.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var m={};m.__data__=d,d=m}else this.u&&(m={},m.__data__=a0(d),d=m);p.i.push(new D2(p.Ya++,d)),p.G==3&&Mh(p)},Mn.prototype.N=function(){this.g.l=null,delete this.j,_0(this.g),delete this.g,Mn.aa.N.call(this)};function $S(d){l0.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(let m in p){d=m;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}y($S,l0);function zS(){u0.call(this),this.status=1}y(zS,u0);function Ba(d){this.g=d}y(Ba,US),Ba.prototype.ua=function(){un(this.g,"a")},Ba.prototype.ta=function(d){un(this.g,new $S(d))},Ba.prototype.sa=function(d){un(this.g,new zS)},Ba.prototype.ra=function(){un(this.g,"b")},Rh.prototype.createWebChannel=Rh.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,ME=Qr.createWebChannelTransport=function(){return new Rh},xE=Qr.getStatEventTarget=function(){return bh()},AE=Qr.Event=vo,Ag=Qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wh.NO_ERROR=0,wh.TIMEOUT=8,wh.HTTP_ERROR=6,ud=Qr.ErrorCode=wh,sS.COMPLETE="complete",SE=Qr.EventType=sS,eS.EventType=Bl,Bl.OPEN="a",Bl.CLOSE="b",Bl.ERROR="c",Bl.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,$c=Qr.WebChannel=eS,sW=Qr.FetchXmlHttpFactory=Gl,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,TE=Qr.XhrIo=_t}).apply(typeof Sg<"u"?Sg:typeof self<"u"?self:typeof window<"u"?window:{});var qk="@firebase/firestore";var Ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");var ll="10.14.0";var da=new Us("@firebase/firestore");function dd(){return da.logLevel}function X(n,...e){if(da.logLevel<=Se.DEBUG){let t=e.map(fC);da.debug(`Firestore (${ll}): ${n}`,...t)}}function Zr(n,...e){if(da.logLevel<=Se.ERROR){let t=e.map(fC);da.error(`Firestore (${ll}): ${n}`,...t)}}function Qc(n,...e){if(da.logLevel<=Se.WARN){let t=e.map(fC);da.warn(`Firestore (${ll}): ${n}`,...t)}}function fC(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ce(n="Unexpected state"){let e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+n;throw Zr(e),new Error(e)}function Ge(n,e){n||ce()}function de(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends Bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Di=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var kg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},OE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}},FE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},LE=class{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),s=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Di,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Di)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new kg(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Ht(e)}},VE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},BE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new VE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},jE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},UE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);let i=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new jE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function oW(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var Ng=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=oW(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function Le(n,e){return n<e?-1:n>e?1:0}function Yc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Qt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ge=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Qt(0,0))}static max(){return new n(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Og=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ce(),i===void 0?i=e.length-t:i>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},mt=class n extends Og{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},aW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Un=class n extends Og{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return aW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(mt.fromString(e))}static fromName(e){return new n(mt.fromString(e).popFirst(5))}static empty(){return new n(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new mt(e.slice()))}};var $E=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};$E.UNKNOWN_ID=-1;function cW(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ge.fromTimestamp(i===1e9?new Qt(t+1,0):new Qt(t,i));return new ha(r,ie.empty(),e)}function lW(n){return new ha(n.readTime,n.key,-1)}var ha=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ge.min(),ie.empty(),-1)}static max(){return new n(ge.max(),ie.empty(),-1)}};function uW(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}var dW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Md(n){return C(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==dW)throw n;X("LocalStore","Unexpectedly lost primary lease")})}var q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},c=>i(c))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function hW(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pd(n){return n.name==="IndexedDbTransactionError"}var DN=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function hm(n){return n==null}function yd(n){return n===0&&1/n==-1/0}function fW(n){return typeof n=="number"&&Number.isInteger(n)&&!yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var pW=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gue=[...pW,"documentOverlays"],gW=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mW=gW,yW=[...mW,"indexConfiguration","indexState","indexEntries"];var mue=[...yW,"globals"];function Wk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Et=class n{constructor(e,t){this.comparator=e,this.root=t||Zi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}},Wc=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zi=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1;Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,t,i,r,s){return this}insert(e,t,i){return new Zi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var an=class n{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fg(this.data.getIterator())}getIteratorFrom(e){return new Fg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Fg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ii=class n{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new n([])}unionWith(e){let t=new an(Un.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Lg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var cn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Lg("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};cn.EMPTY_BYTE_STRING=new cn("");var vW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(n){if(Ge(!!n),typeof n=="string"){let e=0,t=vW.exec(n);if(Ge(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ys(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}function pC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function gC(n){let e=n.mapValue.fields.__previous_value__;return pC(e)?gC(e):e}function vd(n){let e=Xr(n.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}var HE=class{constructor(e,t,i,r,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Vg=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var xg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pC(n)?4:AN(n)?9007199254740991:SN(n)?10:11:ce()}function er(n,e){if(n===e)return!0;let t=fa(n);if(t!==fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vd(n).isEqual(vd(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Xr(r.timestampValue),a=Xr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Ys(r.bytesValue).isEqual(Ys(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return ft(r.geoPointValue.latitude)===ft(s.geoPointValue.latitude)&&ft(r.geoPointValue.longitude)===ft(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ft(r.integerValue)===ft(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=ft(r.doubleValue),a=ft(s.doubleValue);return o===a?yd(o)===yd(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Yc(n.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Wk(o)!==Wk(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!er(o[c],a[c])))return!1;return!0}(n,e);default:return ce()}}function _d(n,e){return(n.values||[]).find(t=>er(t,e))!==void 0}function Zc(n,e){if(n===e)return 0;let t=fa(n),i=fa(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ft(s.integerValue||s.doubleValue),c=ft(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Gk(n.timestampValue,e.timestampValue);case 4:return Gk(vd(n),vd(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Ys(s),c=Ys(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Le(a[l],c[l]);if(u!==0)return u}return Le(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Le(ft(s.latitude),ft(o.latitude));return a!==0?a:Le(ft(s.longitude),ft(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Kk(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,u;let h=s.fields||{},f=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(c=f.value)===null||c===void 0?void 0:c.arrayValue,v=Le(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((u=y?.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:Kk(g,y)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===xg.mapValue&&o===xg.mapValue)return 0;if(s===xg.mapValue)return 1;if(o===xg.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){let f=Le(c[h],u[h]);if(f!==0)return f;let g=Zc(a[c[h]],l[u[h]]);if(g!==0)return g}return Le(c.length,u.length)}(n.mapValue,e.mapValue);default:throw ce()}}function Gk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);let t=Xr(n),i=Xr(e),r=Le(t.seconds,i.seconds);return r!==0?r:Le(t.nanos,i.nanos)}function Kk(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=Zc(t[r],i[r]);if(s)return s}return Le(t.length,i.length)}function Xc(n){return qE(n)}function qE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Xr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ys(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=qE(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${qE(t.fields[o])}`;return r+"}"}(n.mapValue):ce()}function Qk(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function WE(n){return!!n&&"integerValue"in n}function mC(n){return!!n&&"arrayValue"in n}function Yk(n){return!!n&&"nullValue"in n}function Zk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pg(n){return!!n&&"mapValue"in n}function SN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function fd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return va(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=fd(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function AN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var jn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Pg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(t)}setAll(e){let t=Un.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=fd(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());Pg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Pg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){va(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(fd(this.value))}};function xN(n){let e=[];return va(n.fields,(t,i)=>{let r=new Un([t]);if(Pg(i)){let s=xN(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new ii(e)}var Ti=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ge.min(),ge.min(),ge.min(),jn.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,ge.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,ge.min(),ge.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ge.min(),ge.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Jc=class{constructor(e,t){this.position=e,this.inclusive=t}};function Xk(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=ie.comparator(ie.fromName(o.referenceValue),t.key):i=Zc(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Jk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!er(n.position[t],e.position[t]))return!1;return!0}var el=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function _W(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Bg=class{},Rt=class n extends Bg{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new KE(e,t,i):t==="array-contains"?new ZE(e,i):t==="in"?new XE(e,i):t==="not-in"?new JE(e,i):t==="array-contains-any"?new eI(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new QE(e,i):new YE(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zc(t,this.value)):t!==null&&fa(this.value)===fa(t)&&this.matchesComparison(Zc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Si=class n extends Bg{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return MN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function MN(n){return n.op==="and"}function PN(n){return bW(n)&&MN(n)}function bW(n){for(let e of n.filters)if(e instanceof Si)return!1;return!0}function GE(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+Xc(n.value);if(PN(n))return n.filters.map(e=>GE(e)).join(",");{let e=n.filters.map(t=>GE(t)).join(",");return`${n.op}(${e})`}}function RN(n,e){return n instanceof Rt?function(i,r){return r instanceof Rt&&i.op===r.op&&i.field.isEqual(r.field)&&er(i.value,r.value)}(n,e):n instanceof Si?function(i,r){return r instanceof Si&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&RN(o,r.filters[a]),!0):!1}(n,e):void ce()}function kN(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Xc(t.value)}`}(n):n instanceof Si?function(t){return t.op.toString()+" {"+t.getFilters().map(kN).join(" ,")+"}"}(n):"Filter"}var KE=class extends Rt{constructor(e,t,i){super(e,t,i),this.key=ie.fromName(i.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},QE=class extends Rt{constructor(e,t){super(e,"in",t),this.keys=NN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},YE=class extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=NN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function NN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ie.fromName(i.referenceValue))}var ZE=class extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return mC(t)&&_d(t.arrayValue,this.value)}},XE=class extends Rt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&_d(this.value.arrayValue,t)}},JE=class extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!_d(this.value.arrayValue,t)}},eI=class extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!mC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_d(this.value.arrayValue,i))}};var tI=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function eN(n,e=null,t=[],i=[],r=null,s=null,o=null){return new tI(n,e,t,i,r,s,o)}function yC(n){let e=de(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>GE(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),hm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Xc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Xc(i)).join(",")),e.ue=t}return e.ue}function vC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_W(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jk(n.startAt,e.startAt)&&Jk(n.endAt,e.endAt)}function nI(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var pa=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function wW(n,e,t,i,r,s,o,a){return new pa(n,e,t,i,r,s,o,a)}function _C(n){return new pa(n)}function tN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ON(n){return n.collectionGroup!==null}function pd(n){let e=de(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new an(Un.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new el(s,i))}),t.has(Un.keyField().canonicalString())||e.ce.push(new el(Un.keyField(),i))}return e.ce}function Xi(n){let e=de(n);return e.le||(e.le=EW(e,pd(n))),e.le}function EW(n,e){if(n.limitType==="F")return eN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new el(r.field,s)});let t=n.endAt?new Jc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Jc(n.startAt.position,n.startAt.inclusive):null;return eN(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function iI(n,e){let t=n.filters.concat([e]);return new pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rI(n,e,t){return new pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fm(n,e){return vC(Xi(n),Xi(e))&&n.limitType===e.limitType}function FN(n){return`${yC(Xi(n))}|lt:${n.limitType}`}function zc(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>kN(r)).join(", ")}]`),hm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Xc(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Xc(r)).join(",")),`Target(${i})`}(Xi(n))}; limitType=${n.limitType})`}function pm(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ie.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of pd(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let l=Xk(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,pd(i),r)||i.endAt&&!function(o,a,c){let l=Xk(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,pd(i),r))}(n,e)}function IW(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LN(n){return(e,t)=>{let i=!1;for(let r of pd(n)){let s=CW(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function CW(n,e,t){let i=n.field.isKeyField()?ie.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Zc(c,l):ce()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ce()}}var Zs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return TN(this.inner)}size(){return this.innerSize}};var DW=new Et(ie.comparator);function Jr(){return DW}var VN=new Et(ie.comparator);function hd(...n){let e=VN;for(let t of n)e=e.insert(t.key,t);return e}function BN(n){let e=VN;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ca(){return gd()}function jN(){return gd()}function gd(){return new Zs(n=>n.toString(),(n,e)=>n.isEqual(e))}var TW=new Et(ie.comparator),SW=new an(ie.comparator);function Ae(...n){let e=SW;for(let t of n)e=e.add(t);return e}var AW=new an(Le);function xW(){return AW}function bC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function UN(n){return{integerValue:""+n}}function MW(n,e){return fW(e)?UN(e):bC(n,e)}var tl=class{constructor(){this._=void 0}};function PW(n,e,t){return n instanceof nl?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&pC(s)&&(s=gC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ga?zN(n,e):n instanceof ma?HN(n,e):function(r,s){let o=$N(r,s),a=nN(o)+nN(r.Pe);return WE(o)&&WE(r.Pe)?UN(a):bC(r.serializer,a)}(n,e)}function RW(n,e,t){return n instanceof ga?zN(n,e):n instanceof ma?HN(n,e):t}function $N(n,e){return n instanceof il?function(i){return WE(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var nl=class extends tl{},ga=class extends tl{constructor(e){super(),this.elements=e}};function zN(n,e){let t=qN(e);for(let i of n.elements)t.some(r=>er(r,i))||t.push(i);return{arrayValue:{values:t}}}var ma=class extends tl{constructor(e){super(),this.elements=e}};function HN(n,e){let t=qN(e);for(let i of n.elements)t=t.filter(r=>!er(r,i));return{arrayValue:{values:t}}}var il=class extends tl{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function nN(n){return ft(n.integerValue||n.doubleValue)}function qN(n){return mC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kW(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof ga&&r instanceof ga||i instanceof ma&&r instanceof ma?Yc(i.elements,r.elements,er):i instanceof il&&r instanceof il?er(i.Pe,r.Pe):i instanceof nl&&r instanceof nl}(n.transform,e.transform)}var sI=class{constructor(e,t){this.version=e,this.transformResults=t}},Yr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Rg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var rl=class{};function WN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bd(n.key,Yr.none()):new ya(n.key,n.data,Yr.none());{let t=n.data,i=jn.empty(),r=new an(Un.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new tr(n.key,i,new ii(r.toArray()),Yr.none())}}function NW(n,e,t){n instanceof ya?function(r,s,o){let a=r.value.clone(),c=rN(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof tr?function(r,s,o){if(!Rg(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=rN(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(GN(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function md(n,e,t,i){return n instanceof ya?function(s,o,a,c){if(!Rg(s.precondition,o))return a;let l=s.value.clone(),u=sN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof tr?function(s,o,a,c){if(!Rg(s.precondition,o))return a;let l=sN(s.fieldTransforms,c,o),u=o.data;return u.setAll(GN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,a){return Rg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function OW(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=$N(i.transform,r||null);s!=null&&(t===null&&(t=jn.empty()),t.set(i.field,s))}return t||null}function iN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Yc(i,r,(s,o)=>kW(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ya=class extends rl{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},tr=class extends rl{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function GN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function rN(n,e,t){let i=new Map;Ge(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,RW(o,a,t[r]))}return i}function sN(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,PW(s,o,e))}return i}var bd=class extends rl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},oI=class extends rl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var aI=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&NW(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=md(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=md(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=jN();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let c=WN(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ge.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,(t,i)=>iN(t,i))&&Yc(this.baseMutations,e.baseMutations,(t,i)=>iN(t,i))}},cI=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ge(e.mutations.length===i.length);let r=function(){return TW}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var lI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var uI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Mt,Re;function FW(n){switch(n){default:return ce();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function KN(n){if(n===void 0)return Zr("GRPC error has no .code"),U.UNKNOWN;switch(n){case Mt.OK:return U.OK;case Mt.CANCELLED:return U.CANCELLED;case Mt.UNKNOWN:return U.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return U.INTERNAL;case Mt.UNAVAILABLE:return U.UNAVAILABLE;case Mt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Mt.NOT_FOUND:return U.NOT_FOUND;case Mt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Mt.ABORTED:return U.ABORTED;case Mt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Mt.DATA_LOSS:return U.DATA_LOSS;default:return ce()}}(Re=Mt||(Mt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";var oN=null;function LW(){return new TextEncoder}var VW=new Ks([4294967295,4294967295],0);function aN(n){let e=LW().encode(n),t=new DE;return t.update(e),new Uint8Array(t.digest())}function cN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ks([t,i],0),new Ks([r,s],0)]}var dI=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new la(`Invalid padding: ${t}`);if(i<0)throw new la(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new la(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new la(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ks.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Ks.fromNumber(i)));return r.compare(VW)===1&&(r=new Ks([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=aN(e),[i,r]=cN(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=aN(e),[i,r]=cN(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},la=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var jg=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,wd.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ge.min(),r,new Et(Le),Jr(),Ae())}},wd=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Ae(),Ae(),Ae())}};var Gc=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Ug=class{constructor(e,t){this.targetId=e,this.me=t}},$g=class{constructor(e,t,i=cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},zg=class{constructor(){this.fe=0,this.ge=uN(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),t=Ae(),i=Ae();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ce()}}),new wd(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=uN()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},hI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Jr(),this.qe=lN(),this.Qe=new Et(Le)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(nI(s))if(i===0){let o=new ie(s.path);this.Ue(t,o,Ti.newNoDocument(o,ge.min()))}else Ge(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}oN?.et(function(u,h,f,g,y){var v,_,S,x,k,F;let L={localCacheCount:u,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},O=h.unchangedNames;return O&&(L.bloomFilter={applied:y===0,hashCount:(v=O?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(x=(S=(_=O?.bits)===null||_===void 0?void 0:_.bitmap)===null||S===void 0?void 0:S.length)!==null&&x!==void 0?x:0,padding:(F=(k=O?.bits)===null||k===void 0?void 0:k.padding)!==null&&F!==void 0?F:0,mightContain:I=>{var b;return(b=g?.mightContain(I))!==null&&b!==void 0&&b}}),L}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=Ys(i).toUint8Array()}catch(c){if(c instanceof Lg)return Qc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new dI(o,r,s)}catch(c){return Qc(c instanceof la?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&nI(a.target)){let c=new ie(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Ti.newNoDocument(c,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=Ae();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new jg(e,t,this.Qe,this.ke,i);return this.ke=Jr(),this.qe=lN(),this.Qe=new Et(Le),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new zg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new an(Le),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||X("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function lN(){return new Et(ie.comparator)}function uN(){return new Et(ie.comparator)}var BW={asc:"ASCENDING",desc:"DESCENDING"},jW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UW={and:"AND",or:"OR"},fI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function pI(n,e){return n.useProto3Json||hm(e)?e:{value:e}}function Hg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $W(n,e){return Hg(n,e.toTimestamp())}function Ji(n){return Ge(!!n),ge.fromTimestamp(function(t){let i=Xr(t);return new Qt(i.seconds,i.nanos)}(n))}function wC(n,e){return gI(n,e).canonicalString()}function gI(n,e){let t=function(r){return new mt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function YN(n){let e=mt.fromString(n);return Ge(tO(e)),e}function mI(n,e){return wC(n.databaseId,e.path)}function PE(n,e){let t=YN(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(XN(t))}function ZN(n,e){return wC(n.databaseId,e)}function zW(n){let e=YN(n);return e.length===4?mt.emptyPath():XN(e)}function yI(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XN(n){return Ge(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function dN(n,e,t){return{name:mI(n,e),fields:t.value.mapValue.fields}}function HW(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Ge(u===void 0||typeof u=="string"),cn.fromBase64String(u||"")):(Ge(u===void 0||u instanceof Buffer||u instanceof Uint8Array),cn.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?U.UNKNOWN:KN(l.code);return new Q(u,l.message||"")}(o);t=new $g(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=PE(n,i.document.name),s=Ji(i.document.updateTime),o=i.document.createTime?Ji(i.document.createTime):ge.min(),a=new jn({mapValue:{fields:i.document.fields}}),c=Ti.newFoundDocument(r,s,o,a),l=i.targetIds||[],u=i.removedTargetIds||[];t=new Gc(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=PE(n,i.document),s=i.readTime?Ji(i.readTime):ge.min(),o=Ti.newNoDocument(r,s),a=i.removedTargetIds||[];t=new Gc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=PE(n,i.document),s=i.removedTargetIds||[];t=new Gc([],s,r,null)}else{if(!("filter"in e))return ce();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new uI(r,s),a=i.targetId;t=new Ug(a,o)}}return t}function qW(n,e){let t;if(e instanceof ya)t={update:dN(n,e.key,e.value)};else if(e instanceof bd)t={delete:mI(n,e.key)};else if(e instanceof tr)t={update:dN(n,e.key,e.data),updateMask:eG(e.fieldMask)};else{if(!(e instanceof oI))return ce();t={verify:mI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof nl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ga)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ma)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof il)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:$W(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(n,e.precondition)),t}function WW(n,e){return n&&n.length>0?(Ge(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?Ji(r.updateTime):Ji(s);return o.isEqual(ge.min())&&(o=Ji(s)),new sI(o,r.transformResults||[])}(t,e))):[]}function GW(n,e){return{documents:[ZN(n,e.path)]}}function KW(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ZN(n,r);let s=function(l){if(l.length!==0)return eO(Si.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Hc(f.field),direction:ZW(f.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=pI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:r}}function QW(n){let e=zW(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Ge(i===1);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){let f=JN(h);return f instanceof Si&&PN(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(y){return new el(qc(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,hm(f)?null:f}(t.limit));let c=null;t.startAt&&(c=function(h){let f=!!h.before,g=h.values||[];return new Jc(g,f)}(t.startAt));let l=null;return t.endAt&&(l=function(h){let f=!h.before,g=h.values||[];return new Jc(g,f)}(t.endAt)),wW(e,r,o,s,a,"F",c,l)}function YW(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=qc(t.unaryFilter.field);return Rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=qc(t.unaryFilter.field);return Rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=qc(t.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=qc(t.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(qc(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Si.create(t.compositeFilter.filters.map(i=>JN(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce()}}(t.compositeFilter.op))}(n):ce()}function ZW(n){return BW[n]}function XW(n){return jW[n]}function JW(n){return UW[n]}function Hc(n){return{fieldPath:n.canonicalString()}}function qc(n){return Un.fromServerFormat(n.fieldPath)}function eO(n){return n instanceof Rt?function(t){if(t.op==="=="){if(Zk(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NAN"}};if(Yk(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zk(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NAN"}};if(Yk(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(t.field),op:XW(t.op),value:t.value}}}(n):n instanceof Si?function(t){let i=t.getFilters().map(r=>eO(r));return i.length===1?i[0]:{compositeFilter:{op:JW(t.op),filters:i}}}(n):ce()}function eG(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ed=class n{constructor(e,t,i,r,s=ge.min(),o=ge.min(),a=cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vI=class{constructor(e){this.ct=e}};function tG(n){let e=QW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rI(e,e.limit,"L"):e}var qg=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ft(e.integerValue));else if("doubleValue"in e){let i=ft(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),yd(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Xr(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ys(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?AN(e)?this.dt(t,Number.MAX_SAFE_INTEGER):SN(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ce()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(ft(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),ie.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};qg.vt=new qg;var _I=class{constructor(){this.un=new bI}addToCollectionParentIndex(e,t){return this.un.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(ha.min())}updateCollectionGroup(e,t,i){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}},bI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new an(mt.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new an(mt.comparator)).toArray()}};var vue=new Uint8Array(0);var Yi=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Yi.DEFAULT_COLLECTION_PERCENTILE=10,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yi.DEFAULT=new Yi(41943040,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yi.DISABLED=new Yi(-1,0,0);var Id=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var wI=class{constructor(){this.changes=new Zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var EI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var II=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&md(i.mutation,r,ii.empty(),Qt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ae()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ae()){let r=ca();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=hd();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=ca();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ae()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Jr(),o=gd(),a=function(){return gd()}();return t.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof tr)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),md(u.mutation,l,u.mutation.getFieldMask(),Qt.now())):o.set(l.key,ii.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var h;return a.set(l,new EI(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=gd(),r=new Et((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=i.get(c)||ii.empty();u=a.applyToLocalView(l,u),i.set(c,u);let h=(r.get(a.batchId)||Ae()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,h=jN();u.forEach(f=>{if(!s.has(f)){let g=WN(t.get(f),i.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return q.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ON(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):q.resolve(ca()),a=-1,c=s;return o.next(l=>q.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?q.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Ae())).next(u=>({batchId:a,changes:BN(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(i=>{let r=hd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=hd();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,c=>{let l=function(h,f){return new pa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,Ti.newInvalidDocument(u)))});let a=hd();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&md(u.mutation,l,ii.empty(),Qt.now()),pm(t,l)&&(a=a.insert(c,l))}),a})}};var CI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Ji(r.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:tG(r.bundledQuery),readTime:Ji(r.readTime)}}(t)),q.resolve()}};var DI=class{constructor(){this.overlays=new Et(ie.comparator),this.Ir=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){let i=ca();return q.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),q.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),q.resolve()}getOverlaysForCollection(e,t,i){let r=ca(),s=t.length+1,o=new ie(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return q.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Et((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=s.get(l.largestBatchId);u===null&&(u=ca(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=ca(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return q.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new lI(t,i));let s=this.Ir.get(t);s===void 0&&(s=Ae(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var TI=class{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}};var Cd=class{constructor(){this.Tr=new an(Pt.Er),this.dr=new an(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Pt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new ie(new mt([])),i=new Pt(t,e),r=new Pt(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ie(new mt([])),i=new Pt(t,e),r=new Pt(t,e+1),s=Ae();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Pt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Pt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ie.comparator(e.key,t.key)||Le(e.wr,t.wr)}static Ar(e,t){return Le(e.wr,t.wr)||ie.comparator(e.key,t.key)}};var SI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new an(Pt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new aI(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,t){return q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Pt(t,0),r=new Pt(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new an(Le);return t.forEach(r=>{let s=new Pt(r,0),o=new Pt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),q.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;ie.isDocumentKey(s)||(s=s.child(""));let o=new Pt(new ie(s),0),a=new an(Le);return this.br.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ge(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return q.forEach(t.mutations,r=>{let s=new Pt(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Pt(t,0),r=this.br.firstAfterOrEqual(i);return q.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var AI=class{constructor(e){this.Mr=e,this.docs=function(){return new Et(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return q.resolve(i?i.document.mutableCopy():Ti.newInvalidDocument(t))}getEntries(e,t){let i=Jr();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ti.newInvalidDocument(r))}),q.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Jr(),o=t.path,a=new ie(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||uW(lW(u),i)<=0||(r.has(u.key)||pm(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ce()}Or(e,t){return q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xI(this)}getSize(e){return q.resolve(this.size)}},xI=class extends wI{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var MI=class{constructor(e){this.persistence=e,this.Nr=new Zs(t=>yC(t),vC),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cd,this.targetCount=0,this.kr=Id.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),q.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Id(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Kn(t),q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),q.waitFor(s).next(()=>r)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return q.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),q.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),q.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return q.resolve(i)}containsKey(e,t){return q.resolve(this.Br.containsKey(t))}};var PI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new DN(0),this.Kr=!1,this.Kr=!0,this.$r=new TI,this.referenceDelegate=e(this),this.Ur=new MI(this),this.indexManager=new _I,this.remoteDocumentCache=function(r){return new AI(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new vI(t),this.Gr=new CI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new SI(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){X("MemoryPersistence","Starting transaction:",e);let r=new RI(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return q.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},RI=class extends zE{constructor(e){super(),this.currentSequenceNumber=e}},kI=class n{constructor(e){this.persistence=e,this.Jr=new Cd,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),q.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,i=>{let r=ie.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,ge.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return q.or([()=>q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var NI=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=Ae(),r=Ae();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var OI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var FI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ER()?8:hW(zt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new OI;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(dd()<=Se.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",zc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(dd()<=Se.DEBUG&&X("QueryEngine","Query:",zc(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(dd()<=Se.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",zc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(t))):q.resolve())}Yi(e,t){if(tN(t))return q.resolve(null);let i=Xi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=rI(t,null,"F"),i=Xi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Ae(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.ts(t,a);return this.ns(t,l,o,c.readTime)?this.Yi(e,rI(t,null,"F")):this.rs(e,l,t,c)}))})))}Zi(e,t,i,r){return tN(t)||r.isEqual(ge.min())?q.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?q.resolve(null):(dd()<=Se.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zc(t)),this.rs(e,o,t,cW(r,-1)).next(a=>a))})}ts(e,t){let i=new an(LN(e));return t.forEach((r,s)=>{pm(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return dd()<=Se.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",zc(t)),this.Ji.getDocumentsMatchingQuery(e,t,ha.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var LI=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Et(Le),this._s=new Zs(s=>yC(s),vC),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new II(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function nG(n,e,t,i){return new LI(n,e,t,i)}function nO(n,e){return C(this,null,function*(){let t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=Ae();for(let l of r){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function iG(n,e){let t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let h=l.batch,f=h.keys(),g=q.resolve();return f.forEach(y=>{g=g.next(()=>u.getEntry(c,y)).next(v=>{let _=l.docVersions.get(y);Ge(_!==null),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Ae();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function iO(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function rG(n,e){let t=de(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((u,h)=>{let f=r.get(h);if(!f)return;a.push(t.Ur.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(s,u.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(cn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(h,g),function(v,_,S){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,g,u)&&a.push(t.Ur.updateTargetData(s,g))});let c=Jr(),l=Ae();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(sG(s,o,e.documentUpdates).next(u=>{c=u.Ps,l=u.Is})),!i.isEqual(ge.min())){let u=t.Ur.getLastRemoteSnapshotVersion(s).next(h=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.os=r,s))}function sG(n,e,t){let i=Ae(),r=Ae();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Jr();return t.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ge.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:o,Is:r}})}function oG(n,e){let t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function aG(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,q.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new Ed(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function VI(n,e,t){return C(this,null,function*(){let i=de(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Pd(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function hN(n,e,t){let i=de(n),r=ge.min(),s=Ae();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let h=de(c),f=h._s.get(u);return f!==void 0?q.resolve(h.os.get(f)):h.Ur.getTargetData(l,u)}(i,o,Xi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:ge.min(),t?s:Ae())).next(a=>(cG(i,IW(e),a),{documents:a,Ts:s})))}function cG(n,e,t){let i=n.us.get(e)||ge.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}var Wg=class{constructor(){this.activeTargetIds=xW()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var BI=class{constructor(){this.so=new Wg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wg,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var jI=class{_o(e){}shutdown(){}};var Gg=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Mg=null;function RE(){return Mg===null?Mg=function(){return 268435456+Math.round(2147483648*Math.random())}():Mg++,"0x"+Mg.toString(16)}var lG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var UI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var on="WebChannelConnection",$I=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let a=RE(),c=this.xo(t,i.toUriEncodedString());X("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(t,c,l,r).then(u=>(X("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw Qc("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}Lo(t,i,r,s,o,a){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=lG[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=RE();return new Promise((o,a)=>{let c=new TE;c.setWithCredentials(!0),c.listenOnce(SE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ud.NO_ERROR:let u=c.getResponseJson();X(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case ud.TIMEOUT:X(on,`RPC '${e}' ${s} timed out`),a(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case ud.HTTP_ERROR:let h=c.getStatus();if(X(on,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);let g=f?.error;if(g&&g.status&&g.message){let y=function(_){let S=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(S)>=0?S:U.UNKNOWN}(g.status);a(new Q(y,g.message))}else a(new Q(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Q(U.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{X(on,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(r);X(on,`RPC '${e}' ${s} sending request:`,r),c.send(t,"POST",l,i,15)})}Bo(e,t,i){let r=RE(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ME(),a=xE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let u=s.join("");X(on,`Creating RPC '${e}' stream ${r}: ${u}`,c);let h=o.createWebChannel(u,c),f=!1,g=!1,y=new UI({Io:_=>{g?X(on,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(f||(X(on,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),X(on,`RPC '${e}' stream ${r} sending:`,_),h.send(_))},To:()=>h.close()}),v=(_,S,x)=>{_.listen(S,k=>{try{x(k)}catch(F){setTimeout(()=>{throw F},0)}})};return v(h,$c.EventType.OPEN,()=>{g||(X(on,`RPC '${e}' stream ${r} transport opened.`),y.yo())}),v(h,$c.EventType.CLOSE,()=>{g||(g=!0,X(on,`RPC '${e}' stream ${r} transport closed`),y.So())}),v(h,$c.EventType.ERROR,_=>{g||(g=!0,Qc(on,`RPC '${e}' stream ${r} transport errored:`,_),y.So(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),v(h,$c.EventType.MESSAGE,_=>{var S;if(!g){let x=_.data[0];Ge(!!x);let k=x,F=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(F){X(on,`RPC '${e}' stream ${r} received error:`,F);let L=F.status,O=function(E){let T=Mt[E];if(T!==void 0)return KN(T)}(L),I=F.message;O===void 0&&(O=U.INTERNAL,I="Unknown error status: "+L+" with message "+F.message),g=!0,y.So(new Q(O,I)),h.close()}else X(on,`RPC '${e}' stream ${r} received:`,x),y.bo(x)}}),v(a,AE.STAT_EVENT,_=>{_.stat===Ag.PROXY?X(on,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===Ag.NOPROXY&&X(on,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}};function kE(){return typeof document<"u"?document:null}function gm(n){return new fI(n,!0)}var Kg=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&X("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Qg=class{constructor(e,t,i,r,s,o,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Kg(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new Q(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},zI=class extends Qg{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=HW(this.serializer,e),i=function(s){if(!("targetChange"in s))return ge.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Ji(o.readTime):ge.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=yI(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=nI(c)?{documents:GW(s,c)}:{query:KW(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QN(s,o.resumeToken);let l=pI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Hg(s,o.snapshotVersion.toTimestamp());let l=pI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=YW(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=yI(this.serializer),t.removeTarget=e,this.a_(t)}},HI=class extends Qg{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=WW(e.writeResults,e.commitTime),i=Ji(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=yI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>qW(this.serializer,i))};this.a_(t)}};var qI=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,gI(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(U.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,gI(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},WI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zr(t),this.D_=!1):X("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var GI=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>C(this,null,function*(){_a(this)&&(X("RemoteStore","Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let l=de(c);l.L_.add(4),yield Rd(l),l.q_.set("Unknown"),l.L_.delete(4),yield mm(l)})}(this))}))}),this.q_=new WI(i,r)}};function mm(n){return C(this,null,function*(){if(_a(n))for(let e of n.B_)yield e(!0)})}function Rd(n){return C(this,null,function*(){for(let e of n.B_)yield e(!1)})}function rO(n,e){let t=de(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),DC(t)?CC(t):ul(t).r_()&&IC(t,e))}function EC(n,e){let t=de(n),i=ul(t);t.N_.delete(e),i.r_()&&sO(t,e),t.N_.size===0&&(i.r_()?i.o_():_a(t)&&t.q_.set("Unknown"))}function IC(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ul(n).A_(e)}function sO(n,e){n.Q_.xe(e),ul(n).R_(e)}function CC(n){n.Q_=new hI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ul(n).start(),n.q_.v_()}function DC(n){return _a(n)&&!ul(n).n_()&&n.N_.size>0}function _a(n){return de(n).L_.size===0}function oO(n){n.Q_=void 0}function uG(n){return C(this,null,function*(){n.q_.set("Online")})}function dG(n){return C(this,null,function*(){n.N_.forEach((e,t)=>{IC(n,e)})})}function hG(n,e){return C(this,null,function*(){oO(n),DC(n)?(n.q_.M_(e),CC(n)):n.q_.set("Unknown")})}function fG(n,e,t){return C(this,null,function*(){if(n.q_.set("Online"),e instanceof $g&&e.state===2&&e.cause)try{yield function(r,s){return C(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Yg(n,i)}else if(e instanceof Gc?n.Q_.Ke(e):e instanceof Ug?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ge.min()))try{let i=yield iO(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.N_.get(c);if(!u)return;s.N_.set(c,u.withResumeToken(cn.EMPTY_BYTE_STRING,u.snapshotVersion)),sO(s,c);let h=new Ed(u.target,c,l,u.sequenceNumber);IC(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){X("RemoteStore","Failed to raise snapshot:",i),yield Yg(n,i)}})}function Yg(n,e,t){return C(this,null,function*(){if(!Pd(e))throw e;n.L_.add(1),yield Rd(n),n.q_.set("Offline"),t||(t=()=>iO(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){X("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield mm(n)}))})}function aO(n,e){return e().catch(t=>Yg(n,t,e))}function ym(n){return C(this,null,function*(){let e=de(n),t=Xs(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;pG(e);)try{let r=yield oG(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,gG(e,r)}catch(r){yield Yg(e,r)}cO(e)&&lO(e)})}function pG(n){return _a(n)&&n.O_.length<10}function gG(n,e){n.O_.push(e);let t=Xs(n);t.r_()&&t.V_&&t.m_(e.mutations)}function cO(n){return _a(n)&&!Xs(n).n_()&&n.O_.length>0}function lO(n){Xs(n).start()}function mG(n){return C(this,null,function*(){Xs(n).p_()})}function yG(n){return C(this,null,function*(){let e=Xs(n);for(let t of n.O_)e.m_(t.mutations)})}function vG(n,e,t){return C(this,null,function*(){let i=n.O_.shift(),r=cI.from(i,e,t);yield aO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ym(n)})}function _G(n,e){return C(this,null,function*(){e&&Xs(n).V_&&(yield function(i,r){return C(this,null,function*(){if(function(o){return FW(o)&&o!==U.ABORTED}(r.code)){let s=i.O_.shift();Xs(i).s_(),yield aO(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield ym(i)}})}(n,e)),cO(n)&&lO(n)})}function fN(n,e){return C(this,null,function*(){let t=de(n);t.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");let i=_a(t);t.L_.add(3),yield Rd(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield mm(t)})}function bG(n,e){return C(this,null,function*(){let t=de(n);e?(t.L_.delete(2),yield mm(t)):e||(t.L_.add(2),yield Rd(t),t.q_.set("Unknown"))})}function ul(n){return n.K_||(n.K_=function(t,i,r){let s=de(t);return s.w_(),new zI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:uG.bind(null,n),Ro:dG.bind(null,n),mo:hG.bind(null,n),d_:fG.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.K_.s_(),DC(n)?CC(n):n.q_.set("Unknown")):(yield n.K_.stop(),oO(n))}))),n.K_}function Xs(n){return n.U_||(n.U_=function(t,i,r){let s=de(t);return s.w_(),new HI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mG.bind(null,n),mo:_G.bind(null,n),f_:yG.bind(null,n),g_:vG.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.U_.s_(),yield ym(n)):(yield n.U_.stop(),n.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var KI=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function TC(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),Pd(n))return new Q(U.UNAVAILABLE,`${e}: ${n}`);throw n}var Zg=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ie.comparator(t.key,i.key):(t,i)=>ie.comparator(t.key,i.key),this.keyedMap=hd(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Xg=class{constructor(){this.W_=new Et(ie.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},sl=class n{constructor(e,t,i,r,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Zg.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var QI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},YI=class{constructor(){this.queries=pN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=de(t),s=r.queries;r.queries=pN(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(i)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}};function pN(){return new Zs(n=>FN(n),fm)}function uO(n,e){return C(this,null,function*(){let t=de(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new QI,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=TC(o,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&SC(t)})}function dO(n,e){return C(this,null,function*(){let t=de(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function wG(n,e){let t=de(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&SC(t)}function EG(n,e,t){let i=de(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function SC(n){n.Y_.forEach(e=>{e.next()})}var ZI,gN;(gN=ZI||(ZI={})).ea="default",gN.Cache="cache";var Jg=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new sl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ZI.Cache}};var em=class{constructor(e){this.key=e}},tm=class{constructor(e){this.key=e}},XI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=LN(e),this.Ra=new Zg(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Xg,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{let f=r.get(u),g=pm(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),_=!1;f&&g?f.data.isEqual(g.data)?y!==v&&(i.track({type:3,doc:g}),_=!0):this.ga(f,g)||(i.track({type:2,doc:g}),_=!0,(c&&this.Aa(g,c)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!f&&g?(i.track({type:0,doc:g}),_=!0):f&&!g&&(i.track({type:1,doc:f}),_=!0,(c||l)&&(a=!0)),_&&(g?(o=o.add(g),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((u,h)=>function(g,y){let v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return v(g)-v(y)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,l=c!==this.Ea;return this.Ea=c,o.length!==0||l?{snapshot:new sl(this.query,e.Ra,s,o,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ae(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new tm(i))}),this.da.forEach(i=>{e.has(i)||t.push(new em(i))}),t}ba(e){this.Ta=e.Ts,this.da=Ae();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return sl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},JI=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},eC=class{constructor(e){this.key=e,this.va=!1}},tC=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Zs(a=>FN(a),fm),this.Ma=new Map,this.xa=new Set,this.Oa=new Et(ie.comparator),this.Na=new Map,this.La=new Cd,this.Ba={},this.ka=new Map,this.qa=Id.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function IG(n,e,t=!0){return C(this,null,function*(){let i=yO(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield hO(i,e,t,!0),r})}function CG(n,e){return C(this,null,function*(){let t=yO(n);yield hO(t,e,!0,!1)})}function hO(n,e,t,i){return C(this,null,function*(){let r=yield aG(n.localStore,Xi(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return i&&(a=yield DG(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&rO(n.remoteStore,r),a})}function DG(n,e,t,i,r){return C(this,null,function*(){n.Ka=(h,f,g)=>function(v,_,S,x){return C(this,null,function*(){let k=_.view.ma(S);k.ns&&(k=yield hN(v.localStore,_.query,!1).then(({documents:I})=>_.view.ma(I,k)));let F=x&&x.targetChanges.get(_.targetId),L=x&&x.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(k,v.isPrimaryClient,F,L);return yN(v,_.targetId,O.wa),O.snapshot})}(n,h,f,g);let s=yield hN(n.localStore,e,!0),o=new XI(e,s.Ts),a=o.ma(s.documents),c=wd.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),l=o.applyChanges(a,n.isPrimaryClient,c);yN(n,t,l.wa);let u=new JI(e,t,o);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function TG(n,e,t){return C(this,null,function*(){let i=de(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!fm(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield VI(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&EC(i.remoteStore,r.targetId),nC(i,r.targetId)}).catch(Md))):(nC(i,r.targetId),yield VI(i.localStore,r.targetId,!0))})}function SG(n,e){return C(this,null,function*(){let t=de(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),EC(t.remoteStore,i.targetId))})}function AG(n,e,t){return C(this,null,function*(){let i=OG(n);try{let r=yield function(o,a){let c=de(o),l=Qt.now(),u=a.reduce((g,y)=>g.add(y.key),Ae()),h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Jr(),v=Ae();return c.cs.getEntries(g,u).next(_=>{y=_,y.forEach((S,x)=>{x.isValidDocument()||(v=v.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(_=>{h=_;let S=[];for(let x of a){let k=OW(x,h.get(x.key).overlayedDocument);k!=null&&S.push(new tr(x.key,k,xN(k.value.mapValue),Yr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,S,a)}).next(_=>{f=_;let S=_.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(g,_.batchId,S)})}).then(()=>({batchId:f.batchId,changes:BN(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let l=o.Ba[o.currentUser.toKey()];l||(l=new Et(Le)),l=l.insert(a,c),o.Ba[o.currentUser.toKey()]=l}(i,r.batchId,t),yield kd(i,r.changes),yield ym(i.remoteStore)}catch(r){let s=TC(r,"Failed to persist write");t.reject(s)}})}function fO(n,e){return C(this,null,function*(){let t=de(n);try{let i=yield rG(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(Ge(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Ge(o.va):r.removedDocuments.size>0&&(Ge(o.va),o.va=!1))}),yield kd(t,i,e)}catch(i){yield Md(i)}})}function mN(n,e,t){let i=de(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=de(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(let f of h.j_)f.Z_(a)&&(l=!0)}),l&&SC(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function xG(n,e,t){return C(this,null,function*(){let i=de(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new Et(ie.comparator);o=o.insert(s,Ti.newNoDocument(s,ge.min()));let a=Ae().add(s),c=new jg(ge.min(),new Map,new Et(Le),o,a);yield fO(i,c),i.Oa=i.Oa.remove(s),i.Na.delete(e),AC(i)}else yield VI(i.localStore,e,!1).then(()=>nC(i,e,t)).catch(Md)})}function MG(n,e){return C(this,null,function*(){let t=de(n),i=e.batch.batchId;try{let r=yield iG(t.localStore,e);gO(t,i,null),pO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield kd(t,r)}catch(r){yield Md(r)}})}function PG(n,e,t){return C(this,null,function*(){let i=de(n);try{let r=yield function(o,a){let c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ge(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);gO(i,e,t),pO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield kd(i,r)}catch(r){yield Md(r)}})}function pO(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function gO(n,e,t){let i=de(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function nC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||mO(n,i)})}function mO(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(EC(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),AC(n))}function yN(n,e,t){for(let i of t)i instanceof em?(n.La.addReference(i.key,e),RG(n,i)):i instanceof tm?(X("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||mO(n,i.key)):ce()}function RG(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(X("SyncEngine","New document in limbo: "+t),n.xa.add(i),AC(n))}function AC(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ie(mt.fromString(e)),i=n.qa.next();n.Na.set(i,new eC(t)),n.Oa=n.Oa.insert(t,i),rO(n.remoteStore,new Ed(Xi(_C(t.path)),i,"TargetPurposeLimboResolution",DN.oe))}}function kd(n,e,t){return C(this,null,function*(){let i=de(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{o.push(i.Ka(c,e,t).then(l=>{var u;if((l||t)&&i.isPrimaryClient){let h=l?!l.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){r.push(l);let h=NI.Wi(c.targetId,l);s.push(h)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(c,l){return C(this,null,function*(){let u=de(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(l,f=>q.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>q.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Pd(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let f=h.targetId;if(!h.fromCache){let g=u.os.get(f),y=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(y);u.os=u.os.insert(f,v)}}})}(i.localStore,s))})}function kG(n,e){return C(this,null,function*(){let t=de(n);if(!t.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());let i=yield nO(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new Q(U.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield kd(t,i.hs)}})}function NG(n,e){let t=de(n),i=t.Na.get(e);if(i&&i.va)return Ae().add(i.key);{let r=Ae(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let a=t.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function yO(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xG.bind(null,e),e.Ca.d_=wG.bind(null,e.eventManager),e.Ca.$a=EG.bind(null,e.eventManager),e}function OG(n){let e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PG.bind(null,e),e}var vN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=gm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return nG(this.persistence,new FI,t.initialUser,this.serializer)}Ga(t){return new PI(kI.Zr,this.serializer)}Wa(t){return new BI}terminate(){return C(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var FG=(()=>{class n{initialize(t,i){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kG.bind(null,this.syncEngine),yield bG(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new YI}()}createDatastore(t){let i=gm(t.databaseInfo.databaseId),r=function(o){return new $I(o)}(t.databaseInfo);return function(o,a,c,l){return new qI(o,a,c,l)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,s,o,a,c){return new GI(r,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,i=>mN(this.syncEngine,i,0),function(){return Gg.D()?new Gg:new jI}())}createSyncEngine(t,i){return function(s,o,a,c,l,u,h){let f=new tC(s,o,a,c,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return C(this,null,function*(){var t,i;yield function(s){return C(this,null,function*(){let o=de(s);X("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Rd(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var nm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var iC=class{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ht.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>C(this,null,function*(){X("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=TC(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function NE(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>C(this,null,function*(){i.isEqual(r)||(yield nO(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function _N(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield LG(n);X("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>fN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>fN(e.remoteStore,r)),n._onlineComponents=e})}function LG(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{yield NE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Qc("Error using user provided cache. Falling back to memory cache: "+t),yield NE(n,new vN)}}else X("FirestoreClient","Using default OfflineComponentProvider"),yield NE(n,new vN);return n._offlineComponents})}function vO(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),yield _N(n,n._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),yield _N(n,new FG))),n._onlineComponents})}function VG(n){return vO(n).then(e=>e.syncEngine)}function _O(n){return C(this,null,function*(){let e=yield vO(n),t=e.eventManager;return t.onListen=IG.bind(null,e.syncEngine),t.onUnlisten=TG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CG.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SG.bind(null,e.syncEngine),t})}function BG(n,e,t={}){let i=new Di;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,c,l){let u=new nm({next:f=>{u.Za(),o.enqueueAndForget(()=>dO(s,h));let g=f.docs.has(a);!g&&f.fromCache?l.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&c&&c.source==="server"?l.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Jg(_C(a.path),u,{includeMetadataChanges:!0,_a:!0});return uO(s,h)}(yield _O(n),n.asyncQueue,e,t,i)})),i.promise}function jG(n,e,t={}){let i=new Di;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,c,l){let u=new nm({next:f=>{u.Za(),o.enqueueAndForget(()=>dO(s,h)),f.fromCache&&c.source==="server"?l.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Jg(a,u,{includeMetadataChanges:!0,_a:!0});return uO(s,h)}(yield _O(n),n.asyncQueue,e,t,i)})),i.promise}function bO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var bN=new Map;function wO(n,e,t){if(!t)throw new Q(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function UG(n,e,t,i){if(e===!0&&i===!0)throw new Q(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wN(n){if(!ie.isDocumentKey(n))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EN(n){if(ie.isDocumentKey(n))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ce()}function es(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=vm(n);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var im=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bO((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ol=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new im({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new im(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new OE;switch(i.type){case"firstParty":return new BE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=bN.get(t);i&&(X("ComponentProvider","Removing Datastore"),bN.delete(t),i.terminate())}(this),Promise.resolve()}};function EO(n,e,t,i={}){var r;let s=(n=es(n,ol))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Ht.MOCK_USER;else{a=mR(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ht(l)}n._authCredentials=new FE(new kg(a,c))}}var al=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Cn=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Qs=class n extends al{constructor(e,t,i){super(e,t,_C(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function IO(n,e,...t){if(n=xt(n),wO("collection","path",e),n instanceof ol){let i=mt.fromString(e,...t);return EN(i),new Qs(n,null,i)}{if(!(n instanceof Cn||n instanceof Qs))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(mt.fromString(e,...t));return EN(i),new Qs(n.firestore,null,i)}}function xC(n,e,...t){if(n=xt(n),arguments.length===1&&(e=Ng.newId()),wO("doc","path",e),n instanceof ol){let i=mt.fromString(e,...t);return wN(i),new Cn(n,null,new ie(i))}{if(!(n instanceof Cn||n instanceof Qs))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(mt.fromString(e,...t));return wN(i),new Cn(n.firestore,n instanceof Qs?n.converter:null,new ie(i))}}var rm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Kg(this,"async_queue_retry"),this.Vu=()=>{let i=kE();i&&X("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=kE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=kE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pd(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Zr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=KI.createAndSchedule(this,e,t,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&ce()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var Js=class extends ol{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new rm,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new rm(e),this._firestoreClient=void 0,yield e}})}};function CO(n,e){let t=typeof n=="object"?n:Oc(),i=typeof n=="string"?n:e||"(default)",r=ed(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=gR("firestore");s&&EO(r,...s)}return r}function MC(n){if(n._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$G(n),n._firestoreClient}function $G(n){var e,t,i;let r=n._freezeSettings(),s=function(a,c,l,u){return new HE(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,bO(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new iC(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Dd=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(cn.fromBase64String(e))}catch(t){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var cl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Td=class{constructor(e){this._methodName=e}};var Sd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}};var Ad=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var zG=/^__.*__$/,rC=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new tr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ya(e,this.data,t,this.fieldTransforms)}},sm=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new tr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function DO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var sC=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return am(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DO(this.Cu)&&zG.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},oC=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gm(e)}Qu(e,t,i,r=!1){return new sC({Cu:e,methodName:t,qu:i,path:Un.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function PC(n){let e=n._freezeSettings(),t=gm(n._databaseId);return new oC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HG(n,e,t,i,r,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,r);RC("Data must be an object, but it was:",o,i);let a=TO(i,o),c,l;if(s.merge)c=new ii(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let h of s.mergeFields){let f=aC(e,h,t);if(!o.contains(f))throw new Q(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);AO(u,f)||u.push(f)}c=new ii(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new rC(new jn(a),c,l)}var om=class n extends Td{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function qG(n,e,t,i){let r=n.Qu(1,e,t);RC("Data must be an object, but it was:",r,i);let s=[],o=jn.empty();va(i,(c,l)=>{let u=kC(e,c,t);l=xt(l);let h=r.Nu(u);if(l instanceof om)s.push(u);else{let f=Nd(l,h);f!=null&&(s.push(u),o.set(u,f))}});let a=new ii(s);return new sm(o,a,r.fieldTransforms)}function WG(n,e,t,i,r,s){let o=n.Qu(1,e,t),a=[aC(e,i,t)],c=[r];if(s.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(aC(e,s[f])),c.push(s[f+1]);let l=[],u=jn.empty();for(let f=a.length-1;f>=0;--f)if(!AO(l,a[f])){let g=a[f],y=c[f];y=xt(y);let v=o.Nu(g);if(y instanceof om)l.push(g);else{let _=Nd(y,v);_!=null&&(l.push(g),u.set(g,_))}}let h=new ii(l);return new sm(u,h,o.fieldTransforms)}function GG(n,e,t,i=!1){return Nd(t,n.Qu(i?4:3,e))}function Nd(n,e){if(SO(n=xt(n)))return RC("Unsupported field value:",e,n),TO(n,e);if(n instanceof Td)return function(i,r){if(!DO(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=Nd(a,r.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return MW(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Qt.fromDate(i);return{timestampValue:Hg(r.serializer,s)}}if(i instanceof Qt){let s=new Qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hg(r.serializer,s)}}if(i instanceof Sd)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dd)return{bytesValue:QN(r.serializer,i._byteString)};if(i instanceof Cn){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wC(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ad)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return bC(a.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${vm(i)}`)}(n,e)}function TO(n,e){let t={};return TN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,(i,r)=>{let s=Nd(r,e.Mu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function SO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qt||n instanceof Sd||n instanceof Dd||n instanceof Cn||n instanceof Td||n instanceof Ad)}function RC(n,e,t){if(!SO(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=vm(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function aC(n,e,t){if((e=xt(e))instanceof cl)return e._internalPath;if(typeof e=="string")return kC(n,e);throw am("Field path arguments must be of type string or ",n,!1,void 0,t)}var KG=new RegExp("[~\\*/\\[\\]]");function kC(n,e,t){if(e.search(KG)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cl(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function am(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new Q(U.INVALID_ARGUMENT,a+n+c)}function AO(n,e){return n.some(t=>t.isEqual(e))}var cm=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(NC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},cC=class extends cm{data(){return super.data()}};function NC(n,e){return typeof e=="string"?kC(n,e):e instanceof cl?e._internalPath:e._delegate._internalPath}function QG(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xd=class{},lC=class extends xd{};function xO(n,e,...t){let i=[];e instanceof xd&&i.push(e),i=i.concat(t),function(s){let o=s.filter(c=>c instanceof uC).length,a=s.filter(c=>c instanceof lm).length;if(o>1||o>0&&a>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var lm=class n extends lC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return PO(e._query,t),new al(e.firestore,e.converter,iI(e._query,t))}_parse(e){let t=PC(e.firestore);return function(s,o,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){CN(h,u);let g=[];for(let y of h)g.push(IN(c,s,y));f={arrayValue:{values:g}}}else f=IN(c,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||CN(h,u),f=GG(a,o,h,u==="in"||u==="not-in");return Rt.create(l,u,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function MO(n,e,t){let i=e,r=NC("where",n);return lm._create(r,i,t)}var uC=class n extends xd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Si.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)PO(o,c),o=iI(o,c)}(e._query,t),new al(e.firestore,e.converter,iI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function IN(n,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ON(e)&&t.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(mt.fromString(t));if(!ie.isDocumentKey(i))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qk(n,new ie(i))}if(t instanceof Cn)return Qk(n,t._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(t)}.`)}function CN(n,e){if(!Array.isArray(n)||n.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PO(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var dC=class{convertValue(e,t="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return va(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>ft(o.doubleValue));return new Ad(s)}convertGeoPoint(e){return new Sd(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=gC(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){let t=Xr(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=mt.fromString(e);Ge(tO(i));let r=new Vg(i.get(1),i.get(3)),s=new ie(i.popFirst(5));return r.isEqual(t)||Zr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function YG(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var ua=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},um=class extends cm{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(NC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Kc=class extends um{data(e={}){return super.data(e)}},hC=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ua(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Kc(this._firestore,this._userDataWriter,i.key,i,new ua(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Kc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ua(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Kc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ua(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:ZG(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function ZG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}function RO(n){n=es(n,Cn);let e=es(n.firestore,Js);return BG(MC(e),n._key).then(t=>XG(e,n,t))}var dm=class extends dC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dd(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}};function kO(n){n=es(n,al);let e=es(n.firestore,Js),t=MC(e),i=new dm(e);return QG(n._query),jG(t,n._query).then(r=>new hC(e,i,n,r))}function NO(n,e,t,...i){n=es(n,Cn);let r=es(n.firestore,Js),s=PC(r),o;return o=typeof(e=xt(e))=="string"||e instanceof cl?WG(s,"updateDoc",n._key,e,t,i):qG(s,"updateDoc",n._key,e),OC(r,[o.toMutation(n._key,Yr.exists(!0))])}function OO(n){return OC(es(n.firestore,Js),[new bd(n._key,Yr.none())])}function FO(n,e){let t=es(n.firestore,Js),i=xC(n),r=YG(n.converter,e);return OC(t,[HG(PC(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Yr.exists(!1))]).then(()=>i)}function OC(n,e){return function(i,r){let s=new Di;return i.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return AG(yield VG(i),r,s)})),s.promise}(MC(n),e)}function XG(n,e,t){let i=t.docs.get(e._key),r=new dm(n);return new um(n,r,e._key,i,new ua(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){ll=r})(Hs),zs(new ni("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new Js(new LE(i.getProvider("auth-internal")),new UE(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vg(l.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Vt(qk,"4.7.3",e),Vt(qk,"4.7.3","esm2017")})();var ts=class{constructor(e){return e}},LO="firestore",FC=class{constructor(){return td(LO)}};var LC=new ee("angularfire2.firestore-instances");function JG(n,e){let t=ag(LO,n,e);return t&&new ts(t)}function e7(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ts(i)}}var t7={provide:FC,deps:[[new wn,LC]]},n7={provide:ts,useFactory:JG,deps:[[new wn,LC],Hr]};function VO(n,...e){return Vt("angularfire",ta.full,"fst"),Kn([n7,t7,{provide:LC,useFactory:e7(n),multi:!0,deps:[Oe,Ut,Vc,na,[new wn,ld],[new wn,Lc],...e]}])}var _m=Bt(FO,!0);var Ai=Bt(IO,!0);var BO=Bt(OO,!0);var eo=Bt(xC,!0);var jO=Bt(RO,!0);var ba=Bt(kO,!0);var UO=Bt(CO,!0);var dl=Bt(xO,!0);var hl=Bt(NO,!0);var fl=Bt(MO,!0);var me=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(me||{}),nr="*";function $O(n,e){return{type:me.Trigger,name:n,definitions:e,options:{}}}function VC(n,e=null){return{type:me.Animate,styles:e,timings:n}}function zO(n,e=null){return{type:me.Sequence,steps:n,options:e}}function wa(n){return{type:me.Style,styles:n,offset:null}}function bm(n,e,t){return{type:me.State,name:n,styles:e,options:t}}function BC(n,e,t=null){return{type:me.Transition,expr:n,animation:e,options:t}}var to=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Od=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},wm="!";function HO(n){return new z(3e3,!1)}function i7(){return new z(3100,!1)}function r7(){return new z(3101,!1)}function s7(n){return new z(3001,!1)}function o7(n){return new z(3003,!1)}function a7(n){return new z(3004,!1)}function c7(n,e){return new z(3005,!1)}function l7(){return new z(3006,!1)}function u7(){return new z(3007,!1)}function d7(n,e){return new z(3008,!1)}function h7(n){return new z(3002,!1)}function f7(n,e,t,i,r){return new z(3010,!1)}function p7(){return new z(3011,!1)}function g7(){return new z(3012,!1)}function m7(){return new z(3200,!1)}function y7(){return new z(3202,!1)}function v7(){return new z(3013,!1)}function _7(n){return new z(3014,!1)}function b7(n){return new z(3015,!1)}function w7(n){return new z(3016,!1)}function E7(n,e){return new z(3404,!1)}function I7(n){return new z(3502,!1)}function C7(n){return new z(3503,!1)}function D7(){return new z(3300,!1)}function T7(n){return new z(3504,!1)}function S7(n){return new z(3301,!1)}function A7(n,e){return new z(3302,!1)}function x7(n){return new z(3303,!1)}function M7(n,e){return new z(3400,!1)}function P7(n){return new z(3401,!1)}function R7(n){return new z(3402,!1)}function k7(n,e){return new z(3505,!1)}function no(n){switch(n.length){case 0:return new to;case 1:return n[0];default:return new Od(n)}}function rF(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==o,h=u&&a||new Map;c.forEach((f,g)=>{let y=g,v=f;if(g!=="offset")switch(y=n.normalizePropertyName(y,r),v){case wm:v=t.get(g);break;case nr:v=i.get(g);break;default:v=n.normalizeStyleValue(g,y,v,r);break}h.set(y,v)}),u||s.push(h),a=h,o=l}),r.length)throw I7(r);return s}function cD(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&jC(t,"start",n)));break;case"done":n.onDone(()=>i(t&&jC(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&jC(t,"destroy",n)));break}}function jC(n,e,t){let i=t.totalTime,r=!!t.disabled,s=lD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function lD(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function zn(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function qO(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var N7=typeof document>"u"?null:document.documentElement;function uD(n){let e=n.parentNode||n.host||null;return e===N7?null:e}function O7(n){return n.substring(1,6)=="ebkit"}var Ea=null,WO=!1;function F7(n){Ea||(Ea=L7()||{},WO=Ea.style?"WebkitAppearance"in Ea.style:!1);let e=!0;return Ea.style&&!O7(n)&&(e=n in Ea.style,!e&&WO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ea.style)),e}function L7(){return typeof document<"u"?document.body:null}function sF(n,e){for(;e;){if(e===n)return!0;e=uD(e)}return!1}function oF(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var dD=(()=>{class n{validateStyleProperty(t){return F7(t)}containsElement(t,i){return sF(t,i)}getParentElement(t){return uD(t)}query(t,i,r){return oF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],c){return new to(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),Da=class{static{this.NOOP=new dD}},Ta=class{};var V7=1e3,aF="{{",B7="}}",cF="ng-enter",WC="ng-leave",Em="ng-trigger",Sm=".ng-trigger",GO="ng-animating",GC=".ng-animating";function ns(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:KC(parseFloat(e[1]),e[2])}function KC(n,e){switch(e){case"s":return n*V7;default:return n}}function Am(n,e,t){return n.hasOwnProperty("duration")?n:j7(n,e,t)}function j7(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(HO(n)),{duration:0,delay:0,easing:""};r=KC(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=KC(parseFloat(c),a[4]));let l=a[5];l&&(o=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(i7()),a=!0),s<0&&(e.push(r7()),a=!0),a&&e.splice(c,0,HO(n))}return{duration:r,delay:s,easing:o}}function U7(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function ir(n,e,t){e.forEach((i,r)=>{let s=hD(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Ca(n,e){e.forEach((t,i)=>{let r=hD(i);n.style[r]=""})}function Fd(n){return Array.isArray(n)?n.length==1?n[0]:zO(n):n}function $7(n,e,t){let i=e.params||{},r=lF(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(s7(s))})}var QC=new RegExp(`${aF}\\s*(.+?)\\s*${B7}`,"g");function lF(n){let e=[];if(typeof n=="string"){let t;for(;t=QC.exec(n);)e.push(t[1]);QC.lastIndex=0}return e}function Vd(n,e,t){let i=`${n}`,r=i.replace(QC,(s,o)=>{let a=e[o];return a==null&&(t.push(o7(o)),a=""),a.toString()});return r==i?n:r}var z7=/-+([a-z0-9])/g;function hD(n){return n.replace(z7,(...e)=>e[1].toUpperCase())}function H7(n,e){return n===0||e===0}function q7(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,fD(n,a)))}}return e}function $n(n,e,t){switch(e.type){case me.Trigger:return n.visitTrigger(e,t);case me.State:return n.visitState(e,t);case me.Transition:return n.visitTransition(e,t);case me.Sequence:return n.visitSequence(e,t);case me.Group:return n.visitGroup(e,t);case me.Animate:return n.visitAnimate(e,t);case me.Keyframes:return n.visitKeyframes(e,t);case me.Style:return n.visitStyle(e,t);case me.Reference:return n.visitReference(e,t);case me.AnimateChild:return n.visitAnimateChild(e,t);case me.AnimateRef:return n.visitAnimateRef(e,t);case me.Query:return n.visitQuery(e,t);case me.Stagger:return n.visitStagger(e,t);default:throw a7(e.type)}}function fD(n,e){return window.getComputedStyle(n)[e]}var W7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),xm=class extends Ta{normalizePropertyName(e,t){return hD(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(W7.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(c7(e,i))}return o+s}};var Mm="*";function G7(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>K7(i,t,e)):t.push(n),t}function K7(n,e,t){if(n[0]==":"){let c=Q7(n,t);if(typeof c=="function"){e.push(c);return}n=c}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(b7(n)),e;let r=i[1],s=i[2],o=i[3];e.push(KO(r,o));let a=r==Mm&&o==Mm;s[0]=="<"&&!a&&e.push(KO(o,r))}function Q7(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(w7(n)),"* => *"}}var Im=new Set(["true","1"]),Cm=new Set(["false","0"]);function KO(n,e){let t=Im.has(n)||Cm.has(n),i=Im.has(e)||Cm.has(e);return(r,s)=>{let o=n==Mm||n==r,a=e==Mm||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?Im.has(n):Cm.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?Im.has(e):Cm.has(e)),o&&a}}var uF=":self",Y7=new RegExp(`s*${uF}s*,?`,"g");function dF(n,e,t,i){return new YC(n).build(e,t,i)}var QO="",YC=class{constructor(e){this._driver=e}build(e,t,i){let r=new ZC(t);return this._resetContextStyleTimingState(r),$n(this,Fd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=QO,e.collectedStyles=new Map,e.collectedStyles.set(QO,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(l7()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==me.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,t))}),c.name=l}else if(a.type==me.Transition){let c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,o.push(c)}else t.errors.push(u7())}),{type:me.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{lF(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&t.errors.push(d7(e.name,[...s.values()]))}return{type:me.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=$n(this,Fd(e.animation),t),r=G7(e.expr,t.errors);return{type:me.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ia(e.options)}}visitSequence(e,t){return{type:me.Sequence,steps:e.steps.map(i=>$n(this,i,t)),options:Ia(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=$n(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:me.Group,steps:s,options:Ia(e.options)}}visitAnimate(e,t){let i=eK(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:wa({});if(s.type==me.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let l={};i.easing&&(l.easing=i.easing),o=wa(l)}t.currentTime+=i.duration+i.delay;let c=this.visitStyle(o,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:me.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===nr?i.push(a):t.errors.push(h7(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(aF)>=0){s=!0;break}}}),{type:me.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),h=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(f7(c,u.startTime,u.endTime,s,r)),h=!1),s=u.startTime),h&&l.set(c,{startTime:s,endTime:r}),t.options&&$7(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:me.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(p7()),i;let r=1,s=0,o=[],a=!1,c=!1,l=0,u=e.steps.map(S=>{let x=this._makeStyleAst(S,t),k=x.offset!=null?x.offset:J7(x.styles),F=0;return k!=null&&(s++,F=x.offset=k),c=c||F<0||F>1,a=a||F<l,l=F,o.push(F),x});c&&t.errors.push(g7()),a&&t.errors.push(m7());let h=e.steps.length,f=0;s>0&&s<h?t.errors.push(y7()):s==0&&(f=r/(h-1));let g=h-1,y=t.currentTime,v=t.currentAnimateTimings,_=v.duration;return u.forEach((S,x)=>{let k=f>0?x==g?1:f*x:o[x],F=k*_;t.currentTime=y+v.delay+F,v.duration=F,this._validateStyleAst(S,t),S.offset=k,i.styles.push(S)}),i}visitReference(e,t){return{type:me.Reference,animation:$n(this,Fd(e.animation),t),options:Ia(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:me.AnimateChild,options:Ia(e.options)}}visitAnimateRef(e,t){return{type:me.AnimateRef,animation:this.visitReference(e.animation,t),options:Ia(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=Z7(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,zn(t.collectedStyles,t.currentQuerySelector,new Map);let a=$n(this,Fd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:me.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ia(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(v7());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Am(e.timings,t.errors,!0);return{type:me.Stagger,animation:$n(this,Fd(e.animation),t),timings:i,options:null}}};function Z7(n){let e=!!n.split(/\s*,\s*/).find(t=>t==uF);return e&&(n=n.replace(Y7,"")),n=n.replace(/@\*/g,Sm).replace(/@\w+/g,t=>Sm+"-"+t.slice(1)).replace(/:animating/g,GC),[n,e]}function X7(n){return n?$({},n):null}var ZC=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function J7(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function eK(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Am(n,e).duration;return UC(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=UC(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=Am(t,e);return UC(r.duration,r.delay,r.easing)}function Ia(n){return n?(n=$({},n),n.params&&(n.params=X7(n.params))):n={},n}function UC(n,e,t){return{duration:n,delay:e,easing:t}}function pD(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Bd=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},tK=1,nK=":enter",iK=new RegExp(nK,"g"),rK=":leave",sK=new RegExp(rK,"g");function hF(n,e,t,i,r,s=new Map,o=new Map,a,c,l=[]){return new XC().buildKeyframes(n,e,t,i,r,s,o,a,c,l)}var XC=class{buildKeyframes(e,t,i,r,s,o,a,c,l,u=[]){l=l||new Bd;let h=new JC(e,t,l,r,s,u,[]);h.options=c;let f=c.delay?ns(c.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([o],null,h.errors,c),$n(this,i,h);let g=h.timelines.filter(y=>y.containsAnimation());if(g.length&&a.size){let y;for(let v=g.length-1;v>=0;v--){let _=g[v];if(_.element===t){y=_;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,h.errors,c)}return g.length?g.map(y=>y.buildKeyframes()):[pD(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:ns(Vd(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?ns(i.duration):null,a=i.delay!=null?ns(i.delay):null;return o!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),$n(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==me.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Pm);let o=ns(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>$n(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?ns(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),$n(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Vd(i,t.params,t.errors):i;return Am(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==me.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ns(r.delay):0;s&&(t.previousNode.type===me.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Pm);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let h=t.createSubContext(e.options,l);s&&h.delayNextStep(s),l===t.element&&(c=h.currentTimeline),$n(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let f=h.currentTimeline.currentTime;o=Math.max(o,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let h=u.currentTime;$n(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},Pm={},JC=class n{constructor(e,t,i,r,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Rm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=ns(i.duration)),i.delay!=null&&(r.delay=ns(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Vd(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Pm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new eD(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(iK,"."+this._enterClassName),e=e.replace(sK,"."+this._leaveClassName);let c=i!=1,l=this._driver.query(this.element,e,c);i!==0&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!s&&a.length==0&&o.push(_7(t)),a}},Rm=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=tK,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||nr),this._currentKeyframe.set(t,nr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=oK(e,this._globalTimelineStyles);for(let[a,c]of o){let l=Vd(c,s,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??nr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,h)=>{u===wm?e.add(h):u===nr&&t.add(h)}),i||l.set("offset",c/this.duration),r.push(l)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return pD(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},eD=class extends Rm{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let l=new Map(e[0]);l.set("offset",YO(a)),s.push(l);let u=e.length-1;for(let h=1;h<=u;h++){let f=new Map(e[h]),g=f.get("offset"),y=t+g*i;f.set("offset",YO(y/o)),s.push(f)}i=o,t=0,r="",e=s}return pD(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function YO(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function oK(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,nr)}else for(let[s,o]of r)t.set(s,o)}),t}function ZO(n,e,t,i,r,s,o,a,c,l,u,h,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:f}}var $C={},km=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return aK(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,c,l,u){let h=[],f=this.ast.options&&this.ast.options.params||$C,g=a&&a.params||$C,y=this.buildStyles(i,g,h),v=c&&c.params||$C,_=this.buildStyles(r,v,h),S=new Set,x=new Map,k=new Map,F=r==="void",L={params:fF(v,f),delay:this.ast.options?.delay},O=u?[]:hF(e,t,this.ast.animation,s,o,y,_,L,l,h),I=0;return O.forEach(b=>{I=Math.max(b.duration+b.delay,I)}),h.length?ZO(t,this._triggerName,i,r,F,y,_,[],[],x,k,I,h):(O.forEach(b=>{let E=b.element,T=zn(x,E,new Set);b.preStyleProps.forEach(M=>T.add(M));let A=zn(k,E,new Set);b.postStyleProps.forEach(M=>A.add(M)),E!==t&&S.add(E)}),ZO(t,this._triggerName,i,r,F,y,_,O,[...S.values()],x,k,I))}};function aK(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function fF(n,e){let t=$({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var tD=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=fF(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Vd(o,r,t));let c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),i.set(a,o)})}),i}};function cK(n,e,t){return new nD(n,e,t)}var nD=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new tD(r.style,s,i))}),XO(this.states,"true","1"),XO(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new km(e,r,this.states))}),this.fallbackTransition=lK(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function lK(n,e,t){let i=[(o,a)=>!0],r={type:me.Sequence,steps:[],options:null},s={type:me.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new km(n,s,e)}function XO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var uK=new Bd,iD=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=dF(this._driver,t,i,r);if(i.length)throw C7(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=rF(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=hF(this._driver,t,s,cF,WC,new Map,new Map,i,uK,r),o.forEach(u=>{let h=zn(a,u.element,new Map);u.postStyleProps.forEach(f=>h.set(f,null))})):(r.push(D7()),o=[]),r.length)throw T7(r);a.forEach((u,h)=>{u.forEach((f,g)=>{u.set(g,this._driver.computeStyle(h,g,nr))})});let c=o.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),l=no(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw S7(e);return t}listen(e,t,i,r){let s=lD(t,"","","");return cD(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},JO="ng-animate-queued",dK=".ng-animate-queued",zC="ng-animate-disabled",hK=".ng-animate-disabled",fK="ng-star-inserted",pK=".ng-star-inserted",gK=[],pF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xi="__ng_removed",jd=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=vK(r),i){let s=e,{value:o}=s,a=GS(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Ld="void",HC=new jd(Ld),rD=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ri(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw A7(i,t);if(i==null||i.length==0)throw x7(t);if(!_K(i))throw M7(i,t);let s=zn(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=zn(this._engine.statesByElement,e,new Map);return a.has(t)||(ri(e,Em),ri(e,Em+"-"+t),a.set(t,HC)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw P7(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new Ud(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ri(e,Em),ri(e,Em+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new jd(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=HC),!(l.value===Ld)&&c.value===l.value){if(!EK(c.params,l.params)){let v=[],_=s.matchStyles(c.value,c.params,v),S=s.matchStyles(l.value,l.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Ca(e,_),ir(e,S)})}return}let f=zn(this._engine.playersByElement,e,[]);f.forEach(v=>{v.namespaceId==this.id&&v.triggerName==t&&v.queued&&v.destroy()});let g=s.matchTransition(c.value,l.value,e,l.params),y=!1;if(!g){if(!r)return;g=s.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:o,isFallbackTransition:y}),y||(ri(e,JO),o.onStart(()=>{pl(e,JO)})),o.onDone(()=>{let v=this.players.indexOf(o);v>=0&&this.players.splice(v,1);let _=this._engine.playersByElement.get(e);if(_){let S=_.indexOf(o);S>=0&&_.splice(S,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Sm,!0);i.forEach(r=>{if(r[xi])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Ld,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&no(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let c=this._triggers.get(o).fallbackTransition,l=i.get(o)||HC,u=new jd(Ld),h=new Ud(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[xi];(!s||s===pF)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ri(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let c=lD(s,i.triggerName,i.fromState.value,i.toState.value);c._data=e,cD(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},sD=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new rD(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let c=r.get(a);if(c){let l=i.indexOf(c);i.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(Dm(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Dm(t))return;let s=t[xi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ri(e,zC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),pl(e,zC))}removeNode(e,t,i){if(Dm(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[xi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Dm(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Sm,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,GC,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return no(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[xi];if(t&&t.setForRemoval){if(e[xi]=pF,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,hK,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ri(r,fK)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?no(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw R7(e)}_flushAnimations(e,t){let i=new Bd,r=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(H=>{u.add(H);let G=this.driver.query(H,dK,!0);for(let Y=0;Y<G.length;Y++)u.add(G[Y])});let h=this.bodyNode,f=Array.from(this.statesByElement.keys()),g=nF(f,this.collectedEnterElements),y=new Map,v=0;g.forEach((H,G)=>{let Y=cF+v++;y.set(G,Y),H.forEach(te=>ri(te,Y))});let _=[],S=new Set,x=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let G=this.collectedLeaveElements[H],Y=G[xi];Y&&Y.setForRemoval&&(_.push(G),S.add(G),Y.hasAnimation?this.driver.query(G,pK,!0).forEach(te=>S.add(te)):x.add(G))}let k=new Map,F=nF(f,Array.from(S));F.forEach((H,G)=>{let Y=WC+v++;k.set(G,Y),H.forEach(te=>ri(te,Y))}),e.push(()=>{g.forEach((H,G)=>{let Y=y.get(G);H.forEach(te=>pl(te,Y))}),F.forEach((H,G)=>{let Y=k.get(G);H.forEach(te=>pl(te,Y))}),_.forEach(H=>{this.processLeaveNode(H)})});let L=[],O=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(t).forEach(Y=>{let te=Y.player,Ke=Y.element;if(L.push(te),this.collectedEnterElements.length){let vt=Ke[xi];if(vt&&vt.setForMove){if(vt.previousTriggersValues&&vt.previousTriggersValues.has(Y.triggerName)){let fr=vt.previousTriggersValues.get(Y.triggerName),vn=this.statesByElement.get(Y.element);if(vn&&vn.has(Y.triggerName)){let pr=vn.get(Y.triggerName);pr.value=fr,vn.set(Y.triggerName,pr)}}te.destroy();return}}let qt=!h||!this.driver.containsElement(h,Ke),We=k.get(Ke),Ve=y.get(Ke),Ne=this._buildInstruction(Y,i,Ve,We,qt);if(Ne.errors&&Ne.errors.length){O.push(Ne);return}if(qt){te.onStart(()=>Ca(Ke,Ne.fromStyles)),te.onDestroy(()=>ir(Ke,Ne.toStyles)),r.push(te);return}if(Y.isFallbackTransition){te.onStart(()=>Ca(Ke,Ne.fromStyles)),te.onDestroy(()=>ir(Ke,Ne.toStyles)),r.push(te);return}let yn=[];Ne.timelines.forEach(vt=>{vt.stretchStartingKeyframe=!0,this.disabledNodes.has(vt.element)||yn.push(vt)}),Ne.timelines=yn,i.append(Ke,Ne.timelines);let ci={instruction:Ne,player:te,element:Ke};o.push(ci),Ne.queriedElements.forEach(vt=>zn(a,vt,[]).push(te)),Ne.preStyleProps.forEach((vt,fr)=>{if(vt.size){let vn=c.get(fr);vn||c.set(fr,vn=new Set),vt.forEach((pr,hs)=>vn.add(hs))}}),Ne.postStyleProps.forEach((vt,fr)=>{let vn=l.get(fr);vn||l.set(fr,vn=new Set),vt.forEach((pr,hs)=>vn.add(hs))})});if(O.length){let H=[];O.forEach(G=>{H.push(k7(G.triggerName,G.errors))}),L.forEach(G=>G.destroy()),this.reportError(H)}let I=new Map,b=new Map;o.forEach(H=>{let G=H.element;i.has(G)&&(b.set(G,G),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,I))}),r.forEach(H=>{let G=H.element;this._getPreviousPlayers(G,!1,H.namespaceId,H.triggerName,null).forEach(te=>{zn(I,G,[]).push(te),te.destroy()})});let E=_.filter(H=>iF(H,c,l)),T=new Map;tF(T,this.driver,x,l,nr).forEach(H=>{iF(H,c,l)&&E.push(H)});let M=new Map;g.forEach((H,G)=>{tF(M,this.driver,new Set(H),c,wm)}),E.forEach(H=>{let G=T.get(H),Y=M.get(H);T.set(H,new Map([...G?.entries()??[],...Y?.entries()??[]]))});let D=[],it=[],Ee={};o.forEach(H=>{let{element:G,player:Y,instruction:te}=H;if(i.has(G)){if(u.has(G)){Y.onDestroy(()=>ir(G,te.toStyles)),Y.disabled=!0,Y.overrideTotalTime(te.totalTime),r.push(Y);return}let Ke=Ee;if(b.size>1){let We=G,Ve=[];for(;We=We.parentNode;){let Ne=b.get(We);if(Ne){Ke=Ne;break}Ve.push(We)}Ve.forEach(Ne=>b.set(Ne,Ke))}let qt=this._buildAnimation(Y.namespaceId,te,I,s,M,T);if(Y.setRealPlayer(qt),Ke===Ee)D.push(Y);else{let We=this.playersByElement.get(Ke);We&&We.length&&(Y.parentPlayer=no(We)),r.push(Y)}}else Ca(G,te.fromStyles),Y.onDestroy(()=>ir(G,te.toStyles)),it.push(Y),u.has(G)&&r.push(Y)}),it.forEach(H=>{let G=s.get(H.element);if(G&&G.length){let Y=no(G);H.setRealPlayer(Y)}}),r.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<_.length;H++){let G=_[H],Y=G[xi];if(pl(G,WC),Y&&Y.hasAnimation)continue;let te=[];if(a.size){let qt=a.get(G);qt&&qt.length&&te.push(...qt);let We=this.driver.query(G,GC,!0);for(let Ve=0;Ve<We.length;Ve++){let Ne=a.get(We[Ve]);Ne&&Ne.length&&te.push(...Ne)}}let Ke=te.filter(qt=>!qt.destroyed);Ke.length?bK(this,G,Ke):this.processLeaveNode(G)}return _.length=0,D.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let G=this.players.indexOf(H);this.players.splice(G,1)}),H.play()}),D}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==Ld;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||o.push(l)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let c of t.timelines){let l=c.element,u=l!==s,h=zn(i,l,[]);this._getPreviousPlayers(l,u,o,a,t.toState).forEach(g=>{let y=g.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),g.destroy(),h.push(g)})}Ca(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,c=t.element,l=[],u=new Set,h=new Set,f=t.timelines.map(y=>{let v=y.element;u.add(v);let _=v[xi];if(_&&_.removedBeforeQueried)return new to(y.duration,y.delay);let S=v!==c,x=wK((i.get(v)||gK).map(I=>I.getRealPlayer())).filter(I=>{let b=I;return b.element?b.element===v:!1}),k=s.get(v),F=o.get(v),L=rF(this._normalizer,y.keyframes,k,F),O=this._buildPlayer(y,L,x);if(y.subTimeline&&r&&h.add(v),S){let I=new Ud(e,a,v);I.setRealPlayer(O),l.push(I)}return O});l.forEach(y=>{zn(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>yK(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>ri(y,GO));let g=no(f);return g.onDestroy(()=>{u.forEach(y=>pl(y,GO)),ir(c,t.toStyles)}),h.forEach(y=>{zn(r,y,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new to(e.duration,e.delay)}},Ud=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new to,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>cD(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function yK(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function vK(n){return n??null}function Dm(n){return n&&n.nodeType===1}function _K(n){return n=="start"||n=="done"}function eF(n,e){let t=n.style.display;return n.style.display=e??"none",t}function tF(n,e,t,i,r){let s=[];t.forEach(c=>s.push(eF(c)));let o=[];i.forEach((c,l)=>{let u=new Map;c.forEach(h=>{let f=e.computeStyle(l,h,r);u.set(h,f),(!f||f.length==0)&&(l[xi]=mK,o.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>eF(c,s[a++])),o}function nF(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let c=s.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:r.has(l)?c=i:c=o(l),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==i&&t.get(c).push(a)}),t}function ri(n,e){n.classList?.add(e)}function pl(n,e){n.classList?.remove(e)}function bK(n,e,t){no(t).onDone(()=>n.processLeaveNode(e))}function wK(n){let e=[];return gF(n,e),e}function gF(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Od?gF(i.players,e):e.push(i)}}function EK(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function iF(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var gl=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new sD(e.body,t,i),this._timelineEngine=new iD(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let c=[],l=[],u=dF(this._driver,s,c,l);if(c.length)throw E7(r,c);l.length&&void 0,a=cK(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=qO(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=qO(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function IK(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=qC(e[0]),e.length>1&&(i=qC(e[e.length-1]))):e instanceof Map&&(t=qC(e)),t||i?new oD(n,t,i):null}var oD=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ir(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ir(this._element,this._initialStyles),this._endStyles&&(ir(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ca(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ca(this._element,this._endStyles),this._endStyles=null),ir(this._element,this._initialStyles),this._state=3)}};function qC(n){let e=null;return n.forEach((t,i)=>{CK(i)&&(e=e||new Map,e.set(i,t))}),e}function CK(n){return n==="display"||n==="position"}var Nm=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:fD(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Om=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return sF(e,t)}getParentElement(e){return uD(e)}query(e,t,i){return oF(e,t,i)}computeStyle(e,t,i){return fD(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};s&&(c.easing=s);let l=new Map,u=o.filter(g=>g instanceof Nm);H7(i,r)&&u.forEach(g=>{g.currentSnapshot.forEach((y,v)=>l.set(v,y))});let h=U7(t).map(g=>new Map(g));h=q7(e,h,l);let f=IK(e,h);return new Nm(e,h,c,f)}};var Tm="@",mF="@.disabled",Fm=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Tm&&t==mF?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},aD=class extends Fm{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Tm?t.charAt(1)=="."&&t==mF?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==Tm){let r=DK(e),s=t.slice(1),o="";return s.charAt(0)!=Tm&&([s,o]=TK(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,t,i)}};function DK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function TK(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var Lm=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(r);if(!u){let h=()=>l.delete(r);u=new Fm(i,r,this.engine,h),l.set(r,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return t.data.animation.forEach(a),new aD(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var AK=(()=>{class n extends gl{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(re($t),re(Da),re(Ta))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();function xK(){return new xm}function MK(n,e,t){return new Lm(n,e,t)}var yF=[{provide:Ta,useFactory:xK},{provide:gl,useClass:AK},{provide:Ms,useFactory:MK,deps:[Fp,gl,Oe]}],PK=[{provide:Da,useFactory:()=>new Om},{provide:$_,useValue:"BrowserAnimations"},...yF],Yde=[{provide:Da,useClass:dD},{provide:$_,useValue:"NoopAnimations"},...yF];function vF(){return Pr("NgEagerAnimations"),[...PK]}var _F=["toast-component",""];function RK(n,e){if(n&1){let t=Lt();N(0,"button",5),ue("click",function(){Be(t);let r=Qe();return je(r.remove())}),N(1,"span",6),B(2,"\xD7"),P()()}}function kK(n,e){if(n&1&&(Iu(0),B(1),Cu()),n&2){let t=Qe(2);W(),Ye("[",t.duplicatesCount+1,"]")}}function NK(n,e){if(n&1&&(N(0,"div"),B(1),ht(2,kK,2,1,"ng-container",4),P()),n&2){let t=Qe();gt(t.options.titleClass),zi("aria-label",t.title),W(),Ye(" ",t.title," "),W(),Ue("ngIf",t.duplicatesCount)}}function OK(n,e){if(n&1&&J(0,"div",7),n&2){let t=Qe();gt(t.options.messageClass),Ue("innerHTML",t.message,W_)}}function FK(n,e){if(n&1&&(N(0,"div",8),B(1),P()),n&2){let t=Qe();gt(t.options.messageClass),zi("aria-label",t.message),W(),Ye(" ",t.message," ")}}function LK(n,e){if(n&1&&(N(0,"div"),J(1,"div",9),P()),n&2){let t=Qe();W(),bi("width",t.width()+"%")}}function VK(n,e){if(n&1){let t=Lt();N(0,"button",5),ue("click",function(){Be(t);let r=Qe();return je(r.remove())}),N(1,"span",6),B(2,"\xD7"),P()()}}function BK(n,e){if(n&1&&(Iu(0),B(1),Cu()),n&2){let t=Qe(2);W(),Ye("[",t.duplicatesCount+1,"]")}}function jK(n,e){if(n&1&&(N(0,"div"),B(1),ht(2,BK,2,1,"ng-container",4),P()),n&2){let t=Qe();gt(t.options.titleClass),zi("aria-label",t.title),W(),Ye(" ",t.title," "),W(),Ue("ngIf",t.duplicatesCount)}}function UK(n,e){if(n&1&&J(0,"div",7),n&2){let t=Qe();gt(t.options.messageClass),Ue("innerHTML",t.message,W_)}}function $K(n,e){if(n&1&&(N(0,"div",8),B(1),P()),n&2){let t=Qe();gt(t.options.messageClass),zi("aria-label",t.message),W(),Ye(" ",t.message," ")}}function zK(n,e){if(n&1&&(N(0,"div"),J(1,"div",9),P()),n&2){let t=Qe();W(),bi("width",t.width()+"%")}}var gD=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},mD=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},yD=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new rt;_activate=new rt;_manualClose=new rt;_resetTimeout=new rt;_countDuplicate=new rt;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},ml=class{toastId;config;message;title;toastType;toastRef;_onTap=new rt;_onAction=new rt;constructor(e,t,i,r,s,o){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},bF={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},wF=new ee("ToastConfig"),vD=class extends mD{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},HK=(()=>{class n{_document=j($t);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_D=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},qK=(()=>{class n{_overlayContainer=j(HK);_componentFactoryResolver=j(xs);_appRef=j(wi);_document=j($t);_paneElements=new Map;create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new vD(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new _D(this._createPortalHost(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vm=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=$($({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=$($({},t.default.iconClasses),t.config.iconClasses))}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}error(t,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}info(t,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}warning(t,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}clear(t){for(let i of this.toasts)if(t!==void 0){if(i.toastId===t){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(t){let i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===t;if((!o||c)&&a.message===i)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(t={}){return $($({},this.toastrConfig),t)}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=i;i&&s.enableHtml&&(l=this.sanitizer.sanitize(kn.HTML,i));let u=new yD(c),h=new ml(this.index,s,l,r,t,u),f=[{provide:ml,useValue:h}],g=Ut.create({providers:f,parent:this._injector}),y=new gD(s.toastComponent,g),v=c.attach(y,s.newestOnTop);u.componentInstance=v.instance;let _={toastId:this.index,title:r||"",message:i||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:v};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{_.toastRef.activate()})),this.toasts.push(_),_}static \u0275fac=function(i){return new(i||n)(re(wF),re(qK),re(Ut),re(Mb),re(Oe))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WK=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=st(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=st({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(t=>se($({},t),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(t=>se($({},t),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(t=>se($({},t),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(i){return new(i||n)(ne(Vm),ne(ml),ne(Oe))};static \u0275cmp=xe({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&ue("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(hb("@flyInOut",r._state),gt(r.toastClasses),bi("display",r.displayStyle))},standalone:!0,features:[Me],attrs:_F,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&ht(0,RK,3,0,"button",0)(1,NK,3,5,"div",1)(2,OK,1,3,"div",2)(3,FK,2,4,"div",3)(4,LK,2,2,"div",4),i&2&&(Ue("ngIf",r.options.closeButton),W(),Ue("ngIf",r.title),W(),Ue("ngIf",r.message&&r.options.enableHtml),W(),Ue("ngIf",r.message&&!r.options.enableHtml),W(),Ue("ngIf",r.options.progressBar))},dependencies:[Tu],encapsulation:2,data:{animation:[$O("flyInOut",[bm("inactive",wa({opacity:0})),bm("active",wa({opacity:1})),bm("removed",wa({opacity:0})),BC("inactive => active",VC("{{ easeTime }}ms {{ easing }}")),BC("active => removed",VC("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),GK=se($({},bF),{toastComponent:WK}),EF=(n={})=>Kn([{provide:wF,useValue:{default:GK,config:n}}]);var KK=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=st(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=st("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(ne(Vm),ne(ml),ne(wi))};static \u0275cmp=xe({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&ue("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(gt(r.toastClasses),bi("display",r.displayStyle))},standalone:!0,features:[Me],attrs:_F,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&ht(0,VK,3,0,"button",0)(1,jK,3,5,"div",1)(2,UK,1,3,"div",2)(3,$K,2,4,"div",3)(4,zK,2,2,"div",4),i&2&&(Ue("ngIf",r.options.closeButton),W(),Ue("ngIf",r.title),W(),Ue("ngIf",r.message&&r.options.enableHtml),W(),Ue("ngIf",r.message&&!r.options.enableHtml),W(),Ue("ngIf",r.options.progressBar))},dependencies:[Tu],encapsulation:2,changeDetection:0})}return n})(),uhe=se($({},bF),{toastComponent:KK});var io=class n{collapseNav=!1;collapseMobileNav(){this.collapseNav=!this.collapseNav}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-nav"]],standalone:!0,features:[Me],decls:42,vars:2,consts:[[1,"logo-cont"],["routerLink","/"],["width","100","src","images/main-logo.png","alt","lgo",1,"logo"],[1,"nav-cont-big"],[1,"nav"],["href",""],[1,"btn-cont"],[1,"bx","bx-menu",3,"click"],[1,"nav-cont-sm"]],template:function(t,i){t&1&&(N(0,"header")(1,"div",0)(2,"a",1),J(3,"img",2),P()(),N(4,"div",3)(5,"nav",4)(6,"ul")(7,"li")(8,"a",1),B(9,"Home"),P()(),N(10,"li")(11,"a",5),B(12,"Services"),P()(),N(13,"li")(14,"a",5),B(15,"Pricing"),P()(),N(16,"li")(17,"a",5),B(18,"About"),P()(),N(19,"li")(20,"a",5),B(21,"Contact"),P()()()()(),N(22,"div",6)(23,"i",7),ue("click",function(){return i.collapseMobileNav()}),P()()(),N(24,"div",8)(25,"nav",4)(26,"ul")(27,"li")(28,"a",1),B(29,"Home"),P()(),N(30,"li")(31,"a",5),B(32,"Services"),P()(),N(33,"li")(34,"a",5),B(35,"Pricing"),P()(),N(36,"li")(37,"a",5),B(38,"About"),P()(),N(39,"li")(40,"a",5),B(41,"Contact"),P()()()()()),t&2&&(W(24),gt(i.collapseNav?"show-sm-nav":"hide-sm-nav"))},dependencies:[Wi],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);background-color:var(--blue-400);height:60px;align-items:center}header[_ngcontent-%COMP%]   .logo-cont[_ngcontent-%COMP%]{display:flex;align-items:center}header[_ngcontent-%COMP%]   .logo-cont[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:0 20px;font-weight:700;object-fit:contain}header[_ngcontent-%COMP%]   .nav-cont-big[_ngcontent-%COMP%]{width:100%}header[_ngcontent-%COMP%]   .btn-cont[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:10px}header[_ngcontent-%COMP%]   .btn-cont[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;display:none;cursor:pointer}nav[_ngcontent-%COMP%]{background-color:initial}ul[_ngcontent-%COMP%]{list-style:none;padding:10px;margin:0;display:flex}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding:10px 15px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--black-500);font-weight:500}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--black-100)}.nav-cont-sm[_ngcontent-%COMP%]{width:100%;height:auto;position:fixed;top:60px;right:0;background-color:#f4f4f4;transition:all .5s;opacity:0}.nav-cont-sm[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{width:100%!important;height:auto}.nav-cont-sm[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column}.show-sm-nav[_ngcontent-%COMP%]{opacity:1;transition:all .2s ease-in;transform:translateY(0)}.hide-sm-nav[_ngcontent-%COMP%]{transition:all 0s;transform:translateY(30px);opacity:0}@media (max-width: 992px){header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr)}.nav-cont-big[_ngcontent-%COMP%]{border:2px solid red;display:none!important}.btn-cont[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block!important}}"]})};var Bm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-hero"]],standalone:!0,features:[Me],decls:13,vars:0,consts:[[1,"hero"],[1,""],["routerLink","/login",1,"btn-primary"]],template:function(t,i){t&1&&(N(0,"div",0)(1,"div")(2,"h1"),B(3,"Use our advanced "),N(4,"span"),B(5,"todo list app"),P(),J(6,"br"),B(7," to ease your work load ..."),P(),N(8,"p"),B(9,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Porro dolorem enim ea atque odio voluptatibus quos ducimus rerum vero ipsam."),P()(),N(10,"div",1)(11,"button",2),B(12,"Get started"),P()()())},dependencies:[Wi],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}.hero[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 60px);background-color:var(--black-100);display:flex;justify-content:center;align-items:center;flex-direction:column}.hero[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:fit-content;padding:10px;text-align:center}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--black-500);font-size:54px;line-height:4rem;margin:15px auto}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;color:var(--black-400);margin:5px 20px}@media (max-width: 992px){.hero[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0}h1[_ngcontent-%COMP%]{font-size:24px!important;line-height:2rem!important;text-align:center}p[_ngcontent-%COMP%]{font-size:18px;color:var(--black-400);margin:0;text-align:center}}"]})};var jm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-footer"]],standalone:!0,features:[Me],decls:15,vars:0,consts:[["href",""],[1,"bx","bxl-meta"],[1,"bx","bxl-linkedin"],[1,"bx","bxl-twitter"]],template:function(t,i){t&1&&(N(0,"footer")(1,"ul")(2,"li")(3,"a",0),B(4,"Terms"),P()(),N(5,"li")(6,"a",0),B(7,"Privacy"),P()(),N(8,"li")(9,"a",0),B(10,"Security"),P()()(),N(11,"div"),J(12,"i",1)(13,"i",2)(14,"i",3),P()())},styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}footer[_ngcontent-%COMP%]{width:100%;height:100px;display:flex;justify-content:space-around;align-items:center;background-color:var(--white-100)}ul[_ngcontent-%COMP%]{list-style:none}li[_ngcontent-%COMP%]{display:inline-block;margin:auto 8px}footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:auto 8px;cursor:pointer;font-size:18px}"]})};var Um=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-home"]],standalone:!0,features:[Me],decls:3,vars:0,template:function(t,i){t&1&&J(0,"app-nav")(1,"app-hero")(2,"app-footer")},dependencies:[io,Bm,jm]})};var RF=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(ne(Mr),ne(En))}}static{this.\u0275dir=pt({type:n})}}return n})(),ID=(()=>{class n extends RF{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ks(n)))(r||n)}})()}static{this.\u0275dir=pt({type:n,features:[Nn]})}}return n})(),Gd=new ee("");var YK={provide:Gd,useExisting:vi(()=>so),multi:!0};function ZK(){let n=Br()?Br().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var XK=new ee(""),so=(()=>{class n extends RF{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ZK())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(ne(Mr),ne(En),ne(XK,8))}}static{this.\u0275dir=pt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&ue("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Nr([YK]),Nn]})}}return n})();function JK(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Kd=new ee(""),Zm=new ee("");function eQ(n){return JK(n.value)?{required:!0}:null}function IF(n){return null}function kF(n){return n!=null}function NF(n){return Ho(n)?Ct(n):n}function OF(n){let e={};return n.forEach(t=>{e=t!=null?$($({},e),t):e}),Object.keys(e).length===0?null:e}function FF(n,e){return e.map(t=>t(n))}function tQ(n){return!n.validate}function LF(n){return n.map(e=>tQ(e)?e:t=>e.validate(t))}function nQ(n){if(!n)return null;let e=n.filter(kF);return e.length==0?null:function(t){return OF(FF(t,e))}}function CD(n){return n!=null?nQ(LF(n)):null}function iQ(n){if(!n)return null;let e=n.filter(kF);return e.length==0?null:function(t){let i=FF(t,e).map(NF);return q0(i).pipe(Ie(OF))}}function DD(n){return n!=null?iQ(LF(n)):null}function CF(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function VF(n){return n._rawValidators}function BF(n){return n._rawAsyncValidators}function bD(n){return n?Array.isArray(n)?n:[n]:[]}function zm(n,e){return Array.isArray(n)?n.includes(e):n===e}function DF(n,e){let t=bD(e);return bD(n).forEach(r=>{zm(t,r)||t.push(r)}),t}function TF(n,e){return bD(e).filter(t=>!zm(n,t))}var Hm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=CD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},is=class extends Hm{get formDirective(){return null}get path(){return null}},Sa=class extends Hm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qm=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},rQ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fhe=se($({},rQ),{"[class.ng-submitted]":"isSubmitted"}),_l=(()=>{class n extends qm{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(ne(Sa,2))}}static{this.\u0275dir=pt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&_c("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Nn]})}}return n})(),bl=(()=>{class n extends qm{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(ne(is,10))}}static{this.\u0275dir=pt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&_c("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Nn]})}}return n})();var $d="VALID",$m="INVALID",yl="PENDING",zd="DISABLED",ro=class{},Wm=class extends ro{constructor(e,t){super(),this.value=e,this.source=t}},qd=class extends ro{constructor(e,t){super(),this.pristine=e,this.source=t}},Wd=class extends ro{constructor(e,t){super(),this.touched=e,this.source=t}},vl=class extends ro{constructor(e,t){super(),this.status=e,this.source=t}},wD=class extends ro{constructor(e){super(),this.source=e}},ED=class extends ro{constructor(e){super(),this.source=e}};function jF(n){return(Xm(n)?n.validators:n)||null}function sQ(n){return Array.isArray(n)?CD(n):n||null}function UF(n,e){return(Xm(e)?e.asyncValidators:n)||null}function oQ(n){return Array.isArray(n)?DD(n):n||null}function Xm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function aQ(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new z(1e3,"");if(!i[t])throw new z(1001,"")}function cQ(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new z(1002,"")})}var Gm=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=wc(()=>this.statusReactive()),this.statusReactive=st(void 0),this._pristine=wc(()=>this.pristineReactive()),this.pristineReactive=st(!0),this._touched=wc(()=>this.touchedReactive()),this.touchedReactive=st(!1),this._events=new rt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Hi(this.statusReactive)}set status(e){Hi(()=>this.statusReactive.set(e))}get valid(){return this.status===$d}get invalid(){return this.status===$m}get pending(){return this.status==yl}get disabled(){return this.status===zd}get enabled(){return this.status!==zd}get pristine(){return Hi(this.pristineReactive)}set pristine(e){Hi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Hi(this.touchedReactive)}set touched(e){Hi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TF(e,this._rawAsyncValidators))}hasValidator(e){return zm(this._rawValidators,e)}hasAsyncValidator(e){return zm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se($({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Wd(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Wd(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se($({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new qd(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new qd(!0,i))}markAsPending(e={}){this.status=yl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se($({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zd,this.errors=null,this._forEachChild(r=>{r.disable(se($({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wm(this.value,i)),this._events.next(new vl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$d,this._forEachChild(i=>{i.enable(se($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$d||this.status===yl)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wm(this.value,t)),this._events.next(new vl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se($({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zd:$d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=yl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=NF(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new vl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?zd:this.errors?$m:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yl)?yl:this._anyControlsHaveStatus($m)?$m:$d}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new qd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=sQ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=oQ(this._rawAsyncValidators)}},rr=class extends Gm{constructor(e,t,i){super(jF(t),UF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){cQ(this,!0,e),Object.keys(e).forEach(i=>{aQ(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Qd=new ee("CallSetDisabledState",{providedIn:"root",factory:()=>Jm}),Jm="always";function $F(n,e){return[...e.path,n]}function Km(n,e,t=Jm){TD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),uQ(n,e),hQ(n,e),dQ(n,e),lQ(n,e)}function SF(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Ym(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lQ(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function TD(n,e){let t=VF(n);e.validator!==null?n.setValidators(CF(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=BF(n);e.asyncValidator!==null?n.setAsyncValidators(CF(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Qm(e._rawValidators,r),Qm(e._rawAsyncValidators,r)}function Ym(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=VF(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=BF(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return Qm(e._rawValidators,i),Qm(e._rawAsyncValidators,i),t}function uQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&zF(n,e)})}function dQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&zF(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function zF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hQ(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function HF(n,e){n==null,TD(n,e)}function fQ(n,e){return Ym(n,e)}function qF(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function pQ(n){return Object.getPrototypeOf(n.constructor)===ID}function WF(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function GF(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===so?t=s:pQ(s)?i=s:r=s}),r||i||t||null}function gQ(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var mQ={provide:is,useExisting:vi(()=>SD)},Hd=Promise.resolve(),SD=(()=>{class n extends is{get submitted(){return Hi(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=wc(()=>this.submittedReactive()),this.submittedReactive=st(!1),this._directives=new Set,this.ngSubmit=new Je,this.form=new rr({},CD(t),DD(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hd.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Km(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hd.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hd.then(()=>{let i=this._findContainer(t.path),r=new rr({});HF(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hd.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Hd.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),WF(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(ne(Kd,10),ne(Zm,10),ne(Qd,8))}}static{this.\u0275dir=pt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&ue("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nr([mQ]),Nn]})}}return n})();function AF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function xF(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var rs=class extends Gm{constructor(e=null,t,i){super(jF(t),UF(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(xF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yQ=n=>n instanceof rs;var vQ={provide:Sa,useExisting:vi(()=>AD)},MF=Promise.resolve(),AD=(()=>{class n extends Sa{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new rs,this._registered=!1,this.name="",this.update=new Je,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=GF(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),qF(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Km(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){MF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Ls(i);MF.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?$F(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(ne(is,9),ne(Kd,10),ne(Zm,10),ne(Gd,10),ne(qo,8),ne(Qd,8))}}static{this.\u0275dir=pt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nr([vQ]),Nn,Qn]})}}return n})(),wl=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=pt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var KF=new ee("");var _Q={provide:is,useExisting:vi(()=>Yd)},Yd=(()=>{class n extends is{get submitted(){return Hi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=wc(()=>this._submittedReactive()),this._submittedReactive=st(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ym(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Km(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){SF(t.control||null,t,!1),gQ(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),WF(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new wD(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new ED(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(SF(i||null,t),yQ(r)&&(Km(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);HF(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&fQ(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){TD(this.form,this),this._oldForm&&Ym(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(ne(Kd,10),ne(Zm,10),ne(Qd,8))}}static{this.\u0275dir=pt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&ue("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nr([_Q]),Nn,Qn]})}}return n})();var bQ={provide:Sa,useExisting:vi(()=>Zd)},Zd=(()=>{class n extends Sa{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Je,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=GF(this,s)}ngOnChanges(t){this._added||this._setUpControl(),qF(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return $F(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(ne(is,13),ne(Kd,10),ne(Zm,10),ne(Gd,10),ne(KF,8))}}static{this.\u0275dir=pt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Nr([bQ]),Nn,Qn]})}}return n})(),wQ={provide:Gd,useExisting:vi(()=>ey),multi:!0};function QF(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function EQ(n){return n.split(":")[0]}var ey=(()=>{class n extends ID{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=QF(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=EQ(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ks(n)))(r||n)}})()}static{this.\u0275dir=pt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&ue("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([wQ]),Nn]})}}return n})(),ty=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(QF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(ne(En),ne(Mr),ne(ey,9))}}static{this.\u0275dir=pt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),IQ={provide:Gd,useExisting:vi(()=>YF),multi:!0};function PF(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function CQ(n){return n.split(":")[0]}var YF=(()=>{class n extends ID{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],l=this._getOptionValue(c.value);r.push(l)}}else{let o=i.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=CQ(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ks(n)))(r||n)}})()}static{this.\u0275dir=pt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&ue("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([IQ]),Nn]})}}return n})(),ny=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(PF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(PF(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(ne(En),ne(Mr),ne(YF,9))}}static{this.\u0275dir=pt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var DQ=(()=>{class n{constructor(){this._validator=IF}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):IF,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=pt({type:n,features:[Qn]})}}return n})();var TQ={provide:Kd,useExisting:vi(()=>xD),multi:!0};var xD=(()=>{class n extends DQ{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ls,this.createValidator=t=>eQ}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ks(n)))(r||n)}})()}static{this.\u0275dir=pt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&zi("required",r._enabled?"":null)},inputs:{required:"required"},features:[Nr([TQ]),Nn]})}}return n})();var ZF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ji({type:n})}static{this.\u0275inj=Bi({})}}return n})();var iy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qd,useValue:t.callSetDisabledState??Jm}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ji({type:n})}static{this.\u0275inj=Bi({imports:[ZF]})}}return n})(),El=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:KF,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Qd,useValue:t.callSetDisabledState??Jm}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ji({type:n})}static{this.\u0275inj=Bi({imports:[ZF]})}}return n})();var sr=class n{constructor(e){this.toastr=e}errorMessage(e,t){this.toastr.error(e,t)}successMessage(e,t){this.toastr.success(e,t)}static \u0275fac=function(t){return new(t||n)(re(Vm))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var or=class n{auth=j(aa);route=j(Vn);notification=j(sr);constructor(){console.log(this.auth)}createNewUser(e){Vk(this.auth,e.email,e.password).then(t=>{$k(t.user,{displayName:e.name}).then(()=>{let i=t.user;localStorage.setItem("User",JSON.stringify(i.email)),this.notification.successMessage("User register successfully !","User registration "),setTimeout(()=>{this.route.navigate(["login"])},2e3)}).catch(i=>{this.notification.errorMessage(i.code,i.message)})}).catch(t=>{this.notification.errorMessage(t.code,t.message)})}login(e){jk(this.auth,e.email,e.password).then(t=>{let i={name:t.user.displayName,email:t.user.email};localStorage.setItem("User",JSON.stringify(i)),this.notification.successMessage("User login successfully !","Login user"),setTimeout(()=>{this.route.navigate(["dashboard/overview"])},2e3)}).catch(t=>{this.notification.errorMessage(t.code,t.message)})}logout(){Uk(this.auth),localStorage.removeItem("User"),this.route.navigate(["/"])}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var sy=class n{loginForm=new rr({});authService=j(or);constructor(){this.initializeForm()}initializeForm(){this.loginForm=new rr({email:new rs("aa@gmail.com"),password:new rs("Md7861942@k")})}onSave(){let e=this.loginForm.value;this.authService.login(e),this.loginForm.reset()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-login"]],standalone:!0,features:[Me],decls:21,vars:1,consts:[[1,"login-cont"],[3,"ngSubmit","formGroup"],[1,"login"],[1,"form-group"],["for",""],["type","text","formControlName","email"],["type","text","formControlName","password"],["type","submit"],["routerLink","/signup"]],template:function(t,i){t&1&&(J(0,"app-nav"),N(1,"div",0)(2,"form",1),ue("ngSubmit",function(){return i.onSave()}),N(3,"div",2)(4,"h1"),B(5,"Wellcome"),P(),N(6,"div",3)(7,"label",4),B(8,"Email"),P(),J(9,"input",5),P(),N(10,"div",3)(11,"label",4),B(12,"password"),P(),J(13,"input",6),P(),N(14,"div",3),J(15,"input",7),P(),N(16,"p"),B(17,"Don't have one let's "),N(18,"a",8),B(19,"Signup"),P(),B(20," ?"),P()()()()),t&2&&(W(2),Ue("formGroup",i.loginForm))},dependencies:[El,wl,so,_l,bl,Yd,Zd,Wi,io],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}.login-cont[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 60px);background-color:var(--black-500);display:flex;justify-content:center;align-items:center;flex-direction:column}.login-cont[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{width:25vw;height:auto;background-color:var(--blue-400);border-radius:5px;padding:50px 15px}.login-cont[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin:20px auto}.login-cont[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%;margin:10px auto}.login-cont[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--black-500);display:block}.login-cont[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:var(--white-100);border:1px solid var(--black-300);padding:15px 10px;width:100%;margin:5px auto;border-radius:5px;font-size:16px;font-weight:500;color:var(--white-800)}.login-cont[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{margin:15px auto;font-weight:600;cursor:pointer}.login-cont[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}@media (max-width: 768px){.login-cont[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{width:100%}}"]})};var oy=class n{signupForm=new rr({});authService=j(or);constructor(){this.initializeForm()}ngAfterViewInit(){}initializeForm(){this.signupForm=new rr({name:new rs(""),email:new rs(""),password:new rs("")})}onSave(){let e=this.signupForm.value;this.authService.createNewUser(e),this.signupForm.reset()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-signup"]],standalone:!0,features:[Me],decls:25,vars:1,consts:[[1,"signup-cont"],[3,"ngSubmit","formGroup"],[1,"signup"],[1,"form-group"],["for",""],["formControlName","name","type","text"],["type","text","formControlName","email"],["type","text","formControlName","password"],["type","submit"],["routerLink","/login"]],template:function(t,i){t&1&&(J(0,"app-nav"),N(1,"div",0)(2,"form",1),ue("ngSubmit",function(){return i.onSave()}),N(3,"div",2)(4,"h1"),B(5,"Wellcome"),P(),N(6,"div",3)(7,"label",4),B(8,"First name"),P(),J(9,"input",5),P(),N(10,"div",3)(11,"label",4),B(12,"Email"),P(),J(13,"input",6),P(),N(14,"div",3)(15,"label",4),B(16,"password"),P(),J(17,"input",7),P(),N(18,"div",3),J(19,"input",8),P(),N(20,"p"),B(21,"Already have one let's "),N(22,"a",9),B(23,"Signin"),P(),B(24," ?"),P()()()()),t&2&&(W(2),Ue("formGroup",i.signupForm))},dependencies:[El,wl,so,_l,bl,Yd,Zd,Wi,io],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}.signup-cont[_ngcontent-%COMP%]{width:100%;height:auto;background-color:var(--black-100);display:flex;justify-content:center;align-items:center;flex-direction:column}.signup-cont[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]{width:25vw;height:auto;background-color:var(--blue-400);border-radius:5px;padding:50px 15px;margin:15% auto}.signup-cont[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin:20px auto}.signup-cont[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%;margin:10px auto}.signup-cont[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--black-500);display:block}.signup-cont[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:var(--white-100);border:1px solid var(--black-300);padding:15px 10px;width:100%;margin:5px auto;border-radius:5px;font-size:16px;font-weight:500;color:var(--white-800)}.signup-cont[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{margin:15px auto;font-weight:600;cursor:pointer}.signup-cont[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}@media (max-width: 768px){.signup-cont[_ngcontent-%COMP%]   .signup[_ngcontent-%COMP%]{width:100%}}"]})};var oo=class n{constructor(){}collapse=st(!1);position=st("default");toggle(){this.collapse.set(!this.collapse()),window.innerWidth<768?this.position.set("overlay"):this.position.set("default")}getWindowWidth(){}get sideNavWidth(){return this.collapse()?"50px":"200px"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};function SQ(n,e){if(n&1){let t=Lt();N(0,"i",7),ue("click",function(){Be(t);let r=Qe();return je(r.collapseMenu())}),P()}}function AQ(n,e){if(n&1){let t=Lt();N(0,"i",8),ue("click",function(){Be(t);let r=Qe();return je(r.collapseMenu())}),P()}}function xQ(n,e){if(n&1){let t=Lt();N(0,"li",9),ue("click",function(){let r=Be(t).$index,s=Qe();return je(s.checkIsActive(r))}),N(1,"a"),J(2,"i"),N(3,"span"),B(4),P()()()}if(n&2){let t=e.$implicit,i=Qe();gt(t.label=="logout"?"logout-btn":""),Ue("routerLink",t.routerLink?t.routerLink:null),W(),gt(t.isActive?"active":""),W(),gt(t.icon),W(),bi("display",i.sideNavService.collapse()?"none":"block"),W(),kr(t.label)}}var ay=class n{width=0;constructor(){}ngOnInit(){}collapse=new Je(!1);screenWidth=PM();sideNavService=j(oo);authService=j(or);router=j(Vn);collapseMenu(){this.sideNavService.toggle()}items=[{routerLink:"dashboard",label:"dashboard",icon:"bx bxs-dashboard",isActive:!0},{routerLink:"todo",icon:"bx bxs-purchase-tag-alt",label:"Create todo",isActive:!1},{routerLink:"tasks",icon:"bx bx-compass",label:"tasks",isActive:!1},{routerLink:"settings",icon:"bx bxs-cog",label:"settings",isActive:!1},{routerLink:"",icon:"bx bx-log-in-circle",label:"logout",isActive:!1}];checkIsActive(e){if(e===this.items.length-1){console.log(this.authService.logout());return}this.items.forEach((t,i,r)=>{e===i?r[i].isActive=!0:r[i].isActive=!1})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-left-sidebar"]],inputs:{screenWidth:[1,"screenWidth"]},outputs:{collapse:"collapse"},standalone:!0,features:[Me],decls:9,vars:7,consts:[[1,"sidenav"],[1,"logo-container"],["routerLink","/dashboard"],["src","images/main-logo.png","alt","lgo",1,"logo"],[1,"bx","bx-chevrons-right"],[1,"bx","bx-chevrons-left"],[3,"routerLink","class"],[1,"bx","bx-chevrons-right",3,"click"],[1,"bx","bx-chevrons-left",3,"click"],[3,"click","routerLink"]],template:function(t,i){t&1&&(N(0,"div",0)(1,"div",1)(2,"a",2),J(3,"img",3),P(),ht(4,SQ,1,0,"i",4)(5,AQ,1,0,"i",5),P(),N(6,"ul"),jo(7,xQ,5,11,"li",6,Eu),P()()),t&2&&(bi("width",i.sideNavService.sideNavWidth),_c("fixed",i.sideNavService.position()=="overlay"),W(2),bi("display",i.sideNavService.collapse()?"none":"block"),W(2),In(i.sideNavService.collapse()?4:5),W(3),Uo(i.items))},dependencies:[Wi,Su],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}.sidenav[_ngcontent-%COMP%]{width:fit-content;background-color:var(--blue-400);height:100vh;float:left;transition:.3s ease-in-out;overflow:hidden;border-top-right-radius:5px;border-top-left-radius:5px;position:relative}.logo-container[_ngcontent-%COMP%]{width:100%;height:80px;position:relative;display:flex;justify-content:center;align-items:center}.logo-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;cursor:pointer}.logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px 30px;width:80px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column;padding:10px 0;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;text-transform:capitalize;font-size:14px;display:flex;align-items:center;justify-content:center;column-gap:10px;padding:10px 0;overflow:hidden;margin:0 10px;border-radius:5px;font-weight:500;color:var(--black-100)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:var(--blue-200)}.logout-btn[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);background-color:var(--red-300);width:80%;border-radius:5px;height:50px}.fixed[_ngcontent-%COMP%]{position:sticky;top:0;left:0;z-index:100}"]})};function MQ(n,e){n&1&&(N(0,"div",4)(1,"div")(2,"div",5),J(3,"img",3),P(),N(4,"div",6)(5,"h3"),B(6,"Md karimul islam"),P(),N(7,"span"),B(8,"7mdkarigmail.com"),P()()(),N(9,"ul")(10,"li")(11,"a"),B(12,"Settings"),P()(),N(13,"li")(14,"a"),B(15,"Help"),P()()()())}var cy=class n{sideNavService=j(oo);collapseProfile=st(!1);constructor(){console.log()}ngOnInit(){}ngAfterViewInit(){}showProfile(){this.collapseProfile.set(!this.collapseProfile())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-main-content"]],standalone:!0,features:[Me],decls:9,vars:3,consts:[["avatar",""],[1,"main-content"],[1,"avatar",3,"click"],["src","/images/avatar.svg","width","20px","height","auto","alt",""],[1,"profile"],[1,"avatar-mini"],[1,"user-details"]],template:function(t,i){if(t&1){let r=Lt();N(0,"div",1)(1,"header"),J(2,"div"),N(3,"div",2,0),ue("click",function(){return Be(r),je(i.showProfile())}),J(5,"img",3),ht(6,MQ,16,0,"div",4),P()(),N(7,"section"),J(8,"router-outlet"),P()()}t&2&&(gt(!i.sideNavService.collapse()&&i.sideNavService.position()=="default"?"max":"min"),W(6),In(i.collapseProfile()?6:-1))},dependencies:[Ku],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}.main-content[_ngcontent-%COMP%]{width:calc(100% - 250px);height:100vh;float:left;padding:0;transition:.3s ease-in-out;overflow-x:scroll;position:relative}.main-content.max[_ngcontent-%COMP%]{width:calc(100% - 200px)}.main-content.min[_ngcontent-%COMP%]{width:calc(100% - 50px)}header[_ngcontent-%COMP%]{background-color:var(--blue-200);padding:10px;border-radius:5px;display:flex;justify-content:space-between;align-items:center;position:relative}section[_ngcontent-%COMP%]{padding:0 10px}.avatar[_ngcontent-%COMP%], .avatar-mini[_ngcontent-%COMP%]{width:30px;height:30px;background-color:var(--white-50);object-fit:contain;overflow:hidden;border-radius:50%;text-align:center;box-shadow:2px 4px 8px var(--black-100);outline:2px solid white;cursor:pointer}.avatar[_ngcontent-%COMP%]:hover{outline:1px solid white}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:2px}.profile[_ngcontent-%COMP%]{position:absolute;top:60px;right:5px;width:fit-content;height:auto;padding:10px;border-radius:5px;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;z-index:1000;background-color:var(--white-50)}.profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{margin:5px 10px}.profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin-top:20px}.profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px;border-radius:5px;margin:4px auto;cursor:pointer;text-align:left}.profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--blue-200)}.profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media (max-width: 765px){section[_ngcontent-%COMP%]{padding:0 5px}}"]})};var ly=class n{collapseMenu(e){console.log(Event)}sideNavService=j(oo);screenWidth=st(window.innerWidth);onResize(){this.screenWidth.set(window.innerWidth),this.screenWidth()<768&&(this.sideNavService.position.set("overlay"),this.sideNavService.collapse.set(!0))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-dashboard"]],hostBindings:function(t,i){t&1&&ue("resize",function(){return i.onResize()},!1,JM)},standalone:!0,features:[Me],decls:3,vars:1,consts:[[1,"container"],[1,"left-side",3,"screenWidth"],[1,"main-content"]],template:function(t,i){t&1&&(N(0,"div",0),J(1,"app-left-sidebar",1)(2,"app-main-content",2),P()),t&2&&(W(),Ue("screenWidth",i.screenWidth()))},dependencies:[ay,cy],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100vh}"]})};var si=class n{constructor(){}blurSignal=st(!1);firestore=j(ts);formState=st(!1);notificationService=j(sr);createTask(e){return C(this,null,function*(){console.log(e);try{this.checkTask(e).then(i=>C(this,null,function*(){i&&i.title===e.title?(this.formState.set(!1),this.notificationService.errorMessage("Task already exit !","Task one")):(yield _m(Ai(this.firestore,"Task"),e)).id&&(this.formState.set(!0),this.notificationService.successMessage("Task created successfully !","Task created"))}))}catch{this.notificationService.errorMessage("Something went wrong !","Failed task")}})}checkTask(e){return C(this,null,function*(){let t=Ai(this.firestore,"Task"),i=dl(t,fl("title","==",e.title)),r=yield ba(i),s;return r.forEach(o=>{s=o.data()}),s})}getAllTask(){return C(this,null,function*(){let e=[];return(yield ba(Ai(this.firestore,"Task"))).forEach(i=>{let r=se($({},i.data()),{id:i.id,start_date:i.data().start_date.toDate(),end_date:i.data().end_date.toDate()});e.push(r)}),e})}getDataByTitle(e){return C(this,null,function*(){let t=yield dl(Ai(this.firestore,"Task"),fl("title","==",e)),i=yield ba(t);if(i.empty)throw new Error("Data not found !");let r;return i.forEach(s=>{r=s.data()}),alert(r),r})}updateTaskStatus(e,t){return C(this,null,function*(){let i=Ai(this.firestore,"Task");try{let r=eo(this.firestore,"Task",e);return yield hl(r,{status:t}),"Document updated successfully !"}catch{return"Failed to update document !"}})}updateTaskDeadline(e,t){return C(this,null,function*(){alert(e+"   "+t);let i=Ai(this.firestore,"Task");try{let r=eo(this.firestore,"Task",t);return yield hl(r,{deadline:e}),"Document updated successfully !"}catch{return"Failed to update document !"}})}getTaskById(e){return C(this,null,function*(){let t=eo(this.firestore,"Task",e),i,r=yield jO(t);return r.exists()?(i={title:r.data().title,description:r.data().description,start_date:r.data().start_date.toDate(),end_date:r.data().end_date.toDate(),status:r.data().status,priority:r.data().priority,remainder:r.data().remainder},i):new Error("Document doesn't exit !")})}updateTasK(e,t){return C(this,null,function*(){try{let i=eo(this.firestore,"Task",e),r=yield hl(i,t);return"Date updated successfully!"}catch{return"Faild to update data!"}})}deleteTask(e){return C(this,null,function*(){try{return yield BO(eo(this.firestore,"Task",e)),"Task deleted successfully !"}catch{return new Error("Failed to delete task !")}})}editTask(e){}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var PQ=["taskForm"];function RQ(n,e){n&1&&(N(0,"span",29),B(1," Title is required ! "),P())}function kQ(n,e){if(n&1&&(N(0,"div"),ht(1,RQ,2,0,"span",28),P()),n&2){Qe();let t=Rr(8);W(),Ue("ngIf",t.hasError("required"))}}function NQ(n,e){n&1&&(N(0,"span",29),B(1," Description is required ! "),P())}function OQ(n,e){if(n&1&&(N(0,"div"),ht(1,NQ,2,0,"span",28),P()),n&2){Qe();let t=Rr(12);W(),Ue("ngIf",t.hasError("required"))}}function FQ(n,e){if(n&1){let t=Lt();N(0,"button",30),ue("click",function(){Be(t);let r=Qe();return je(r.updateForm())}),B(1,"Update"),P()}}function LQ(n,e){if(n&1){let t=Lt();N(0,"button",30),ue("click",function(){Be(t);let r=Qe();return je(r.submitForm())}),B(1,"Submit"),P()}}var uy=class n{formStatus=st(!1);formdata=[];title="";description="";start_time="";end_time="";start_date=0;end_date=0;priority="";remainder=!1;status="pending";deadline=!1;taskService=j(si);notificationService=j(sr);todoComponent=Bo(Aa);ngOnChanges(){this.updateTask(this.formdata)}updateTask(e){this.formStatus.set(!0),this.title=e[0].title,this.description=e[0].description,this.start_time=e[0].start_time,this.end_time=e[0].end_time,this.priority=e[0].priority,this.remainder=e[0].remainder,this.status=e[0].status}updateForm(){let e={title:this.title,description:this.description,start_date:new Date(this.start_date),end_date:new Date(this.end_date),priority:this.priority,remainder:!!this.remainder,status:"pending"};this.taskService.updateTasK(this.formdata[0].id,e).then(t=>{this.close.emit(),this.formStatus.set(!1),this.notificationService.successMessage(t,"Updated")}).catch(t=>{this.notificationService.errorMessage(t,"Error message")})}actorForm;close=MM();task=new Je;submitForm(){let e={title:this.title,description:this.description,start_date:new Date(this.start_date),end_date:new Date(this.end_date),priority:this.priority,remainder:!!this.remainder,status:"pending",deadline:!1};this.actorForm.valid?this.task.emit(e):this.notificationService.errorMessage("Please fill all the fields","Error message")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-modal"]],viewQuery:function(t,i){if(t&1&&($o(i.todoComponent,Aa,5),GP(PQ,5)),t&2){bc();let r;fb(r=pb())&&(i.actorForm=r.first)}},inputs:{formdata:"formdata"},outputs:{close:"close",task:"task"},standalone:!0,features:[Qn,Me],decls:46,vars:9,consts:[["taskForm","ngForm"],["titleV","ngModel"],["descriptionV","ngModel"],[1,"modal-container"],[1,"header"],[1,"bx","bx-x",3,"click"],[1,"content"],[1,"form-group"],["placeholder","Title","name","title","required","required","type","text","name","title",1,"title",3,"ngModelChange","ngModel"],[4,"ngIf"],["placeholder","Description","name","description","required","required","rows","6","type","text","name","description",1,"description",3,"ngModelChange","ngModel"],[1,"select-date"],[1,"start-date"],["for","appt"],["type","datetime-local","name","start_date","id","appt","placeholder","hh/mm/ss","name","appt",3,"ngModelChange","ngModel"],[1,"end-date"],["type","datetime-local","id","appt","name","end_date","required","","name","appt",3,"ngModelChange","ngModel"],[1,"select-group"],["name","priority","id","","required","",3,"ngModelChange","ngModel"],["value","high"],["value","medium"],["value","low"],["name","remainder","required","","id","",3,"ngModelChange","ngModel"],["value","true"],["value","false"],[1,"footer"],[1,"submit"],[1,"cancle",3,"click"],["class","alert",4,"ngIf"],[1,"alert"],[1,"submit",3,"click"]],template:function(t,i){if(t&1){let r=Lt();N(0,"div",3)(1,"div",4)(2,"i",5),ue("click",function(){return Be(r),je(i.close.emit())}),P()(),N(3,"div",6)(4,"form",null,0)(6,"div",7)(7,"input",8,1),Fs("ngModelChange",function(o){return Be(r),zo(i.title,o)||(i.title=o),je(o)}),P(),ht(9,kQ,2,1,"div",9),P(),N(10,"div",7)(11,"textarea",10,2),Fs("ngModelChange",function(o){return Be(r),zo(i.description,o)||(i.description=o),je(o)}),P(),ht(13,OQ,2,1,"div",9),P(),N(14,"div",11)(15,"div",12)(16,"label",13),B(17,"Select start date*"),P(),N(18,"input",14),Fs("ngModelChange",function(o){return Be(r),zo(i.start_date,o)||(i.start_date=o),je(o)}),P()(),N(19,"div",15)(20,"label",13),B(21,"Select end date*"),P(),N(22,"input",16),Fs("ngModelChange",function(o){return Be(r),zo(i.end_date,o)||(i.end_date=o),je(o)}),P()()(),N(23,"div",17)(24,"label",13),B(25,"Select preference*"),P(),N(26,"select",18),Fs("ngModelChange",function(o){return Be(r),zo(i.priority,o)||(i.priority=o),je(o)}),N(27,"option",19),B(28,"High"),P(),N(29,"option",20),B(30,"Medium"),P(),N(31,"option",21),B(32,"Low"),P()()(),N(33,"div",17)(34,"label",13),B(35,"Select remainder*"),P(),N(36,"select",22),Fs("ngModelChange",function(o){return Be(r),zo(i.remainder,o)||(i.remainder=o),je(o)}),N(37,"option",23),B(38,"True"),P(),N(39,"option",24),B(40,"False"),P()()()()(),N(41,"div",25),ht(42,FQ,2,0,"button",26)(43,LQ,2,0,"button",26),N(44,"button",27),ue("click",function(){return Be(r),je(i.close.emit())}),B(45,"Cancle"),P()()()}if(t&2){let r=Rr(8),s=Rr(12);W(7),Os("ngModel",i.title),W(2),Ue("ngIf",r.invalid&&(r.dirty||r.touched)),W(2),Os("ngModel",i.description),W(2),Ue("ngIf",s.invalid&&(s.dirty||s.touched)),W(5),Os("ngModel",i.start_date),W(4),Os("ngModel",i.end_date),W(4),Os("ngModel",i.priority),W(10),Os("ngModel",i.remainder),W(6),In(i.formStatus()?42:43)}},dependencies:[iy,wl,ty,ny,so,ey,_l,bl,xD,AD,SD,Tu],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}[_nghost-%COMP%]{transition:all 5s ease-in}.modal-container[_ngcontent-%COMP%]{width:40vw;height:fit-content;background-color:var(--blue-300);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:5px;padding:10px 20px;z-index:1000}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-start;margin:10px auto}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;font-size:18px;border-radius:5px;padding:5px;transition:.3s;color:var(--black-500)}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{background-color:var(--white-100)}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px;color:#0003;font-size:18px}.title[_ngcontent-%COMP%]{padding:5px}.form-group[_ngcontent-%COMP%]{margin-bottom:6px}input[_ngcontent-%COMP%]{height:40px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;outline:none;border:none;border-radius:2px;resize:none;padding:10px;letter-spacing:1px;font-family:Roboto Slab,serif;font-size:14px;font-weight:500;color:var(--white-800)}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:30px auto}.select-group[_ngcontent-%COMP%]{padding:0;margin:0 0 5px;display:flex;flex-direction:column;row-gap:4px}.select-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:1px solid var(--black-500);outline:none;border-radius:3px;padding:9px 10px;letter-spacing:1px;font-family:Roboto Slab,serif;font-size:14px;font-weight:500;color:var(--white-800);position:relative}.submit[_ngcontent-%COMP%], .cancle[_ngcontent-%COMP%]{padding:10px 15px;margin:0 5px;border:none;border-radius:5px;cursor:pointer;font-size:14px;border:1px solid var(--purple-300)}.submit[_ngcontent-%COMP%]{background-color:var(--purple-200)}.btn-outline[_ngcontent-%COMP%]{padding:5px 10px;margin:auto 5px;border:2px solid var(--white-50);border-radius:5px;font-size:12px;cursor:pointer}.alert[_ngcontent-%COMP%]{color:var(--red-400);font-size:12px;font-weight:300}.select-time[_ngcontent-%COMP%], .select-date[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.start-time[_ngcontent-%COMP%], .end-time[_ngcontent-%COMP%], .start-date[_ngcontent-%COMP%], .end-date[_ngcontent-%COMP%]{width:45%;display:flex;flex-direction:column;row-gap:5px}label[_ngcontent-%COMP%]{font-size:12px;color:var(--orange-200)}.select-date[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .select-time[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 8px;border-radius:3px;height:40px}@media (max-width: 765px){.modal-container[_ngcontent-%COMP%]{width:80vw}}"]})};var VQ=["container"];function BQ(n,e){if(n&1){let t=Lt();N(0,"li",21,2),ue("click",function(){Be(t);let r=Rr(1),s=Qe(2),o=Rr(7);return je(s.readSearchItem(o,r))}),B(2),P()}if(n&2){let t=e.$implicit;W(2),Ye(" ",t.title," ")}}function jQ(n,e){if(n&1&&(N(0,"div",11)(1,"ul"),jo(2,BQ,3,1,"li",20,Eu),P()()),n&2){let t=Qe();W(2),Uo(t.searchItem)}}function UQ(n,e){if(n&1&&(N(0,"div",26)(1,"span"),B(2),Or(3,"date"),P(),N(4,"span"),B(5),Or(6,"date"),P()()),n&2){let t=Qe().$implicit;W(2),Ye("Start time : ",Fr(3,2,t.start_date,"medium"),""),W(3),Ye("End time : ",Fr(6,5,t.end_date,"medium"),"")}}function $Q(n,e){if(n&1){let t=Lt();N(0,"a",22),ue("click",function(r){let s=Be(t).$implicit,o=Qe();return je(o.seeTaskDetails(s.id,r))}),N(1,"li")(2,"div"),J(3,"i",23,3),N(5,"p",24),B(6),P(),N(7,"p",25),B(8),P()(),ht(9,UQ,7,8,"div",26),P()()}if(n&2){let t=e.$implicit;W(6),kr(t.title),W(),gt(t.status=="pending"?"pending":"dued"),W(),Ye(" ",t.status," "),W(),In(9)}}var Aa=class n{router=j(Vn);taskId=null;notificationService=j(sr);componentRef=gu;seeTaskDetails(e,t){let i=t.target;if(i.tagName,i.classList.contains("bx")&&i.classList.contains("bx-checkbox")){this.taskId=e,i.classList.remove("bx-checkbox"),i.classList.add("bx-checkbox-checked");return}else if(i.tagName,i.classList.contains("bx")&&i.classList.contains("bx-checkbox-checked")){this.taskId=null,i.classList.remove("bx-checkbox-checked"),i.classList.add("bx-checkbox");return}this.router.navigate(["/dashboard/taskdetails/",{id:e}])}taskAction(e){return C(this,null,function*(){let t=e.target.value,i=e.target;if(!this.taskId&&t!==""&&(i.value="",this.notificationService.errorMessage("Please select atleast one task","Action")),t==="edit"&&this.taskId){let r=yield this.allTask.filter(s=>s.id==this.taskId);this.#e?.instance.formStatus.set(!0),this.showModal(),this.#e?.setInput("formdata",r),this.#e?.setInput("formStatus",!0)}t==="delete"&&this.taskId&&this.todoService.deleteTask(this.taskId).then(r=>{let s=e.target;s.value="",this.notificationService.successMessage(r,"Delete message"),this.getAllTask()}).catch(r=>{i.value="",this.notificationService.errorMessage(r,"Failed message")})})}todoService=j(si);allTask=[];searchItem=[];searchState=st(!1);vcr=Bo("container",{read:$i});#e;timerStatus=W0(1e3);timeStamp;unSubscribeTimeStatus;closePopup(){this.#e?.instance.close.subscribe(()=>{this.#e?.destroy(),this.todoService.blurSignal.set(!1),this.getAllTask()})}showModal(){this.vcr()?.clear(),this.#e=this.vcr()?.createComponent(uy),this.todoService.blurSignal.set(!0),this.closePopup(),this.#e?.instance.task.subscribe(e=>{this.todoService.createTask(e).then(t=>{this.#e?.instance.close.emit(),this.getAllTask()}).catch(t=>{})})}ngOnInit(){return C(this,null,function*(){yield this.getAllTask(),this.unSubscribeTimeStatus=this.timerStatus.subscribe(e=>{this.getTaskTime()})})}getTaskTime(){this.allTask.map(e=>{let t=e.start_date,i=e.end_date;t>new Date?this.todoService.updateTaskStatus(e.title,"pending").then(r=>{this.getAllTask()}):t<new Date&&this.todoService.updateTaskStatus(e.title,"dued").then(r=>{this.getAllTask()})})}hideOption(e){this.searchState.set(!1),this.searchItem=[]}showOption(){this.searchState.set(!0),this.searchItem=this.allTask}getInput(e){let t=e.target;if(this.searchState.set(!0),t){this.searchItem=[];let i=this.allTask.filter(r=>r.title.includes(t.value));this.searchItem=i,this.getTaskByTitle(t.value)}}readSearchItem(e,t){let i=t.textContent??"";e.value=i,this.searchState.set(!1),this.searchItem=[],this.getTaskByTitle(i)}getTaskByTitle(e){this.todoService.getDataByTitle(e).then(t=>{this.allTask=[],console.log(t),this.allTask.push(t)}).catch(t=>{this.getAllTask()})}getAllTask(){this.todoService.getAllTask().then(e=>{this.allTask=[],e.forEach(t=>{this.allTask.push(t)})}).catch(e=>{console.log(e)})}ngOnDestroy(){this.unSubscribeTimeStatus.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-todo"]],viewQuery:function(t,i){t&1&&$o(i.vcr,VQ,5,$i),t&2&&bc()},standalone:!0,features:[Me],decls:30,vars:1,consts:[["searchInput",""],["container",""],["li",""],["checkIcon",""],[1,"search-cont"],[1,"add-task",3,"click"],[1,"bx","bx-message-square-add"],[1,"search-input-cont"],["type","search","placeholder","Search task",1,"search-input",3,"input","change","focusin"],[1,"filter-btn"],[1,"bx","bx-filter"],[1,"search-option"],[1,"modal-container"],[1,"task-list-cont"],[1,"task-header"],["for",""],["name","","id","",1,"status",3,"change"],["value",""],["value","edit"],["value","delete"],["as","","li",""],["as","","li","",3,"click"],[3,"click"],[1,"bx","bx-checkbox"],[1,"title"],[1,"status"],[1,"more-details"]],template:function(t,i){if(t&1){let r=Lt();N(0,"div",4)(1,"button",5),ue("click",function(){return Be(r),je(i.showModal())}),N(2,"span"),B(3," Add task"),P(),J(4,"i",6),P(),N(5,"div",7)(6,"input",8,0),ue("input",function(o){return Be(r),je(i.getInput(o))})("change",function(){Be(r);let o=Rr(7);return je(i.hideOption(o))})("focusin",function(){return Be(r),je(i.showOption())}),P(),N(8,"button",9),J(9,"i",10),P(),ht(10,jQ,4,0,"div",11),P()(),db(11,12,1),N(13,"div",13)(14,"div",14)(15,"h3"),B(16,"All task"),P(),N(17,"div")(18,"label",15),B(19,"Action"),P(),N(20,"select",16),ue("change",function(o){return Be(r),je(i.taskAction(o))}),N(21,"option",17),B(22,"Action"),P(),N(23,"option",18),B(24,"Edit"),P(),N(25,"option",19),B(26,"Delete"),P()()()(),N(27,"ul"),jo(28,$Q,10,5,"a",null,Eu),P()()}t&2&&(W(10),In(i.searchState()?10:-1),W(18),Uo(i.allTask))},dependencies:[El,ty,ny,Ic,Su],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}.search-cont[_ngcontent-%COMP%]{width:100%;height:fit-content;display:flex;justify-content:flex-start;column-gap:30px;align-items:center;border:none;margin:10px 5px}.search-input-cont[_ngcontent-%COMP%]{flex-grow:2;display:flex;align-items:center;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;border-radius:5px;position:relative}.search-option[_ngcontent-%COMP%]{position:absolute;width:100%;height:fit-content;top:50px;border-radius:5px;background-color:#fff;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px}.search-option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.search-option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 12px;text-transform:capitalize;cursor:pointer}.search-option[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--white-50)}.search-input[_ngcontent-%COMP%]{width:100%;flex-grow:2;padding:10px 20px;outline:none;border-radius:5px;border:none;font-family:Roboto Slab,serif;font-weight:500;text-transform:capitalize}.filter-btn[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px 15px;cursor:pointer}.filter-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.add-task[_ngcontent-%COMP%]{width:120px;padding:10px;background-color:var(--purple-300);color:var(--white-100);border:none;cursor:pointer;border-radius:5px;display:flex;justify-content:center;align-items:center;column-gap:5px;font-weight:600;flex-grow:0;margin:auto 5px}.task-list-cont[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start;flex-direction:column;width:100%;height:auto;margin:10px 0;padding:50px 0}.task-list-cont[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;column-gap:25px;padding:5px auto}.task-list-cont[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--black-100);font-weight:300;font-size:12px;margin:0 5px}.task-list-cont[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px;margin:5 10px;appearance:none;border:1px solid var(--purple-200);outline:none;background-color:var(--white-50);border-radius:5px;text-align:center;color:var(--black-100)!important;font-weight:300;font-size:12px;text-transform:capitalize;cursor:pointer}.task-list-cont[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;width:100%}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;cursor:pointer;list-style:none;padding:10px 20px;box-shadow:0 4px 17px #ddd;flex-direction:column;margin:20px 0;display:flex;align-items:flex-start;justify-content:space-between;column-gap:5px;border-radius:5px}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .more-details[_ngcontent-%COMP%]{font-size:12px;display:flex;align-items:center;padding:12px 10px;border-radius:5px;text-transform:capitalize;column-gap:25px}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .more-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--black-100);font-weight:300}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:10px;padding:5px 10px;cursor:pointer}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:12px;display:flex;align-items:center;padding:2px 5px;border-radius:5px;text-transform:capitalize}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .status.dued[_ngcontent-%COMP%]{background-color:var(--red-200);border:1px solid var(--red-400);border-radius:2px;padding:3px 5px}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .status.pending[_ngcontent-%COMP%]{background-color:var(--orange-300)}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;font-size:30px;border:1px solid var(--purple-200);border-radius:5px}@media (max-width: 765px){.search-cont[_ngcontent-%COMP%]{column-gap:5px}.add-task[_ngcontent-%COMP%]{column-gap:5px;width:fit-content}.add-task[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.task-list-cont[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]{column-gap:5px}.task-list-cont[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px}}"]})};function eh(n){return n+.5|0}var ao=(n,e,t)=>Math.max(Math.min(n,t),e);function Xd(n){return ao(eh(n*2.55),0,255)}function co(n){return ao(eh(n*255),0,255)}function ss(n){return ao(eh(n/2.55)/100,0,1)}function XF(n){return ao(eh(n*100),0,100)}var oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},PD=[..."0123456789ABCDEF"],zQ=n=>PD[n&15],HQ=n=>PD[(n&240)>>4]+PD[n&15],dy=n=>(n&240)>>4===(n&15),qQ=n=>dy(n.r)&&dy(n.g)&&dy(n.b)&&dy(n.a);function WQ(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&oi[n[1]]*17,g:255&oi[n[2]]*17,b:255&oi[n[3]]*17,a:e===5?oi[n[4]]*17:255}:(e===7||e===9)&&(t={r:oi[n[1]]<<4|oi[n[2]],g:oi[n[3]]<<4|oi[n[4]],b:oi[n[5]]<<4|oi[n[6]],a:e===9?oi[n[7]]<<4|oi[n[8]]:255})),t}var GQ=(n,e)=>n<255?e(n):"";function KQ(n){var e=qQ(n)?zQ:HQ;return n?"#"+e(n.r)+e(n.g)+e(n.b)+GQ(n.a,e):void 0}var QQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nL(n,e,t){let i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function YQ(n,e,t){let i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function ZQ(n,e,t){let i=nL(n,1,.5),r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function XQ(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function RD(n){let t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=(s+o)/2,c,l,u;return s!==o&&(u=s-o,l=a>.5?u/(2-s-o):u/(s+o),c=XQ(t,i,r,u,s),c=c*60+.5),[c|0,l||0,a]}function kD(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(co)}function ND(n,e,t){return kD(nL,n,e,t)}function JQ(n,e,t){return kD(ZQ,n,e,t)}function eY(n,e,t){return kD(YQ,n,e,t)}function iL(n){return(n%360+360)%360}function tY(n){let e=QQ.exec(n),t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Xd(+e[5]):co(+e[5]));let r=iL(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=JQ(r,s,o):e[1]==="hsv"?i=eY(r,s,o):i=ND(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function nY(n,e){var t=RD(n);t[0]=iL(t[0]+e),t=ND(t),n.r=t[0],n.g=t[1],n.b=t[2]}function iY(n){if(!n)return;let e=RD(n),t=e[0],i=XF(e[1]),r=XF(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${ss(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}var JF={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},eL={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rY(){let n={},e=Object.keys(eL),t=Object.keys(JF),i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<t.length;r++)s=t[r],a=a.replace(s,JF[s]);s=parseInt(eL[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}var hy;function sY(n){hy||(hy=rY(),hy.transparent=[0,0,0,0]);let e=hy[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var oY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aY(n){let e=oY.exec(n),t=255,i,r,s;if(e){if(e[7]!==i){let o=+e[7];t=e[8]?Xd(o):ao(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Xd(i):ao(i,0,255)),r=255&(e[4]?Xd(r):ao(r,0,255)),s=255&(e[6]?Xd(s):ao(s,0,255)),{r:i,g:r,b:s,a:t}}}function cY(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ss(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var MD=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Il=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function lY(n,e,t){let i=Il(ss(n.r)),r=Il(ss(n.g)),s=Il(ss(n.b));return{r:co(MD(i+t*(Il(ss(e.r))-i))),g:co(MD(r+t*(Il(ss(e.g))-r))),b:co(MD(s+t*(Il(ss(e.b))-s))),a:n.a+t*(e.a-n.a)}}function fy(n,e,t){if(n){let i=RD(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=ND(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function rL(n,e){return n&&Object.assign(e||{},n)}function tL(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=co(n[3]))):(e=rL(n,{r:0,g:0,b:0,a:1}),e.a=co(e.a)),e}function uY(n){return n.charAt(0)==="r"?aY(n):tY(n)}var Jd=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,i;t==="object"?i=tL(e):t==="string"&&(i=WQ(e)||sY(e)||uY(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=rL(this._rgb);return e&&(e.a=ss(e.a)),e}set rgb(e){this._rgb=tL(e)}rgbString(){return this._valid?cY(this._rgb):void 0}hexString(){return this._valid?KQ(this._rgb):void 0}hslString(){return this._valid?iY(this._rgb):void 0}mix(e,t){if(e){let i=this.rgb,r=e.rgb,s,o=t===s?.5:t,a=2*o-1,c=i.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,i.r=255&l*i.r+s*r.r+.5,i.g=255&l*i.g+s*r.g+.5,i.b=255&l*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=lY(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=co(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=eh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return fy(this._rgb,2,e),this}darken(e){return fy(this._rgb,2,-e),this}saturate(e){return fy(this._rgb,1,e),this}desaturate(e){return fy(this._rgb,1,-e),this}rotate(e){return nY(this._rgb,e),this}};function lr(){}var gL=(()=>{let n=0;return()=>n++})();function ke(n){return n==null}function at(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ce(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function yt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Sn(n,e){return yt(n)?n:e}function pe(n,e){return typeof n>"u"?e:n}var mL=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,VD=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function nt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function qe(n,e,t,i){let r,s,o;if(at(n))if(s=n.length,i)for(r=s-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<s;r++)e.call(t,n[r],r);else if(Ce(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function ih(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function yy(n){if(at(n))return n.map(yy);if(Ce(n)){let e=Object.create(null),t=Object.keys(n),i=t.length,r=0;for(;r<i;++r)e[t[r]]=yy(n[t[r]]);return e}return n}function yL(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function dY(n,e,t,i){if(!yL(n))return;let r=e[n],s=t[n];Ce(r)&&Ce(s)?Dl(r,s,i):e[n]=yy(s)}function Dl(n,e,t){let i=at(e)?e:[e],r=i.length;if(!Ce(n))return n;t=t||{};let s=t.merger||dY,o;for(let a=0;a<r;++a){if(o=i[a],!Ce(o))continue;let c=Object.keys(o);for(let l=0,u=c.length;l<u;++l)s(c[l],n,o,t)}return n}function Sl(n,e){return Dl(n,e,{merger:hY})}function hY(n,e,t){if(!yL(n))return;let i=e[n],r=t[n];Ce(i)&&Ce(r)?Sl(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=yy(r))}var sL={"":n=>n,x:n=>n.x,y:n=>n.y};function fY(n){let e=n.split("."),t=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function pY(n){let e=fY(n);return t=>{for(let i of e){if(i==="")break;t=t&&t[i]}return t}}function cs(n,e){return(sL[e]||(sL[e]=pY(e)))(n)}function wy(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Al=n=>typeof n<"u",os=n=>typeof n=="function",BD=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function vL(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var ct=Math.PI,lt=2*ct,gY=lt+ct,vy=Number.POSITIVE_INFINITY,mY=ct/180,It=ct/2,xa=ct/4,oL=ct*2/3,as=Math.log10,Mi=Math.sign;function xl(n,e,t){return Math.abs(n-e)<t}function jD(n){let e=Math.round(n);n=xl(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(as(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function _L(n){let e=[],t=Math.sqrt(n),i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function Ra(n){return!isNaN(parseFloat(n))&&isFinite(n)}function bL(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function UD(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ai(n){return n*(ct/180)}function Ey(n){return n*(180/ct)}function $D(n){if(!yt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function zD(n,e){let t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i),s=Math.atan2(i,t);return s<-.5*ct&&(s+=lt),{angle:s,distance:r}}function _y(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function yY(n,e){return(n-e+gY)%lt-ct}function Tn(n){return(n%lt+lt)%lt}function Ml(n,e,t,i){let r=Tn(n),s=Tn(e),o=Tn(t),a=Tn(s-r),c=Tn(o-r),l=Tn(r-s),u=Tn(r-o);return r===s||r===o||i&&s===o||a>c&&l<u}function jt(n,e,t){return Math.max(e,Math.min(t,n))}function wL(n){return jt(n,-32768,32767)}function ur(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Iy(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}var ar=(n,e,t,i)=>Iy(n,t,i?r=>{let s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),EL=(n,e,t)=>Iy(n,t,i=>n[i][e]>=t);function IL(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}var CL=["push","pop","shift","splice","unshift"];function DL(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),CL.forEach(t=>{let i="_onData"+wy(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function HD(n,e){let t=n._chartjs;if(!t)return;let i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(CL.forEach(s=>{delete n[s]}),delete n._chartjs)}function qD(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var WD=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function GD(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,WD.call(window,()=>{i=!1,n.apply(e,t)}))}}function TL(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}var Cy=n=>n==="start"?"left":n==="end"?"right":"center",Yt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,SL=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function KD(n,e,t){let i=e.length,r=0,s=i;if(n._sorted){let{iScale:o,_parsed:a}=n,c=o.axis,{min:l,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(r=jt(Math.min(ar(a,c,l).lo,t?i:ar(e,c,o.getPixelForValue(l)).lo),0,i-1)),f?s=jt(Math.max(ar(a,o.axis,u,!0).hi+1,t?0:ar(e,c,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function QD(n){let{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;let s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}var py=n=>n===0||n===1,aL=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*lt/t)),cL=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*lt/t)+1,Cl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*It)+1,easeOutSine:n=>Math.sin(n*It),easeInOutSine:n=>-.5*(Math.cos(ct*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>py(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>py(n)?n:aL(n,.075,.3),easeOutElastic:n=>py(n)?n:cL(n,.075,.3),easeInOutElastic(n){return py(n)?n:n<.5?.5*aL(n*2,.1125,.45):.5+.5*cL(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Cl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Cl.easeInBounce(n*2)*.5:Cl.easeOutBounce(n*2-1)*.5+.5};function YD(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ZD(n){return YD(n)?n:new Jd(n)}function OD(n){return YD(n)?n:new Jd(n).saturate(.5).darken(.1).hexString()}var vY=["x","y","borderWidth","radius","tension"],_Y=["color","borderColor","backgroundColor"];function bY(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:_Y},numbers:{type:"number",properties:vY}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function wY(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var lL=new Map;function EY(n,e){e=e||{};let t=n+JSON.stringify(e),i=lL.get(t);return i||(i=new Intl.NumberFormat(n,e),lL.set(t,i)),i}function Pl(n,e,t){return EY(e,t).format(n)}var AL={values(n){return at(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let i=this.chart.options.locale,r,s=n;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),s=IY(n,t)}let o=as(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Pl(n,i,c)},logarithmic(n,e,t){if(n===0)return"0";let i=t[e].significand||n/Math.pow(10,Math.floor(as(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?AL.numeric.call(this,n,e,t):""}};function IY(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var rh={formatters:AL};function CY(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var uo=Object.create(null),Dy=Object.create(null);function th(n,e){if(!e)return n;let t=e.split(".");for(let i=0,r=t.length;i<r;++i){let s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function FD(n,e,t){return typeof e=="string"?Dl(th(n,e),t):Dl(th(n,""),e)}var LD=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>OD(r.backgroundColor),this.hoverBorderColor=(i,r)=>OD(r.borderColor),this.hoverColor=(i,r)=>OD(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return FD(this,e,t)}get(e){return th(this,e)}describe(e,t){return FD(Dy,e,t)}override(e,t){return FD(uo,e,t)}route(e,t,i,r){let s=th(this,e),o=th(this,i),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[a],l=o[r];return Ce(c)?Object.assign({},l,c):pe(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}},dt=new LD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bY,wY,CY]);function DY(n){return!n||ke(n.size)||ke(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function nh(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function xL(n,e,t,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0,a=t.length,c,l,u,h,f;for(c=0;c<a;c++)if(h=t[c],h!=null&&!at(h))o=nh(n,r,s,o,h);else if(at(h))for(l=0,u=h.length;l<u;l++)f=h[l],f!=null&&!at(f)&&(o=nh(n,r,s,o,f));n.restore();let g=s.length/2;if(g>t.length){for(c=0;c<g;c++)delete r[s[c]];s.splice(0,g)}return o}function ho(n,e,t){let i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function XD(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Ty(n,e,t,i){JD(n,e,t,i,null)}function JD(n,e,t,i,r){let s,o,a,c,l,u,h,f,g=e.pointStyle,y=e.rotation,v=e.radius,_=(y||0)*mY;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(_),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),n.restore();return}if(!(isNaN(v)||v<=0)){switch(n.beginPath(),g){default:r?n.ellipse(t,i,r/2,v,0,0,lt):n.arc(t,i,v,0,lt),n.closePath();break;case"triangle":u=r?r/2:v,n.moveTo(t+Math.sin(_)*u,i-Math.cos(_)*v),_+=oL,n.lineTo(t+Math.sin(_)*u,i-Math.cos(_)*v),_+=oL,n.lineTo(t+Math.sin(_)*u,i-Math.cos(_)*v),n.closePath();break;case"rectRounded":l=v*.516,c=v-l,o=Math.cos(_+xa)*c,h=Math.cos(_+xa)*(r?r/2-l:c),a=Math.sin(_+xa)*c,f=Math.sin(_+xa)*(r?r/2-l:c),n.arc(t-h,i-a,l,_-ct,_-It),n.arc(t+f,i-o,l,_-It,_),n.arc(t+h,i+a,l,_,_+It),n.arc(t-f,i+o,l,_+It,_+ct),n.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*v,u=r?r/2:c,n.rect(t-u,i-c,2*u,2*c);break}_+=xa;case"rectRot":h=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),n.moveTo(t-h,i-a),n.lineTo(t+f,i-o),n.lineTo(t+h,i+a),n.lineTo(t-f,i+o),n.closePath();break;case"crossRot":_+=xa;case"cross":h=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"star":h=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o),_+=xa,h=Math.cos(_)*(r?r/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(r?r/2:v),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"line":o=r?r/2:Math.cos(_)*v,a=Math.sin(_)*v,n.moveTo(t-o,i-a),n.lineTo(t+o,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(_)*(r?r/2:v),i+Math.sin(_)*v);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function cr(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function sh(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function oh(n){n.restore()}function ML(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){let s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function PL(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function TY(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ke(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function SY(n,e,t,i,r){if(r.strikethrough||r.underline){let s=n.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,l=t+s.actualBoundingBoxDescent,u=r.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function AY(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function fo(n,e,t,i,r,s={}){let o=at(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(n.save(),n.font=r.string,TY(n,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&AY(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),ke(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(l,t,i,s.maxWidth)),n.fillText(l,t,i,s.maxWidth),SY(n,t,i,l,s),i+=Number(r.lineHeight);n.restore()}function Rl(n,e){let{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*ct,ct,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,ct,It,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,It,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-It,!0),n.lineTo(t+o.topLeft,i)}var xY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,MY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function PY(n,e){let t=(""+n).match(xY);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var RY=n=>+n||0;function Sy(n,e){let t={},i=Ce(e),r=i?Object.keys(e):e,s=Ce(n)?i?o=>pe(n[o],n[e[o]]):o=>n[o]:()=>n;for(let o of r)t[o]=RY(s(o));return t}function eT(n){return Sy(n,{top:"y",right:"x",bottom:"y",left:"x"})}function po(n){return Sy(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Zt(n){let e=eT(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function kt(n,e){n=n||{},e=e||dt.font;let t=pe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=pe(n.style,e.style);i&&!(""+i).match(MY)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:pe(n.family,e.family),lineHeight:PY(pe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:pe(n.weight,e.weight),string:""};return r.string=DY(r),r}function kl(n,e,t,i){let r=!0,s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),t!==void 0&&at(a)&&(a=a[t%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function RL(n,e,t){let{min:i,max:r}=n,s=VD(e,(r-i)/2),o=(a,c)=>t&&a===0?0:a+c;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function ls(n,e){return Object.assign(Object.create(n),e)}function Ay(n,e=[""],t,i,r=()=>n[0]){let s=t||n;typeof i>"u"&&(i=OL("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Ay([a,...n],e,s,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return kL(a,c,()=>jY(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return dL(a).includes(c)},ownKeys(a){return dL(a)},set(a,c,l){let u=a._storage||(a._storage=r());return a[c]=u[c]=l,delete a._keys,!0}})}function Pa(n,e,t,i){let r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:tT(n,i),setContext:s=>Pa(n,s,t,i),override:s=>Pa(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return kL(s,o,()=>NY(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function tT(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:os(t)?t:()=>t,isIndexable:os(i)?i:()=>i}}var kY=(n,e)=>n?n+wy(e):e,nT=(n,e)=>Ce(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kL(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let i=t();return n[e]=i,i}function NY(n,e,t){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n,a=i[e];return os(a)&&o.isScriptable(e)&&(a=OY(e,a,n,t)),at(a)&&a.length&&(a=FY(e,a,n,o.isIndexable)),nT(e,a)&&(a=Pa(a,r,s&&s[e],o)),a}function OY(n,e,t,i){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(s,o||i);return a.delete(n),nT(n,c)&&(c=iT(r._scopes,r,n,c)),c}function FY(n,e,t,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Ce(e[0])){let c=e,l=r._scopes.filter(u=>u!==c);e=[];for(let u of c){let h=iT(l,r,n,u);e.push(Pa(h,s,o&&o[n],a))}}return e}function NL(n,e,t){return os(n)?n(e,t):n}var LY=(n,e)=>n===!0?e:typeof n=="string"?cs(e,n):void 0;function VY(n,e,t,i,r){for(let s of e){let o=LY(t,s);if(o){n.add(o);let a=NL(o._fallback,t,r);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function iT(n,e,t,i){let r=e._rootScopes,s=NL(e._fallback,t,i),o=[...n,...r],a=new Set;a.add(i);let c=uL(a,o,t,s||t,i);return c===null||typeof s<"u"&&s!==t&&(c=uL(a,o,s,c,i),c===null)?!1:Ay(Array.from(a),[""],r,s,()=>BY(e,t,i))}function uL(n,e,t,i,r){for(;t;)t=VY(n,e,t,i,r);return t}function BY(n,e,t){let i=n._getTarget();e in i||(i[e]={});let r=i[e];return at(r)&&Ce(t)?t:r||{}}function jY(n,e,t,i){let r;for(let s of e)if(r=OL(kY(s,n),t),typeof r<"u")return nT(n,r)?iT(t,i,n,r):r}function OL(n,e){for(let t of e){if(!t)continue;let i=t[n];if(typeof i<"u")return i}}function dL(n){let e=n._keys;return e||(e=n._keys=UY(n._scopes)),e}function UY(n){let e=new Set;for(let t of n)for(let i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function rT(n,e,t,i){let{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i),a,c,l,u;for(a=0,c=i;a<c;++a)l=a+t,u=e[l],o[a]={r:r.parse(cs(u,s),l)};return o}var $Y=Number.EPSILON||1e-14,Tl=(n,e)=>e<n.length&&!n[e].skip&&n[e],FL=n=>n==="x"?"y":"x";function zY(n,e,t,i){let r=n.skip?e:n,s=e,o=t.skip?e:t,a=_y(s,r),c=_y(o,s),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let h=i*l,f=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function HY(n,e,t){let i=n.length,r,s,o,a,c,l=Tl(n,0);for(let u=0;u<i-1;++u)if(c=l,l=Tl(n,u+1),!(!c||!l)){if(xl(e[u],0,$Y)){t[u]=t[u+1]=0;continue}r=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=r*o*e[u],t[u+1]=s*o*e[u])}}function qY(n,e,t="x"){let i=FL(t),r=n.length,s,o,a,c=Tl(n,0);for(let l=0;l<r;++l){if(o=a,a=c,c=Tl(n,l+1),!a)continue;let u=a[t],h=a[i];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${i}`]=h-s*e[l]),c&&(s=(c[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${i}`]=h+s*e[l])}}function WY(n,e="x"){let t=FL(e),i=n.length,r=Array(i).fill(0),s=Array(i),o,a,c,l=Tl(n,0);for(o=0;o<i;++o)if(a=c,c=l,l=Tl(n,o+1),!!c){if(l){let u=l[e]-c[e];r[o]=u!==0?(l[t]-c[t])/u:0}s[o]=a?l?Mi(r[o-1])!==Mi(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}HY(n,r,s),qY(n,s,e)}function gy(n,e,t){return Math.max(Math.min(n,t),e)}function GY(n,e){let t,i,r,s,o,a=cr(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=a,a=t<i-1&&cr(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=gy(r.cp1x,e.left,e.right),r.cp1y=gy(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=gy(r.cp2x,e.left,e.right),r.cp2y=gy(r.cp2y,e.top,e.bottom)))}function LL(n,e,t,i,r){let s,o,a,c;if(e.spanGaps&&(n=n.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")WY(n,r);else{let l=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],c=zY(l,a,n[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&GY(n,t)}function xy(){return typeof window<"u"&&typeof document<"u"}function My(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function by(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}var Py=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function KY(n,e){return Py(n).getPropertyValue(e)}var QY=["top","right","bottom","left"];function Ma(n,e,t){let i={};t=t?"-"+t:"";for(let r=0;r<4;r++){let s=QY[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var YY=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function ZY(n,e){let t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i,o=!1,a,c;if(YY(r,s,n.target))a=r,c=s;else{let l=e.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function go(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:i}=e,r=Py(t),s=r.boxSizing==="border-box",o=Ma(r,"padding"),a=Ma(r,"border","width"),{x:c,y:l,box:u}=ZY(n,t),h=o.left+(u&&a.left),f=o.top+(u&&a.top),{width:g,height:y}=e;return s&&(g-=o.width+a.width,y-=o.height+a.height),{x:Math.round((c-h)/g*t.width/i),y:Math.round((l-f)/y*t.height/i)}}function XY(n,e,t){let i,r;if(e===void 0||t===void 0){let s=n&&My(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{let o=s.getBoundingClientRect(),a=Py(s),c=Ma(a,"border","width"),l=Ma(a,"padding");e=o.width-l.width-c.width,t=o.height-l.height-c.height,i=by(a.maxWidth,s,"clientWidth"),r=by(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||vy,maxHeight:r||vy}}var my=n=>Math.round(n*10)/10;function VL(n,e,t,i){let r=Py(n),s=Ma(r,"margin"),o=by(r.maxWidth,n,"clientWidth")||vy,a=by(r.maxHeight,n,"clientHeight")||vy,c=XY(n,e,t),{width:l,height:u}=c;if(r.boxSizing==="content-box"){let f=Ma(r,"border","width"),g=Ma(r,"padding");l-=g.width+f.width,u-=g.height+f.height}return l=Math.max(0,l-s.width),u=Math.max(0,i?l/i:u-s.height),l=my(Math.min(l,o,c.maxWidth)),u=my(Math.min(u,a,c.maxHeight)),l&&!u&&(u=my(l/2)),(e!==void 0||t!==void 0)&&i&&c.height&&u>c.height&&(u=c.height,l=my(Math.floor(u*i))),{width:l,height:u}}function sT(n,e,t){let i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var BL=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};xy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function oT(n,e){let t=KY(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function lo(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function jL(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function UL(n,e,t,i){let r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=lo(n,r,t),a=lo(r,s,t),c=lo(s,e,t),l=lo(o,a,t),u=lo(a,c,t);return lo(l,u,t)}var JY=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},eZ=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ka(n,e,t){return n?JY(e,t):eZ()}function aT(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function cT(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function $L(n){return n==="angle"?{between:Ml,compare:yY,normalize:Tn}:{between:ur,compare:(e,t)=>e-t,normalize:e=>e}}function hL({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function tZ(n,e,t){let{property:i,start:r,end:s}=t,{between:o,normalize:a}=$L(i),c=e.length,{start:l,end:u,loop:h}=n,f,g;if(h){for(l+=c,u+=c,f=0,g=c;f<g&&o(a(e[l%c][i]),r,s);++f)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:h,style:n.style}}function lT(n,e,t){if(!t)return[n];let{property:i,start:r,end:s}=t,o=e.length,{compare:a,between:c,normalize:l}=$L(i),{start:u,end:h,loop:f,style:g}=tZ(n,e,t),y=[],v=!1,_=null,S,x,k,F=()=>c(r,k,S)&&a(r,k)!==0,L=()=>a(s,S)===0||c(s,k,S),O=()=>v||F(),I=()=>!v||L();for(let b=u,E=u;b<=h;++b)x=e[b%o],!x.skip&&(S=l(x[i]),S!==k&&(v=c(S,r,s),_===null&&O()&&(_=a(S,r)===0?b:E),_!==null&&I()&&(y.push(hL({start:_,end:b,loop:f,count:o,style:g})),_=null),E=b,k=S));return _!==null&&y.push(hL({start:_,end:h,loop:f,count:o,style:g})),y}function uT(n,e){let t=[],i=n.segments;for(let r=0;r<i.length;r++){let s=lT(i[r],n.points,e);s.length&&t.push(...s)}return t}function nZ(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function iZ(n,e,t,i){let r=n.length,s=[],o=e,a=n[e],c;for(c=e+1;c<=t;++c){let l=n[c%r];l.skip||l.stop?a.skip||(i=!1,s.push({start:e%r,end:(c-1)%r,loop:i}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function zL(n,e){let t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];let s=!!n._loop,{start:o,end:a}=nZ(t,r,s,i);if(i===!0)return fL(n,[{start:o,end:a,loop:s}],t,e);let c=a<o?a+r:a,l=!!n._fullLoop&&o===0&&a===r-1;return fL(n,iZ(t,o,c,l),t,e)}function fL(n,e,t,i){return!i||!i.setContext||!t?e:rZ(n,e,t,i)}function rZ(n,e,t,i){let r=n._chart.getContext(),s=pL(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=t.length,l=[],u=s,h=e[0].start,f=h;function g(y,v,_,S){let x=a?-1:1;if(y!==v){for(y+=c;t[y%c].skip;)y-=x;for(;t[v%c].skip;)v+=x;y%c!==v%c&&(l.push({start:y%c,end:v%c,loop:_,style:S}),u=S,h=v%c)}}for(let y of e){h=a?h:y.start;let v=t[h%c],_;for(f=h+1;f<=y.end;f++){let S=t[f%c];_=pL(i.setContext(ls(r,{type:"segment",p0:v,p1:S,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),sZ(_,u)&&g(h,f-1,y.loop,u),v=S,u=_}h<f-1&&g(h,f-1,y.loop,u)}return l}function pL(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function sZ(n,e){if(!e)return!1;let t=[],i=function(r,s){return YD(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}var wT=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){let s=t.listeners[r],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=WD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},us=new wT,HL="transparent",oZ={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let i=ZD(n||HL),r=i.valid&&ZD(e||HL);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}},ET=class{constructor(e,t,i,r){let s=t[i];r=kl([e.to,r,s,e.from]);let o=kl([e.from,s,r]);this._active=!0,this._fn=e.fn||oZ[e.type||typeof o],this._easing=Cl[e.easing]||Cl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=kl([e.to,t,r,e.from]),this._from=kl([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||t<i),!this._active){this._target[r]=a,this._notify(!0);return}if(t<0){this._target[r]=s;return}c=t/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}},Uy=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ce(e))return;let t=Object.keys(dt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let s=e[r];if(!Ce(s))return;let o={};for(let a of t)o[a]=s[a];(at(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,t){let i=t.options,r=cZ(e,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&aZ(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){let i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(e,t));continue}let u=t[l],h=s[l],f=i.get(l);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[l]=u;continue}s[l]=h=new ET(f,e,l,u),r.push(h)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return us.add(this._chart,i),!0}};function aZ(n,e){let t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function cZ(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function qL(n,e){let t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function lZ(n,e,t){if(t===!1)return!1;let i=qL(n,t),r=qL(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function uZ(n){let e,t,i,r;return Ce(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function HV(n,e){let t=[],i=n._getSortedDatasetMetas(e),r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function WL(n,e,t,i={}){let r=n.keys,s=i.mode==="single",o,a,c,l;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===t){if(u=!0,i.all)continue;break}l=n.values[c],yt(l)&&(s||e===0||Mi(e)===Mi(l))&&(e+=l)}return!u&&!i.all?0:e}function dZ(n,e){let{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length),c,l,u;for(c=0,l=o.length;c<l;++c)u=o[c],a[c]={[r]:u,[s]:n[u]};return a}function dT(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function hZ(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function fZ(n){let{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function pZ(n,e,t){let i=n[e]||(n[e]={});return i[t]||(i[t]={})}function GL(n,e,t,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function KL(n,e){let{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=i,c=s.axis,l=o.axis,u=hZ(s,o,i),h=e.length,f;for(let g=0;g<h;++g){let y=e[g],{[c]:v,[l]:_}=y,S=y._stacks||(y._stacks={});f=S[l]=pZ(r,u,v),f[a]=_,f._top=GL(f,o,!0,i.type),f._bottom=GL(f,o,!1,i.type);let x=f._visualValues||(f._visualValues={});x[a]=_}}function hT(n,e){let t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function gZ(n,e){return ls(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function mZ(n,e,t){return ls(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ah(n,e){let t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(let r of e){let s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}var fT=n=>n==="reset"||n==="none",QL=(n,e)=>e?n:Object.assign({},n),yZ=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:HV(t,!0),values:null},yo=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=dT(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ah(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(f,g,y,v)=>f==="x"?g:f==="r"?v:y,o=i.xAxisID=pe(r.xAxisID,hT(t,"x")),a=i.yAxisID=pe(r.yAxisID,hT(t,"y")),c=i.rAxisID=pe(r.rAxisID,hT(t,"r")),l=i.indexAxis,u=i.iAxisID=s(l,o,a,c),h=i.vAxisID=s(l,a,o,c);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&HD(this._data,this),t._stacked&&ah(t)}_dataCheck(){let t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(Ce(i)){let s=this._cachedMeta;this._data=dZ(i,s)}else if(r!==i){if(r){HD(r,this);let s=this._cachedMeta;ah(s),s._parsed=[]}i&&Object.isExtensible(i)&&DL(i,this),this._syncList=[],this._data=i}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let i=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=dT(i.vScale,i),i.stack!==r.stack&&(s=!0,ah(i),i.stack=r.stack),this._resyncElements(t),(s||o!==i._stacked)&&(KL(this,i._parsed),i._stacked=dT(i.vScale,i))}configure(){let t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,c=o.axis,l=t===0&&i===s.length?!0:r._sorted,u=t>0&&r._parsed[t-1],h,f,g;if(this._parsing===!1)r._parsed=s,r._sorted=!0,g=s;else{at(s[t])?g=this.parseArrayData(r,s,t,i):Ce(s[t])?g=this.parseObjectData(r,s,t,i):g=this.parsePrimitiveData(r,s,t,i);let y=()=>f[c]===null||u&&f[c]<u[c];for(h=0;h<i;++h)r._parsed[h+t]=f=g[h],l&&(y()&&(l=!1),u=f);r._sorted=l}a&&KL(this,g)}parsePrimitiveData(t,i,r,s){let{iScale:o,vScale:a}=t,c=o.axis,l=a.axis,u=o.getLabels(),h=o===a,f=new Array(s),g,y,v;for(g=0,y=s;g<y;++g)v=g+r,f[g]={[c]:h||o.parse(u[v],v),[l]:a.parse(i[v],v)};return f}parseArrayData(t,i,r,s){let{xScale:o,yScale:a}=t,c=new Array(s),l,u,h,f;for(l=0,u=s;l<u;++l)h=l+r,f=i[h],c[l]={x:o.parse(f[0],h),y:a.parse(f[1],h)};return c}parseObjectData(t,i,r,s){let{xScale:o,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(s),h,f,g,y;for(h=0,f=s;h<f;++h)g=h+r,y=i[g],u[h]={x:o.parse(cs(y,c),g),y:a.parse(cs(y,l),g)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){let s=this.chart,o=this._cachedMeta,a=i[t.axis],c={keys:HV(s,!0),values:i._stacks[t.axis]._visualValues};return WL(c,a,o.index,{mode:r})}updateRangeFromParsed(t,i,r,s){let o=r[i.axis],a=o===null?NaN:o,c=s&&r._stacks[i.axis];s&&c&&(s.values=c,a=WL(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,i){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,a=s.length,c=this._getOtherScale(t),l=yZ(i,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=fZ(c),g,y;function v(){y=s[g];let _=y[c.axis];return!yt(y[t.axis])||h>_||f<_}for(g=0;g<a&&!(!v()&&(this.updateRangeFromParsed(u,t,y,l),o));++g);if(o){for(g=a-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(u,t,y,l);break}}return u}getAllParsedValues(t){let i=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][t.axis],yt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){let i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){let i=this._cachedMeta;this.update(t||"default"),i._clip=uZ(pe(this.options.clip,lZ(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,i=this.chart,r=this._cachedMeta,s=r.data||[],o=i.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,u=this.options.drawActiveElementsOnTop,h;for(r.dataset&&r.dataset.draw(t,o,c,l),h=c;h<c+l;++h){let f=s[h];f.hidden||(f.active&&u?a.push(f):f.draw(t,o))}for(h=0;h<a.length;++h)a[h].draw(t,o)}getStyle(t,i){let r=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){let s=this.getDataset(),o;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];o=a.$context||(a.$context=mZ(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=gZ(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){let s=i==="active",o=this._cachedDataOpts,a=t+"-"+i,c=o[a],l=this.enableOptionSharing&&Al(r);if(c)return QL(c,l);let u=this.chart.config,h=u.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],g=u.getOptionScopes(this.getDataset(),h),y=Object.keys(dt.elements[t]),v=()=>this.getContext(r,s,i),_=u.resolveNamedOptions(g,y,v,f);return _.$shared&&(_.$shared=l,o[a]=Object.freeze(QL(_,l))),_}_resolveAnimations(t,i,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,i),g=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(g,this.getContext(t,r,i))}let u=new Uy(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||fT(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){let r=this.resolveDataElementOptions(t,i),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:a}}updateElement(t,i,r,s){fT(s)?Object.assign(t,r):this._resolveAnimations(i,s).update(t,r)}updateSharedOptions(t,i,r){t&&!fT(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,s){t.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let i=this._data,r=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,i,r=!0){let s=this._cachedMeta,o=s.data,a=t+i,c,l=u=>{for(u.length+=i,c=u.length-1;c>=a;c--)u[c]=u[c-i]};for(l(o),c=t;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,i),r&&this.updateElements(o,t,i,"reset")}updateElements(t,i,r,s){}_removeElements(t,i){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(t,i);r._stacked&&ah(r,s)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[i,r,s]=t;this[i](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function vZ(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=qD(i.sort((r,s)=>r-s))}return n._cache.$bar}function _Z(n){let e=n.iScale,t=vZ(e,n.type),i=e._length,r,s,o,a,c=()=>{o===32767||o===-32768||(Al(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),c();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),c();return i}function bZ(n,e,t,i){let r=t.barThickness,s,o;return ke(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}function wZ(n,e,t,i){let r=e.pixels,s=r[n],o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null,c=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:t.barPercentage,start:l}}function EZ(n,e,t,i){let r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[t.axis]=l,e._custom={barStart:c,barEnd:l,start:r,end:s,min:o,max:a}}function qV(n,e,t,i){return at(n)?EZ(n,e,t,i):e[t.axis]=t.parse(n,i),e}function YL(n,e,t,i){let r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,c=[],l,u,h,f;for(l=t,u=t+i;l<u;++l)f=e[l],h={},h[r.axis]=a||r.parse(o[l],l),c.push(qV(f,h,s,l));return c}function pT(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function IZ(n,e,t){return n!==0?Mi(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function CZ(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function DZ(n,e,t,i){let r=e.borderSkipped,s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:u}=CZ(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=l:(t._bottom||0)===i?r=u:(s[ZL(u,o,a,c)]=!0,r=l)),s[ZL(r,o,a,c)]=!0,n.borderSkipped=s}function ZL(n,e,t,i){return i?(n=TZ(n,e,t),n=XL(n,t,e)):n=XL(n,e,t),n}function TZ(n,e,t){return n===e?t:n===t?e:n}function XL(n,e,t){return n==="start"?e:n==="end"?t:n}function SZ(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var AZ=(()=>{class n extends yo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,i,r,s){return YL(t,i,r,s)}parseArrayData(t,i,r,s){return YL(t,i,r,s)}parseObjectData(t,i,r,s){let{iScale:o,vScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=o.axis==="x"?c:l,h=a.axis==="x"?c:l,f=[],g,y,v,_;for(g=r,y=r+s;g<y;++g)_=i[g],v={},v[o.axis]=o.parse(cs(_,u),g),f.push(qV(cs(_,h),v,a,g));return f}updateRangeFromParsed(t,i,r,s){super.updateRangeFromParsed(t,i,r,s);let o=r._custom;o&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(t),a=o._custom,c=pT(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(i,s);for(let y=i;y<i+r;y++){let v=this.getParsed(y),_=o||ke(v[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),S=this._calculateBarIndexPixels(y,h),x=(v._stacks||{})[c.axis],k={horizontal:u,base:_.base,enableBorderRadius:!x||pT(v._custom)||a===x._top||a===x._bottom,x:u?_.head:S.center,y:u?S.center:_.head,height:u?S.size:Math.abs(_.size),width:u?Math.abs(_.size):S.size};g&&(k.options=f||this.resolveDataElementOptions(y,t[y].active?"active":s));let F=k.options||t[y].options;DZ(k,F,x,a),SZ(k,F,h.ratio),this.updateElement(t[y],y,k,s)}}_getStacks(t,i){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),o=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(i),l=c&&c[r.axis],u=h=>{let f=h._parsed.find(y=>y[r.axis]===l),g=f&&f[h.vScale.axis];if(ke(g)||isNaN(g))return!0};for(let h of s)if(!(i!==void 0&&u(h))&&((o===!1||a.indexOf(h.stack)===-1||o===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){let s=this._getStacks(t,r),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let t=this.options,i=this._cachedMeta,r=i.iScale,s=[],o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let c=t.barThickness;return{min:c||_Z(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(t),u=l._custom,h=pT(u),f=l[i.axis],g=0,y=r?this.applyStack(i,l,r):f,v,_;y!==f&&(g=y-f,y=f),h&&(f=u.barStart,y=u.barEnd-u.barStart,f!==0&&Mi(f)!==Mi(u.barEnd)&&(g=0),g+=f);let S=!ke(o)&&!h?o:g,x=i.getPixelForValue(S);if(this.chart.getDataVisibility(t)?v=i.getPixelForValue(g+y):v=x,_=v-x,Math.abs(_)<a){_=IZ(_,i,c)*a,f===c&&(x-=_/2);let k=i.getPixelForDecimal(0),F=i.getPixelForDecimal(1),L=Math.min(k,F),O=Math.max(k,F);x=Math.max(Math.min(x,O),L),v=x+_,r&&!h&&(l._stacks[i.axis]._visualValues[s]=i.getValueForPixel(v)-i.getValueForPixel(x))}if(x===i.getPixelForValue(c)){let k=Mi(_)*i.getLineWidthForValue(c)/2;x+=k,_-=k}return{size:_,base:x,head:v,center:v+_/2}}_calculateBarIndexPixels(t,i){let r=i.scale,s=this.options,o=s.skipNull,a=pe(s.maxBarThickness,1/0),c,l;if(i.grouped){let u=o?this._getStackCount(t):i.stackCount,h=s.barThickness==="flex"?wZ(t,i,s,u):bZ(t,i,s,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);c=h.start+h.chunk*f+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(a,i.min*i.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,i=t.vScale,r=t.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return n})(),xZ=(()=>{class n extends yo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,s){let o=super.parsePrimitiveData(t,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(t,i,r,s){let o=super.parseArrayData(t,i,r,s);for(let a=0;a<o.length;a++){let c=i[r+a];o[a]._custom=pe(c[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(t,i,r,s){let o=super.parseObjectData(t,i,r,s);for(let a=0;a<o.length;a++){let c=i[r+a];o[a]._custom=pe(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let t=this._cachedMeta.data,i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(t),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),u=a._custom;return{label:r[t]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(t){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(i,s),h=a.axis,f=c.axis;for(let g=i;g<i+r;g++){let y=t[g],v=!o&&this.getParsed(g),_={},S=_[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(v[h]),x=_[f]=o?c.getBasePixel():c.getPixelForValue(v[f]);_.skip=isNaN(S)||isNaN(x),u&&(_.options=l||this.resolveDataElementOptions(g,y.active?"active":s),o&&(_.options.radius=0)),this.updateElement(y,g,_,s)}}resolveDataElementOptions(t,i){let r=this.getParsed(t),s=super.resolveDataElementOptions(t,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=pe(r&&r._custom,o),s}}return n})();function MZ(n,e,t){let i=1,r=1,s=0,o=0;if(e<lt){let a=n,c=a+e,l=Math.cos(a),u=Math.sin(a),h=Math.cos(c),f=Math.sin(c),g=(k,F,L)=>Ml(k,a,c,!0)?1:Math.max(F,F*t,L,L*t),y=(k,F,L)=>Ml(k,a,c,!0)?-1:Math.min(F,F*t,L,L*t),v=g(0,l,h),_=g(It,u,f),S=y(ct,l,h),x=y(ct+It,u,f);i=(v-S)/2,r=(_-x)/2,s=-(v+S)/2,o=-(_+x)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var $T=(()=>{class n extends yo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=t.legend.options;return i.labels.map((o,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=l=>+r[l];if(Ce(r[t])){let{key:l="value"}=this._parsing;o=u=>+cs(r[u],l)}let a,c;for(a=t,c=t+i;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return ai(this.options.rotation-90)}_getCircumference(){return ai(this.options.circumference)}_getRotationExtents(){let t=lt,i=-lt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),i=Math.max(i,o+a)}return{rotation:t,circumference:i-t}}update(t){let i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(mL(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:v,offsetY:_}=MZ(f,h,l),S=(r.width-a)/g,x=(r.height-a)/y,k=Math.max(Math.min(S,x)/2,0),F=VD(this.options.radius,k),L=Math.max(F*l,0),O=(F-L)/this._getVisibleDatasetWeightTotal();this.offsetX=v*F,this.offsetY=_*F,s.total=this.calculateTotal(),this.outerRadius=F-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*u,0),this.updateElements(o,0,o.length,t)}_circumference(t,i){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/lt)}updateElements(t,i,r,s){let o=s==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,h=(c.left+c.right)/2,f=(c.top+c.bottom)/2,g=o&&u.animateScale,y=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(i,s),x=this._getRotation(),k;for(k=0;k<i;++k)x+=this._circumference(k,o);for(k=i;k<i+r;++k){let F=this._circumference(k,o),L=t[k],O={x:h+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+F,circumference:F,outerRadius:v,innerRadius:y};S&&(O.options=_||this.resolveDataElementOptions(k,L.active?"active":s)),x+=F,this.updateElement(L,k,O,s)}}calculateTotal(){let t=this._cachedMeta,i=t.data,r=0,s;for(s=0;s<i.length;s++){let o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){let i=this._cachedMeta.total;return i>0&&!isNaN(t)?lt*(Math.abs(t)/i):0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Pl(i._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let i=0,r=this.chart,s,o,a,c,l;if(!t){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),t=a.data,c=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,s=t.length;r<s;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(pe(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),PZ=(()=>{class n extends yo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled,{start:c,count:l}=KD(i,s,a);this._drawStart=c,this._drawCount=l,QD(i)&&(c=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},t),this.updateElements(s,c,l,t)}updateElements(t,i,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,s),g=a.axis,y=c.axis,{spanGaps:v,segment:_}=this.options,S=Ra(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||s==="none",k=i+r,F=t.length,L=i>0&&this.getParsed(i-1);for(let O=0;O<F;++O){let I=t[O],b=x?I:{};if(O<i||O>=k){b.skip=!0;continue}let E=this.getParsed(O),T=ke(E[y]),A=b[g]=a.getPixelForValue(E[g],O),M=b[y]=o||T?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,E,l):E[y],O);b.skip=isNaN(A)||isNaN(M)||T,b.stop=O>0&&Math.abs(E[g]-L[g])>S,_&&(b.parsed=E,b.raw=u.data[O]),f&&(b.options=h||this.resolveDataElementOptions(O,I.active?"active":s)),x||this.updateElement(I,O,b,s),L=E}}getMaxOverflow(){let t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),WV=(()=>{class n extends yo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=t.legend.options;return i.labels.map((o,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Pl(i._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,i,r,s){return rT.bind(this)(t,i,r,s)}update(t){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){let t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let t=this.chart,i=t.chartArea,r=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),c=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,i,r,s){let o=s==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,f=u.yCenter,g=u.getIndexAngle(0)-.5*ct,y=g,v,_=360/this.countVisibleElements();for(v=0;v<i;++v)y+=this._computeAngle(v,s,_);for(v=i;v<i+r;v++){let S=t[v],x=y,k=y+this._computeAngle(v,s,_),F=a.getDataVisibility(v)?u.getDistanceFromCenterForValue(this.getParsed(v).r):0;y=k,o&&(l.animateScale&&(F=0),l.animateRotate&&(x=k=g));let L={x:h,y:f,innerRadius:0,outerRadius:F,startAngle:x,endAngle:k,options:this.resolveDataElementOptions(v,S.active?"active":s)};this.updateElement(S,v,L,s)}}countVisibleElements(){let t=this._cachedMeta,i=0;return t.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?ai(this.resolveDataElementOptions(t,i).angle||r):0}}return n})(),RZ=(()=>{class n extends $T{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),kZ=(()=>{class n extends yo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,s){return rT.bind(this)(t,i,r,s)}update(t){let i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,i,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=i;c<i+r;c++){let l=t[c],u=this.resolveDataElementOptions(c,l.active?"active":s),h=o.getPointPositionForValue(c,this.getParsed(c).r),f=a?o.xCenter:h.x,g=a?o.yCenter:h.y,y={x:f,y:g,angle:h.angle,skip:isNaN(f)||isNaN(g),options:u};this.updateElement(l,c,y,s)}}}return n})(),NZ=(()=>{class n extends yo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(t),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:r[t]||"",value:"("+c+", "+l+")"}}update(t){let i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled,{start:o,count:a}=KD(i,r,s);if(this._drawStart=o,this._drawCount=a,QD(i)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:u},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,h=this.resolveDataElementOptions(i,s),f=this.getSharedOptions(h),g=this.includeOptions(s,f),y=a.axis,v=c.axis,{spanGaps:_,segment:S}=this.options,x=Ra(_)?_:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||s==="none",F=i>0&&this.getParsed(i-1);for(let L=i;L<i+r;++L){let O=t[L],I=this.getParsed(L),b=k?O:{},E=ke(I[v]),T=b[y]=a.getPixelForValue(I[y],L),A=b[v]=o||E?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,I,l):I[v],L);b.skip=isNaN(T)||isNaN(A)||E,b.stop=L>0&&Math.abs(I[y]-F[y])>x,S&&(b.parsed=I,b.raw=u.data[L]),g&&(b.options=f||this.resolveDataElementOptions(L,O.active?"active":s)),k||this.updateElement(O,L,b,s),F=I}this.updateSharedOptions(f,s,h)}getMaxOverflow(){let t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let c=0;for(let l=i.length-1;l>=0;--l)c=Math.max(c,i[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}}return n})(),OZ=Object.freeze({__proto__:null,BarController:AZ,BubbleController:xZ,DoughnutController:$T,LineController:PZ,PieController:RZ,PolarAreaController:WV,RadarController:kZ,ScatterController:NZ});function Na(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var IT=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Na()}parse(){return Na()}format(){return Na()}add(){return Na()}diff(){return Na()}startOf(){return Na()}endOf(){return Na()}},FZ={_date:IT};function LZ(n,e,t,i){let{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let c=a._reversePixels?EL:ar;if(i){if(r._sharedOptions){let l=s[0],u=typeof l.getRange=="function"&&l.getRange(e);if(u){let h=c(s,e,t-u),f=c(s,e,t+u);return{lo:h.lo,hi:f.hi}}}}else return c(s,e,t)}return{lo:0,hi:s.length-1}}function yh(n,e,t,i,r){let s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,c=s.length;a<c;++a){let{index:l,data:u}=s[a],{lo:h,hi:f}=LZ(s[a],e,o,r);for(let g=h;g<=f;++g){let y=u[g];y.skip||i(y,l,g)}}}function VZ(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){let s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function gT(n,e,t,i,r){let s=[];return!r&&!n.isPointInArea(e)||yh(n,t,e,function(a,c,l){!r&&!cr(a,n.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function BZ(n,e,t,i){let r=[];function s(o,a,c){let{startAngle:l,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=zD(o,{x:e.x,y:e.y});Ml(h,l,u)&&r.push({element:o,datasetIndex:a,index:c})}return yh(n,t,e,s),r}function jZ(n,e,t,i,r,s){let o=[],a=VZ(t),c=Number.POSITIVE_INFINITY;function l(u,h,f){let g=u.inRange(e.x,e.y,r);if(i&&!g)return;let y=u.getCenterPoint(r);if(!(!!s||n.isPointInArea(y))&&!g)return;let _=a(e,y);_<c?(o=[{element:u,datasetIndex:h,index:f}],c=_):_===c&&o.push({element:u,datasetIndex:h,index:f})}return yh(n,t,e,l),o}function mT(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?BZ(n,e,t,r):jZ(n,e,t,i,r,s)}function JL(n,e,t,i,r){let s=[],o=t==="x"?"inXRange":"inYRange",a=!1;return yh(n,t,e,(c,l,u)=>{c[o]&&c[o](e[t],r)&&(s.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(e.x,e.y,r))}),i&&!a?[]:s}var UZ={evaluateInteractionItems:yh,modes:{index(n,e,t,i){let r=go(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?gT(n,r,s,i,o):mT(n,r,s,!1,i,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,h=l.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:u})}),c):[]},dataset(n,e,t,i){let r=go(e,n),s=t.axis||"xy",o=t.includeInvisible||!1,a=t.intersect?gT(n,r,s,i,o):mT(n,r,s,!1,i,o);if(a.length>0){let c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(n,e,t,i){let r=go(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return gT(n,r,s,i,o)},nearest(n,e,t,i){let r=go(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return mT(n,r,s,t.intersect,i,o)},x(n,e,t,i){let r=go(e,n);return JL(n,r,"x",t.intersect,i)},y(n,e,t,i){let r=go(e,n);return JL(n,r,"y",t.intersect,i)}}},GV=["left","top","right","bottom"];function ch(n,e){return n.filter(t=>t.pos===e)}function eV(n,e){return n.filter(t=>GV.indexOf(t.pos)===-1&&t.box.axis===e)}function lh(n,e){return n.sort((t,i)=>{let r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function $Z(n){let e=[],t,i,r,s,o,a;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function zZ(n){let e={};for(let t of n){let{stack:i,pos:r,stackWeight:s}=t;if(!i||!GV.includes(r))continue;let o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function HZ(n,e){let t=zZ(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];let{fullSize:c}=a.box,l=t[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*i:c&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:c&&e.availableHeight)}return t}function qZ(n){let e=$Z(n),t=lh(e.filter(l=>l.box.fullSize),!0),i=lh(ch(e,"left"),!0),r=lh(ch(e,"right")),s=lh(ch(e,"top"),!0),o=lh(ch(e,"bottom")),a=eV(e,"x"),c=eV(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:ch(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(o).concat(a)}}function tV(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function KV(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function WZ(n,e,t,i){let{pos:r,box:s}=t,o=n.maxPadding;if(!Ce(r)){t.size&&(n[r]-=t.size);let h=i[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,n[r]+=t.size}s.getPadding&&KV(o,s.getPadding());let a=Math.max(0,e.outerWidth-tV(o,n,"left","right")),c=Math.max(0,e.outerHeight-tV(o,n,"top","bottom")),l=a!==n.w,u=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:l,other:u}:{same:u,other:l}}function GZ(n){let e=n.maxPadding;function t(i){let r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function KZ(n,e){let t=e.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function hh(n,e,t,i){let r=[],s,o,a,c,l,u;for(s=0,o=n.length,l=0;s<o;++s){a=n[s],c=a.box,c.update(a.width||e.w,a.height||e.h,KZ(a.horizontal,e));let{same:h,other:f}=WZ(e,t,a,i);l|=h&&r.length,u=u||f,c.fullSize||r.push(a)}return l&&hh(r,e,t,i)||u}function Ry(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function nV(n,e,t,i){let r=t.padding,{x:s,y:o}=e;for(let a of n){let c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let h=e.w*u,f=l.size||c.height;Al(l.start)&&(o=l.start),c.fullSize?Ry(c,r.left,o,t.outerWidth-r.right-r.left,f):Ry(c,e.left+l.placed,o,h,f),l.start=o,l.placed+=h,o=c.bottom}else{let h=e.h*u,f=l.size||c.width;Al(l.start)&&(s=l.start),c.fullSize?Ry(c,s,r.top,f,t.outerHeight-r.bottom-r.top):Ry(c,s,e.top+l.placed,f,h),l.start=s,l.placed+=h,s=c.right}}e.x=s,e.y=o}var ln={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;let r=Zt(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),a=qZ(n.boxes),c=a.vertical,l=a.horizontal;qe(n.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});let u=c.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);KV(f,Zt(i));let g=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),y=HZ(c.concat(l),h);hh(a.fullSize,g,h,y),hh(c,g,h,y),hh(l,g,h,y)&&hh(c,g,h,y),GZ(g),nV(a.leftAndTop,g,h,y),g.x+=g.w,g.y+=g.h,nV(a.rightAndBottom,g,h,y),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},qe(a.chartArea,v=>{let _=v.box;Object.assign(_,n.chartArea),_.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},$y=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}},CT=class extends $y{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},By="$chartjs",QZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iV=n=>n===null||n==="";function YZ(n,e){let t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[By]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",iV(r)){let s=oT(n,"width");s!==void 0&&(n.width=s)}if(iV(i))if(n.style.height==="")n.height=n.width/(e||2);else{let s=oT(n,"height");s!==void 0&&(n.height=s)}return n}var QV=BL?{passive:!0}:!1;function ZZ(n,e,t){n&&n.addEventListener(e,t,QV)}function XZ(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,QV)}function JZ(n,e){let t=QZ[n.type]||n.type,{x:i,y:r}=go(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function zy(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function eX(n,e,t){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||zy(a.addedNodes,i),o=o&&!zy(a.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function tX(n,e,t){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||zy(a.removedNodes,i),o=o&&!zy(a.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}var ph=new Map,rV=0;function YV(){let n=window.devicePixelRatio;n!==rV&&(rV=n,ph.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function nX(n,e){ph.size||window.addEventListener("resize",YV),ph.set(n,e)}function iX(n){ph.delete(n),ph.size||window.removeEventListener("resize",YV)}function rX(n,e,t){let i=n.canvas,r=i&&My(i);if(!r)return;let s=GD((a,c)=>{let l=r.clientWidth;t(a,c),l<r.clientWidth&&t()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||s(l,u)});return o.observe(r),nX(n,s),o}function yT(n,e,t){t&&t.disconnect(),e==="resize"&&iX(n)}function sX(n,e,t){let i=n.canvas,r=GD(s=>{n.ctx!==null&&t(JZ(s,n))},n);return ZZ(i,e,r),r}var DT=class extends $y{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(YZ(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[By])return!1;let i=t[By].initial;["height","width"].forEach(s=>{let o=i[s];ke(o)?t.removeAttribute(s):t.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[By],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let r=e.$proxies||(e.$proxies={}),o={attach:eX,detach:tX,resize:rX}[t]||sX;r[t]=o(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:yT,detach:yT,resize:yT}[t]||XZ)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return VL(e,t,i,r)}isAttached(e){let t=e&&My(e);return!!(t&&t.isConnected)}};function oX(n){return!xy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?CT:DT}var Pi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Ra(this.x)&&Ra(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function aX(n,e){let t=n.options.ticks,i=cX(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?uX(e):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>r)return dX(e,l,s,o/r),l;let u=lX(s,e,r);if(o>0){let h,f,g=o>1?Math.round((c-a)/(o-1)):null;for(ky(e,l,u,ke(g)?0:a-g,a),h=0,f=o-1;h<f;h++)ky(e,l,u,s[h],s[h+1]);return ky(e,l,u,c,ke(g)?e.length:c+g),l}return ky(e,l,u),l}function cX(n){let e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function lX(n,e,t){let i=hX(n),r=e.length/t;if(!i)return Math.max(r,1);let s=_L(i);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>r)return c}return Math.max(r,1)}function uX(n){let e=[],t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function dX(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function ky(n,e,t,i,r){let s=pe(i,0),o=Math.min(pe(r,n.length),n.length),a=0,c,l,u;for(t=Math.ceil(t),r&&(c=r-i,t=c/Math.floor(c/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(l=Math.max(s,0);l<o;l++)l===u&&(e.push(n[l]),a++,u=Math.round(s+a*t))}function hX(n){let e=n.length,t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}var fX=n=>n==="left"?"right":n==="right"?"left":n,sV=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,oV=(n,e)=>Math.min(e||n,n);function aV(n,e){let t=[],i=n.length/e,r=n.length,s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function pX(n,e,t){let i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,a=1e-6,c=n.getPixelForTick(r),l;if(!(t&&(i===1?l=Math.max(c-s,o-c):e===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function gX(n,e){qe(n,t=>{let i=t.gc,r=i.length/2,s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function uh(n){return n.drawTicks?n.tickLength:0}function cV(n,e){if(!n.display)return 0;let t=kt(n.font,e),i=Zt(n.padding);return(at(n.text)?n.text.length:1)*t.lineHeight+i.height}function mX(n,e){return ls(n,{scale:e,type:"scale"})}function yX(n,e,t){return ls(n,{tick:t,index:e,type:"tick"})}function vX(n,e,t){let i=Cy(n);return(t&&e!=="right"||!t&&e==="right")&&(i=fX(i)),i}function _X(n,e,t,i){let{top:r,left:s,bottom:o,right:a,chart:c}=n,{chartArea:l,scales:u}=c,h=0,f,g,y,v=o-r,_=a-s;if(n.isHorizontal()){if(g=Yt(i,s,a),Ce(t)){let S=Object.keys(t)[0],x=t[S];y=u[S].getPixelForValue(x)+v-e}else t==="center"?y=(l.bottom+l.top)/2+v-e:y=sV(n,t,e);f=a-s}else{if(Ce(t)){let S=Object.keys(t)[0],x=t[S];g=u[S].getPixelForValue(x)-_+e}else t==="center"?g=(l.left+l.right)/2-_+e:g=sV(n,t,e);y=Yt(i,o,r),h=t==="left"?-It:It}return{titleX:g,titleY:y,maxWidth:f,rotation:h}}var Fa=class n extends Pi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Sn(e,Number.POSITIVE_INFINITY),t=Sn(t,Number.NEGATIVE_INFINITY),i=Sn(i,Number.POSITIVE_INFINITY),r=Sn(r,Number.NEGATIVE_INFINITY),{min:Sn(e,i),max:Sn(t,r),minDefined:yt(e),maxDefined:yt(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:Sn(t,Sn(i,t)),max:Sn(i,Sn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=RL(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?aV(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=aX(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=nt(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,i=oV(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation,o=r,a,c,l;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,g=jt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),h+6>a&&(a=g/(i-(e.offset?.5:1)),c=this.maxHeight-uh(e.grid)-t.padding-cV(e.title,this.chart.options.font),l=Math.sqrt(h*h+f*f),o=Ey(Math.min(Math.asin(jt((u.highest.height+6)/a,-1,1)),Math.asin(jt(c/l,-1,1))-Math.asin(jt(f/l,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=cV(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=uh(s)+c):(e.height=this.maxHeight,e.width=uh(s)+c),i.display&&this.ticks.length){let{first:l,last:u,widest:h,highest:f}=this._getLabelSizes(),g=i.padding*2,y=ai(this.labelRotation),v=Math.cos(y),_=Math.sin(y);if(a){let S=i.mirror?0:_*h.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+S+g)}else{let S=i.mirror?0:v*h.width+_*f.height;e.width=Math.min(this.maxWidth,e.width+S+g)}this._calculatePadding(l,u,_,v)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,g=0;c?l?(f=r*e.width,g=i*t.height):(f=i*e.height,g=r*t.width):s==="start"?g=t.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,g=t.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)ke(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=aV(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(t/oV(t,i)),l=0,u=0,h,f,g,y,v,_,S,x,k,F,L;for(h=0;h<t;h+=c){if(y=e[h].label,v=this._resolveTickFontOptions(h),r.font=_=v.string,S=s[_]=s[_]||{data:{},gc:[]},x=v.lineHeight,k=F=0,!ke(y)&&!at(y))k=nh(r,S.data,S.gc,k,y),F=x;else if(at(y))for(f=0,g=y.length;f<g;++f)L=y[f],!ke(L)&&!at(L)&&(k=nh(r,S.data,S.gc,k,L),F+=x);o.push(k),a.push(F),l=Math.max(k,l),u=Math.max(F,u)}gX(s,t);let O=o.indexOf(l),I=a.indexOf(u),b=E=>({width:o[E]||0,height:a[E]||0});return{first:b(0),last:b(t-1),widest:b(O),highest:b(I),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return wL(this._alignToPixels?ho(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=yX(this.getContext(),e,i))}return this.$context||(this.$context=mX(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=ai(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>a*r?a/i:c/r:c*r<a*i?c/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,c=s.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=uh(s),g=[],y=a.setContext(this.getContext()),v=y.display?y.width:0,_=v/2,S=function(H){return ho(i,H,v)},x,k,F,L,O,I,b,E,T,A,M,D;if(o==="top")x=S(this.bottom),I=this.bottom-f,E=x-_,A=S(e.top)+_,D=e.bottom;else if(o==="bottom")x=S(this.top),A=e.top,D=S(e.bottom)-_,I=x+_,E=this.top+f;else if(o==="left")x=S(this.right),O=this.right-f,b=x-_,T=S(e.left)+_,M=e.right;else if(o==="right")x=S(this.left),T=e.left,M=S(e.right)-_,O=x+_,b=this.left+f;else if(t==="x"){if(o==="center")x=S((e.top+e.bottom)/2+.5);else if(Ce(o)){let H=Object.keys(o)[0],G=o[H];x=S(this.chart.scales[H].getPixelForValue(G))}A=e.top,D=e.bottom,I=x+_,E=I+f}else if(t==="y"){if(o==="center")x=S((e.left+e.right)/2);else if(Ce(o)){let H=Object.keys(o)[0],G=o[H];x=S(this.chart.scales[H].getPixelForValue(G))}O=x-_,b=O-f,T=e.left,M=e.right}let it=pe(r.ticks.maxTicksLimit,h),Ee=Math.max(1,Math.ceil(h/it));for(k=0;k<h;k+=Ee){let H=this.getContext(k),G=s.setContext(H),Y=a.setContext(H),te=G.lineWidth,Ke=G.color,qt=Y.dash||[],We=Y.dashOffset,Ve=G.tickWidth,Ne=G.tickColor,yn=G.tickBorderDash||[],ci=G.tickBorderDashOffset;F=pX(this,k,c),F!==void 0&&(L=ho(i,F,te),l?O=b=T=M=L:I=E=A=D=L,g.push({tx1:O,ty1:I,tx2:b,ty2:E,x1:T,y1:A,x2:M,y2:D,width:te,color:Ke,borderDash:qt,borderDashOffset:We,tickWidth:Ve,tickColor:Ne,tickBorderDash:yn,tickBorderDashOffset:ci}))}return this._ticksLength=h,this._borderValue=x,g}_computeLabelItems(e){let t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:h}=s,f=uh(i.grid),g=f+u,y=h?-u:g,v=-ai(this.labelRotation),_=[],S,x,k,F,L,O,I,b,E,T,A,M,D="middle";if(r==="top")O=this.bottom-y,I=this._getXAxisLabelAlignment();else if(r==="bottom")O=this.top+y,I=this._getXAxisLabelAlignment();else if(r==="left"){let Ee=this._getYAxisLabelAlignment(f);I=Ee.textAlign,L=Ee.x}else if(r==="right"){let Ee=this._getYAxisLabelAlignment(f);I=Ee.textAlign,L=Ee.x}else if(t==="x"){if(r==="center")O=(e.top+e.bottom)/2+g;else if(Ce(r)){let Ee=Object.keys(r)[0],H=r[Ee];O=this.chart.scales[Ee].getPixelForValue(H)+g}I=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")L=(e.left+e.right)/2-g;else if(Ce(r)){let Ee=Object.keys(r)[0],H=r[Ee];L=this.chart.scales[Ee].getPixelForValue(H)}I=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));let it=this._getLabelSizes();for(S=0,x=a.length;S<x;++S){k=a[S],F=k.label;let Ee=s.setContext(this.getContext(S));b=this.getPixelForTick(S)+s.labelOffset,E=this._resolveTickFontOptions(S),T=E.lineHeight,A=at(F)?F.length:1;let H=A/2,G=Ee.color,Y=Ee.textStrokeColor,te=Ee.textStrokeWidth,Ke=I;o?(L=b,I==="inner"&&(S===x-1?Ke=this.options.reverse?"left":"right":S===0?Ke=this.options.reverse?"right":"left":Ke="center"),r==="top"?l==="near"||v!==0?M=-A*T+T/2:l==="center"?M=-it.highest.height/2-H*T+T:M=-it.highest.height+T/2:l==="near"||v!==0?M=T/2:l==="center"?M=it.highest.height/2-H*T:M=it.highest.height-A*T,h&&(M*=-1),v!==0&&!Ee.showLabelBackdrop&&(L+=T/2*Math.sin(v))):(O=b,M=(1-A)*T/2);let qt;if(Ee.showLabelBackdrop){let We=Zt(Ee.backdropPadding),Ve=it.heights[S],Ne=it.widths[S],yn=M-We.top,ci=0-We.left;switch(D){case"middle":yn-=Ve/2;break;case"bottom":yn-=Ve;break}switch(I){case"center":ci-=Ne/2;break;case"right":ci-=Ne;break;case"inner":S===x-1?ci-=Ne:S>0&&(ci-=Ne/2);break}qt={left:ci,top:yn,width:Ne+We.width,height:Ve+We.height,color:Ee.backdropColor}}_.push({label:F,font:E,textOffset:M,options:{rotation:v,color:G,strokeColor:Y,strokeWidth:te,textAlign:Ke,textBaseline:D,translation:[L,O],backdrop:qt}})}return _}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-ai(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width,l,u;return t==="left"?r?(u=this.right+s,i==="near"?l="left":i==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,i==="near"?l="right":i==="center"?(l="center",u-=c/2):(l="left",u=this.left)):t==="right"?r?(u=this.left+s,i==="near"?l="right":i==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,i==="near"?l="left":i==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(c,l,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){let c=r[s];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,h,f;this.isHorizontal()?(l=ho(e,this.left,o)-o/2,u=ho(e,this.right,a)+a/2,h=f=c):(h=ho(e,this.top,o)-o/2,f=ho(e,this.bottom,a)+a/2,l=u=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,h),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&sh(i,r);let s=this.getLabelItems(e);for(let o of s){let a=o.options,c=o.font,l=o.label,u=o.textOffset;fo(i,l,0,u,c,a)}r&&oh(i)}drawTitle(){let{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;let s=kt(i.font),o=Zt(i.padding),a=i.align,c=s.lineHeight/2;t==="bottom"||t==="center"||Ce(t)?(c+=o.bottom,at(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;let{titleX:l,titleY:u,maxWidth:h,rotation:f}=_X(this,c,t,a);fo(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:f,textAlign:vX(a,t,r),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=pe(e.grid&&e.grid.z,-1),r=pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=t.length;s<o;++s){let a=t[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return kt(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Ol=class{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),i;EX(t)&&(i=this.register(t));let r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,bX(e,o,i),this.override&&dt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in dt[r]&&(delete dt[r][i],this.override&&delete uo[i])}};function bX(n,e,t){let i=Dl(Object.create(null),[t?dt.get(t):{},dt.get(e),n.defaults]);dt.set(e,i),n.defaultRoutes&&wX(e,n.defaultRoutes),n.descriptors&&dt.describe(e,n.descriptors)}function wX(n,e){Object.keys(e).forEach(t=>{let i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),a=o.pop(),c=o.join(".");dt.route(s,r,c,a)})}function EX(n){return"id"in n&&"defaults"in n}var TT=class{constructor(){this.controllers=new Ol(yo,"datasets",!0),this.elements=new Ol(Pi,"elements"),this.plugins=new Ol(Object,"plugins"),this.scales=new Ol(Fa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):qe(r,o=>{let a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,i){let r=wy(e);nt(i["before"+r],[],i),t[e](i),nt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},hr=new TT,ST=class{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(let s of e){let o=s.plugin,a=o[i],c=[t,r,s.options];if(nt(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ke(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,r=pe(i.options&&i.options.plugins,{}),s=IX(i);return r===!1&&!t?[]:DX(e,s,r,t)}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}};function IX(n){let e={},t=[],i=Object.keys(hr.plugins.items);for(let s=0;s<i.length;s++)t.push(hr.getPlugin(i[s]));let r=n.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function CX(n,e){return!e&&n===!1?null:n===!0?{}:n}function DX(n,{plugins:e,localIds:t},i,r){let s=[],o=n.getContext();for(let a of e){let c=a.id,l=CX(i[c],r);l!==null&&s.push({plugin:a,options:TX(n.config,{plugin:a,local:t[c]},l,o)})}return s}function TX(n,{plugin:e,local:t},i,r){let s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function AT(n,e){let t=dt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function SX(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function AX(n,e){return n===e?"_index_":"_value_"}function lV(n){if(n==="x"||n==="y"||n==="r")return n}function xX(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function xT(n,...e){if(lV(n))return n;for(let t of e){let i=t.axis||xX(t.position)||n.length>1&&lV(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function uV(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function MX(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return uV(n,"x",t[0])||uV(n,"y",t[0])}return{}}function PX(n,e){let t=uo[n.type]||{scales:{}},i=e.scales||{},r=AT(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!Ce(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=xT(o,a,MX(o,n),dt.scales[a.type]),l=AX(c,r),u=t.scales||{};s[o]=Sl(Object.create(null),[{axis:c},a,u[c],u[l]])}),n.data.datasets.forEach(o=>{let a=o.type||n.type,c=o.indexAxis||AT(a,e),u=(uo[a]||{}).scales||{};Object.keys(u).forEach(h=>{let f=SX(h,c),g=o[f+"AxisID"]||f;s[g]=s[g]||Object.create(null),Sl(s[g],[{axis:f},i[g],u[h]])})}),Object.keys(s).forEach(o=>{let a=s[o];Sl(a,[dt.scales[a.type],dt.scale])}),s}function ZV(n){let e=n.options||(n.options={});e.plugins=pe(e.plugins,{}),e.scales=PX(n,e)}function XV(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function RX(n){return n=n||{},n.data=XV(n.data),ZV(n),n}var dV=new Map,JV=new Set;function Ny(n,e){let t=dV.get(n);return t||(t=e(),dV.set(n,t),JV.add(t)),t}var dh=(n,e,t)=>{let i=cs(e,t);i!==void 0&&n.add(i)},MT=class{constructor(e){this._config=RX(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=XV(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),ZV(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ny(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ny(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ny(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return Ny(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){let{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(t);if(a)return a;let c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(h=>dh(c,e,h))),u.forEach(h=>dh(c,r,h)),u.forEach(h=>dh(c,uo[s]||{},h)),u.forEach(h=>dh(c,dt,h)),u.forEach(h=>dh(c,Dy,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),JV.has(t)&&o.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,uo[t]||{},dt.datasets[t]||{},{type:t},dt,Dy]}resolveNamedOptions(e,t,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=hV(this._resolverCache,e,r),c=o;if(NX(o,t)){s.$shared=!1,i=os(i)?i():i;let l=this.createResolver(e,i,a);c=Pa(o,i,l)}for(let l of t)s[l]=c[l];return s}createResolver(e,t,i=[""],r){let{resolver:s}=hV(this._resolverCache,e,i);return Ce(t)?Pa(s,t,void 0,r):s}};function hV(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));let r=t.join(),s=i.get(r);return s||(s={resolver:Ay(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}var kX=n=>Ce(n)&&Object.getOwnPropertyNames(n).some(e=>os(n[e]));function NX(n,e){let{isScriptable:t,isIndexable:i}=tT(n);for(let r of e){let s=t(r),o=i(r),a=(o||s)&&n[r];if(s&&(os(a)||kX(a))||o&&at(a))return!0}return!1}var OX="4.4.7",FX=["top","bottom","left","right","chartArea"];function fV(n,e){return n==="top"||n==="bottom"||FX.indexOf(n)===-1&&e==="x"}function pV(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function gV(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),nt(t&&t.onComplete,[n],e)}function LX(n){let e=n.chart,t=e.options.animation;nt(t&&t.onProgress,[n],e)}function e2(n){return xy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var jy={},mV=n=>{let e=e2(n);return Object.values(jy).filter(t=>t.canvas===e).pop()};function VX(n,e,t){let i=Object.keys(n);for(let r of i){let s=+r;if(s>=e){let o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function BX(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function Oy(n,e,t){return n.options.clip?n[t]:e[t]}function jX(n,e){let{xScale:t,yScale:i}=n;return t&&i?{left:Oy(t,e,"left"),right:Oy(t,e,"right"),top:Oy(i,e,"top"),bottom:Oy(i,e,"bottom")}:e}var vh=(()=>{class n{static defaults=dt;static instances=jy;static overrides=uo;static registry=hr;static version=OX;static getChart=mV;static register(...t){hr.add(...t),yV()}static unregister(...t){hr.remove(...t),yV()}constructor(t,i){let r=this.config=new MT(i),s=e2(t),o=mV(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||oX(s)),this.platform.updateConfig(r);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,h=l&&l.width;if(this.id=gL(),this.ctx=c,this.canvas=l,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ST,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TL(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],jy[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}us.listen(this,"complete",gV),us.listen(this,"progress",LX),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return ke(t)?i&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return hr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return XD(this.canvas,this.ctx),this}stop(){return us.stop(this),this}resize(t,i){us.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,i,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,sT(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),nt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};qe(i,(r,s)=>{r.id=s})}buildOrUpdateScales(){let t=this.options,i=t.scales,r=this.scales,s=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),o=[];i&&(o=o.concat(Object.keys(i).map(a=>{let c=i[a],l=xT(a,c),u=l==="r",h=l==="x";return{options:c,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),qe(o,a=>{let c=a.options,l=c.id,u=xT(l,c),h=pe(c.type,a.dtype);(c.position===void 0||fV(c.position,u)!==fV(a.dposition))&&(c.position=a.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===h)f=r[l];else{let g=hr.getScale(h);f=new g({id:l,type:h,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(c,t)}),qe(s,(a,c)=>{a||delete r[c]}),qe(r,a=>{ln.configure(this,a,a.options),ln.addBox(this,a)})}_updateMetasets(){let t=this._metasets,i=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);t.splice(i,r-i)}this._sortedMetasets=t.slice(0).sort(pV("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((r,s)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],i=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){let o=i[r],a=this.getDatasetMeta(r),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=o.indexAxis||AT(c,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=hr.getController(c),{datasetElementType:u,dataElementType:h}=dt.datasets[c];Object.assign(l,{dataElementType:hr.getElement(h),datasetElementType:u&&hr.getElement(u)}),a.controller=new l(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){qe(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){let{controller:f}=this.getDatasetMeta(u),g=!s&&o.indexOf(f)===-1;f.buildOrUpdateElements(g),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||qe(o,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(pV("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){qe(this.scales,t=>{ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!BD(i,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of i){let a=r==="_removeElements"?-o:o;VX(t,s,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(t.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!BD(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ln.update(this,this.width,this.height,t);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],qe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,os(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){let r=this.getDatasetMeta(t),s={meta:r,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(us.has(this)?this.attached&&!us.running(this)&&us.start(this):(this.draw(),gV({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let i=this._sortedMetasets,r=[],s,o;for(s=0,o=i.length;s<o;++s){let a=i[s];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let i=this.ctx,r=t._clip,s=!r.disabled,o=jX(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&sh(i,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),t.controller.draw(),s&&oh(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return cr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,r,s){let o=UZ.modes[i];return typeof o=="function"?o(this,t,r,s):[]}getDatasetMeta(t){let i=this.data.datasets[t],r=this._metasets,s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=ls(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let i=this.data.datasets[t];if(!i)return!1;let r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(t,i){let r=this.getDatasetMeta(t);r.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,r){let s=r?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);Al(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(o,{visible:r}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){let i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),us.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),XD(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete jy[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,i=this.platform,r=(o,a)=>{i.addEventListener(this,o,a),t[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};qe(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,r=(l,u)=>{i.addEventListener(this,l,u),t[l]=u},s=(l,u)=>{t[l]&&(i.removeEventListener(this,l,u),delete t[l])},o=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",c)},i.isAttached(this.canvas)?c():a()}unbindEvents(){qe(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},qe(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,r){let s=r?"set":"remove",o,a,c,l;for(i==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let i=this._active||[],r=t.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!ih(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(t,i,r){return this._plugins.notify(this,t,i,r)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,r){let s=this.options.hover,o=(l,u)=>l.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=o(i,t),c=r?t:o(t,i);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,i){let r={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(t,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,i,r){let{_active:s=[],options:o}=this,a=i,c=this._getActiveElements(t,s,r,a),l=vL(t),u=BX(t,this._lastEvent,r,l);r&&(this._lastEvent=null,nt(o.onHover,[t,c,this],this),l&&nt(o.onClick,[t,c,this],this));let h=!ih(c,s);return(h||i)&&(this._active=c,this._updateHoverStyles(c,s,i)),this._lastEvent=u,h}_getActiveElements(t,i,r,s){if(t.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}return n})();function yV(){return qe(vh.instances,n=>n._plugins.invalidate())}function UX(n,e,t){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:c}=e,l=r/a;n.beginPath(),n.arc(s,o,a,i-l,t+l),c>r?(l=r/c,n.arc(s,o,c,t+l,i-l,!0)):n.arc(s,o,r,t+It,i-It),n.closePath(),n.clip()}function $X(n){return Sy(n,["outerStart","outerEnd","innerStart","innerEnd"])}function zX(n,e,t,i){let r=$X(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),a=c=>{let l=(t-Math.min(s,c))*i/2;return jt(c,0,Math.min(s,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:jt(r.innerStart,0,o),innerEnd:jt(r.innerEnd,0,o)}}function Nl(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Hy(n,e,t,i,r,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=e,h=Math.max(e.outerRadius+i+t-l,0),f=u>0?u+i+t+l:0,g=0,y=r-c;if(i){let Ee=u>0?u-i:0,H=h>0?h-i:0,G=(Ee+H)/2,Y=G!==0?y*G/(G+i):y;g=(y-Y)/2}let v=Math.max(.001,y*h-t/ct)/h,_=(y-v)/2,S=c+_+g,x=r-_-g,{outerStart:k,outerEnd:F,innerStart:L,innerEnd:O}=zX(e,f,h,x-S),I=h-k,b=h-F,E=S+k/I,T=x-F/b,A=f+L,M=f+O,D=S+L/A,it=x-O/M;if(n.beginPath(),s){let Ee=(E+T)/2;if(n.arc(o,a,h,E,Ee),n.arc(o,a,h,Ee,T),F>0){let te=Nl(b,T,o,a);n.arc(te.x,te.y,F,T,x+It)}let H=Nl(M,x,o,a);if(n.lineTo(H.x,H.y),O>0){let te=Nl(M,it,o,a);n.arc(te.x,te.y,O,x+It,it+Math.PI)}let G=(x-O/f+(S+L/f))/2;if(n.arc(o,a,f,x-O/f,G,!0),n.arc(o,a,f,G,S+L/f,!0),L>0){let te=Nl(A,D,o,a);n.arc(te.x,te.y,L,D+Math.PI,S-It)}let Y=Nl(I,S,o,a);if(n.lineTo(Y.x,Y.y),k>0){let te=Nl(I,E,o,a);n.arc(te.x,te.y,k,S-It,E)}}else{n.moveTo(o,a);let Ee=Math.cos(E)*h+o,H=Math.sin(E)*h+a;n.lineTo(Ee,H);let G=Math.cos(T)*h+o,Y=Math.sin(T)*h+a;n.lineTo(G,Y)}n.closePath()}function HX(n,e,t,i,r){let{fullCircles:s,startAngle:o,circumference:a}=e,c=e.endAngle;if(s){Hy(n,e,t,i,c,r);for(let l=0;l<s;++l)n.fill();isNaN(a)||(c=o+(a%lt||lt))}return Hy(n,e,t,i,c,r),n.fill(),c}function qX(n,e,t,i,r){let{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=c,g=c.borderAlign==="inner";if(!l)return;n.setLineDash(h||[]),n.lineDashOffset=f,g?(n.lineWidth=l*2,n.lineJoin=u||"round"):(n.lineWidth=l,n.lineJoin=u||"bevel");let y=e.endAngle;if(s){Hy(n,e,t,i,y,r);for(let v=0;v<s;++v)n.stroke();isNaN(a)||(y=o+(a%lt||lt))}g&&UX(n,e,y),s||(Hy(n,e,t,i,y,r),n.stroke())}var PT=class extends Pi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=zD(r,{x:e,y:t}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=pe(h,c-a),y=Ml(s,a,c)&&a!==c,v=g>=lt||y,_=ur(o,l+f,u+f);return v&&_}getCenterPoint(e){let{x:t,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,u=(r+s)/2,h=(o+a+l+c)/2;return{x:t+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>lt?Math.floor(i/lt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(ct,i||0)),l=r*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,HX(e,this,l,s,o),qX(e,this,l,s,o),e.restore()}};function t2(n,e,t=e){n.lineCap=pe(t.borderCapStyle,e.borderCapStyle),n.setLineDash(pe(t.borderDash,e.borderDash)),n.lineDashOffset=pe(t.borderDashOffset,e.borderDashOffset),n.lineJoin=pe(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=pe(t.borderWidth,e.borderWidth),n.strokeStyle=pe(t.borderColor,e.borderColor)}function WX(n,e,t){n.lineTo(t.x,t.y)}function GX(n){return n.stepped?ML:n.tension||n.cubicInterpolationMode==="monotone"?PL:WX}function n2(n,e,t={}){let i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:a}=e,c=Math.max(r,o),l=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:c,loop:e.loop,ilen:l<c&&!u?i+l-c:l-c}}function KX(n,e,t,i){let{points:r,options:s}=e,{count:o,start:a,loop:c,ilen:l}=n2(r,t,i),u=GX(s),{move:h=!0,reverse:f}=i||{},g,y,v;for(g=0;g<=l;++g)y=r[(a+(f?l-g:g))%o],!y.skip&&(h?(n.moveTo(y.x,y.y),h=!1):u(n,v,y,f,s.stepped),v=y);return c&&(y=r[(a+(f?l:0))%o],u(n,v,y,f,s.stepped)),!!c}function QX(n,e,t,i){let r=e.points,{count:s,start:o,ilen:a}=n2(r,t,i),{move:c=!0,reverse:l}=i||{},u=0,h=0,f,g,y,v,_,S,x=F=>(o+(l?a-F:F))%s,k=()=>{v!==_&&(n.lineTo(u,_),n.lineTo(u,v),n.lineTo(u,S))};for(c&&(g=r[x(0)],n.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=r[x(f)],g.skip)continue;let F=g.x,L=g.y,O=F|0;O===y?(L<v?v=L:L>_&&(_=L),u=(h*u+F)/++h):(k(),n.lineTo(F,L),y=O,h=0,v=_=L),S=L}k()}function RT(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?QX:KX}function YX(n){return n.stepped?jL:n.tension||n.cubicInterpolationMode==="monotone"?UL:lo}function ZX(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),t2(n,e.options),n.stroke(r)}function XX(n,e,t,i){let{segments:r,options:s}=e,o=RT(e);for(let a of r)t2(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}var JX=typeof Path2D=="function";function eJ(n,e,t,i){JX&&!e.options.segment?ZX(n,e,t,i):XX(n,e,t,i)}var Gy=(()=>{class n extends Pi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;LL(this._points,r,t,s,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zL(this,this.options.segment))}first(){let t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){let t=this.segments,i=this.points,r=t.length;return r&&i[t[r-1].end]}interpolate(t,i){let r=this.options,s=t[i],o=this.points,a=uT(this,{property:i,start:s,end:s});if(!a.length)return;let c=[],l=YX(r),u,h;for(u=0,h=a.length;u<h;++u){let{start:f,end:g}=a[u],y=o[f],v=o[g];if(y===v){c.push(y);continue}let _=Math.abs((s-y[i])/(v[i]-y[i])),S=l(y,v,_,r.stepped);S[i]=t[i],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,i,r){return RT(this)(t,this,i,r)}path(t,i,r){let s=this.segments,o=RT(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let c of s)a&=o(t,this,c,{start:i,end:i+r-1});return!!a}draw(t,i,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),eJ(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function vV(n,e,t,i){let r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}var tJ=(()=>{class n extends Pi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return vV(this,t,"x",i)}inYRange(t,i){return vV(this,t,"y",i)}getCenterPoint(t){let{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);let r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){let r=this.options;this.skip||r.radius<.1||!cr(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Ty(t,r,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function i2(n,e){let{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e),a,c,l,u,h;return n.horizontal?(h=o/2,a=Math.min(t,r),c=Math.max(t,r),l=i-h,u=i+h):(h=s/2,a=t-h,c=t+h,l=Math.min(i,r),u=Math.max(i,r)),{left:a,top:l,right:c,bottom:u}}function mo(n,e,t,i){return n?0:jt(e,t,i)}function nJ(n,e,t){let i=n.options.borderWidth,r=n.borderSkipped,s=eT(i);return{t:mo(r.top,s.top,0,t),r:mo(r.right,s.right,0,e),b:mo(r.bottom,s.bottom,0,t),l:mo(r.left,s.left,0,e)}}function iJ(n,e,t){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=po(r),o=Math.min(e,t),a=n.borderSkipped,c=i||Ce(r);return{topLeft:mo(!c||a.top||a.left,s.topLeft,0,o),topRight:mo(!c||a.top||a.right,s.topRight,0,o),bottomLeft:mo(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:mo(!c||a.bottom||a.right,s.bottomRight,0,o)}}function rJ(n){let e=i2(n),t=e.right-e.left,i=e.bottom-e.top,r=nJ(n,t/2,i/2),s=iJ(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function vT(n,e,t,i){let r=e===null,s=t===null,a=n&&!(r&&s)&&i2(n,i);return a&&(r||ur(e,a.left,a.right))&&(s||ur(t,a.top,a.bottom))}function sJ(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function oJ(n,e){n.rect(e.x,e.y,e.w,e.h)}function _T(n,e,t={}){let i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}var kT=class extends Pi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=rJ(this),a=sJ(o.radius)?Rl:oJ;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,_T(o,t,s)),e.clip(),a(e,_T(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,_T(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return vT(this,e,t,i)}inXRange(e,t){return vT(this,e,null,t)}inYRange(e,t){return vT(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},aJ=Object.freeze({__proto__:null,ArcElement:PT,BarElement:kT,LineElement:Gy,PointElement:tJ}),NT=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],_V=NT.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function r2(n){return NT[n%NT.length]}function s2(n){return _V[n%_V.length]}function cJ(n,e){return n.borderColor=r2(e),n.backgroundColor=s2(e),++e}function lJ(n,e){return n.backgroundColor=n.data.map(()=>r2(e++)),e}function uJ(n,e){return n.backgroundColor=n.data.map(()=>s2(e++)),e}function dJ(n){let e=0;return(t,i)=>{let r=n.getDatasetMeta(i).controller;r instanceof $T?e=lJ(t,e):r instanceof WV?e=uJ(t,e):r&&(e=cJ(t,e))}}function bV(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function hJ(n){return n&&(n.borderColor||n.backgroundColor)}function fJ(){return dt.borderColor!=="rgba(0,0,0,0.1)"||dt.backgroundColor!=="rgba(0,0,0,0.1)"}var pJ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:i},options:r}=n.config,{elements:s}=r,o=bV(i)||hJ(r)||s&&bV(s)||fJ();if(!t.forceOverride&&o)return;let a=dJ(n);i.forEach(a)}};function gJ(n,e,t,i,r){let s=r.samples||i;if(s>=t)return n.slice(e,e+t);let o=[],a=(t-2)/(s-2),c=0,l=e+t-1,u=e,h,f,g,y,v;for(o[c++]=n[u],h=0;h<s-2;h++){let _=0,S=0,x,k=Math.floor((h+1)*a)+1+e,F=Math.min(Math.floor((h+2)*a)+1,t)+e,L=F-k;for(x=k;x<F;x++)_+=n[x].x,S+=n[x].y;_/=L,S/=L;let O=Math.floor(h*a)+1+e,I=Math.min(Math.floor((h+1)*a)+1,t)+e,{x:b,y:E}=n[u];for(g=y=-1,x=O;x<I;x++)y=.5*Math.abs((b-_)*(n[x].y-E)-(b-n[x].x)*(S-E)),y>g&&(g=y,f=n[x],v=x);o[c++]=f,u=v}return o[c++]=n[l],o}function mJ(n,e,t,i){let r=0,s=0,o,a,c,l,u,h,f,g,y,v,_=[],S=e+t-1,x=n[e].x,F=n[S].x-x;for(o=e;o<e+t;++o){a=n[o],c=(a.x-x)/F*i,l=a.y;let L=c|0;if(L===u)l<y?(y=l,h=o):l>v&&(v=l,f=o),r=(s*r+a.x)/++s;else{let O=o-1;if(!ke(h)&&!ke(f)){let I=Math.min(h,f),b=Math.max(h,f);I!==g&&I!==O&&_.push(se($({},n[I]),{x:r})),b!==g&&b!==O&&_.push(se($({},n[b]),{x:r}))}o>0&&O!==g&&_.push(n[O]),_.push(a),u=L,s=0,y=v=l,h=f=g=o}}return _}function o2(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function wV(n){n.data.datasets.forEach(e=>{o2(e)})}function yJ(n,e){let t=e.length,i=0,r,{iScale:s}=n,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(i=jt(ar(e,s.axis,o).lo,0,t-1)),l?r=jt(ar(e,s.axis,a).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var vJ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){wV(n);return}let i=n.width;n.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,c=n.getDatasetMeta(s),l=o||r.data;if(kl([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=n.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:f}=yJ(c,l),g=t.threshold||4*i;if(f<=g){o2(r);return}ke(o)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let y;switch(t.algorithm){case"lttb":y=gJ(l,h,f,i,t);break;case"min-max":y=mJ(l,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=y})},destroy(n){wV(n)}};function _J(n,e,t){let i=n.segments,r=n.points,s=e.points,o=[];for(let a of i){let{start:c,end:l}=a;l=zT(c,l,r);let u=OT(t,r[c],r[l],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[c],end:r[l]});continue}let h=uT(e,u);for(let f of h){let g=OT(t,s[f.start],s[f.end],f.loop),y=lT(a,r,g);for(let v of y)o.push({source:v,target:f,start:{[t]:EV(u,g,"start",Math.max)},end:{[t]:EV(u,g,"end",Math.min)}})}}return o}function OT(n,e,t,i){if(i)return;let r=e[n],s=t[n];return n==="angle"&&(r=Tn(r),s=Tn(s)),{property:n,start:r,end:s}}function bJ(n,e){let{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=zT(o,a,r);let c=r[o],l=r[a];i!==null?(s.push({x:c.x,y:i}),s.push({x:l.x,y:i})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:l.y}))}),s}function zT(n,e,t){for(;e>n;e--){let i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function EV(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function a2(n,e){let t=[],i=!1;return at(n)?(i=!0,t=n):t=bJ(n,e),t.length?new Gy({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function IV(n){return n&&n.fill!==!1}function wJ(n,e,t){let r=n[e].fill,s=[e],o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!yt(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function EJ(n,e,t){let i=TJ(n);if(Ce(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return yt(r)&&Math.floor(r)===r?IJ(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function IJ(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function CJ(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Ce(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function DJ(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Ce(n)?i=n.value:i=e.getBaseValue(),i}function TJ(n){let e=n.options,t=e.fill,i=pe(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function SJ(n){let{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,a=AJ(e,t);a.push(a2({x:null,y:e.bottom},i));for(let c=0;c<s.length;c++){let l=s[c];for(let u=l.start;u<=l.end;u++)xJ(r,o[u],a)}return new Gy({points:r,options:{}})}function AJ(n,e){let t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function xJ(n,e,t){let i=[];for(let r=0;r<t.length;r++){let s=t[r],{first:o,last:a,point:c}=MJ(s,e,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(n.push(c),!a)break}}n.push(...i)}function MJ(n,e,t){let i=n.interpolate(e,t);if(!i)return{};let r=i[t],s=n.segments,o=n.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let u=s[l],h=o[u.start][t],f=o[u.end][t];if(ur(r,h,f)){a=r===h,c=r===f;break}}return{first:a,last:c,point:i}}var qy=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){let{x:r,y:s,radius:o}=this;return t=t||{start:0,end:lt},e.arc(r,s,o,t.end,t.start,!0),!i.bounds}interpolate(e){let{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function PJ(n){let{chart:e,fill:t,line:i}=n;if(yt(t))return RJ(e,t);if(t==="stack")return SJ(n);if(t==="shape")return!0;let r=kJ(n);return r instanceof qy?r:a2(r,i)}function RJ(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function kJ(n){return(n.scale||{}).getPointPositionForValue?OJ(n):NJ(n)}function NJ(n){let{scale:e={},fill:t}=n,i=CJ(t,e);if(yt(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function OJ(n){let{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=DJ(t,e,s),a=[];if(i.grid.circular){let c=e.getPointPositionForValue(0,s);return new qy({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(e.getPointPositionForValue(c,o));return a}function bT(n,e,t){let i=PJ(e),{line:r,scale:s,axis:o}=e,a=r.options,c=a.fill,l=a.backgroundColor,{above:u=l,below:h=l}=c||{};i&&r.points.length&&(sh(n,t),FJ(n,{line:r,target:i,above:u,below:h,area:t,scale:s,axis:o}),oh(n))}function FJ(n,e){let{line:t,target:i,above:r,below:s,area:o,scale:a}=e,c=t._loop?"angle":e.axis;n.save(),c==="x"&&s!==r&&(CV(n,i,o.top),DV(n,{line:t,target:i,color:r,scale:a,property:c}),n.restore(),n.save(),CV(n,i,o.bottom)),DV(n,{line:t,target:i,color:s,scale:a,property:c}),n.restore()}function CV(n,e,t){let{segments:i,points:r}=e,s=!0,o=!1;n.beginPath();for(let a of i){let{start:c,end:l}=a,u=r[c],h=r[zT(c,l,r)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function DV(n,e){let{line:t,target:i,property:r,color:s,scale:o}=e,a=_J(t,i,r);for(let{source:c,target:l,start:u,end:h}of a){let{style:{backgroundColor:f=s}={}}=c,g=i!==!0;n.save(),n.fillStyle=f,LJ(n,o,g&&OT(r,u,h)),n.beginPath();let y=!!t.pathSegment(n,c),v;if(g){y?n.closePath():TV(n,i,h,r);let _=!!i.pathSegment(n,l,{move:y,reverse:!0});v=y&&_,v||TV(n,i,u,r)}n.closePath(),n.fill(v?"evenodd":"nonzero"),n.restore()}}function LJ(n,e,t){let{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=t||{};s==="x"&&(n.beginPath(),n.rect(o,i,a-o,r-i),n.clip())}function TV(n,e,t,i){let r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var VJ={id:"filler",afterDatasetsUpdate(n,e,t){let i=(n.data.datasets||[]).length,r=[],s,o,a,c;for(o=0;o<i;++o)s=n.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof Gy&&(c={visible:n.isDatasetVisible(o),index:o,fill:EJ(a,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,r.push(c);for(o=0;o<i;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=wJ(r,o,t.propagate))},beforeDraw(n,e,t){let i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&bT(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;IV(s)&&bT(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){let i=e.meta.$filler;!IV(i)||t.drawTime!=="beforeDatasetDraw"||bT(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},SV=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},BJ=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,Wy=class extends Pi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=nt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=kt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=SV(i,s),l,u;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,s,a,c)+10):(u=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=r+a,h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((y,v)=>{let _=i+t/2+s.measureText(y.text).width;(v===0||l[l.length-1]+_+2*a>o)&&(h+=u,l[l.length-(v>0?0:1)]=0,g+=u,f++),c[v]={left:0,top:g,row:f,width:_,height:r},l[l.length-1]+=_+a}),h}_fitCols(e,t,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-e,h=a,f=0,g=0,y=0,v=0;return this.legendItems.forEach((_,S)=>{let{itemWidth:x,itemHeight:k}=jJ(i,t,s,_,r);S>0&&g+k+2*a>u&&(h+=f+a,l.push({width:f,height:g}),y+=f+a,v++,f=g=0),c[S]={left:y,top:g,col:v,width:x,height:k},f=Math.max(f,x),g+=k+a}),h+=f,l.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ka(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=Yt(i,this.left+r,this.right-this.lineWidths[a]);for(let l of t)a!==l.row&&(a=l.row,c=Yt(i,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+e+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=Yt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let l of t)l.col!==a&&(a=l.col,c=Yt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;sh(e,this),this._draw(),oh(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=dt.color,c=ka(e.rtl,this.left,this.width),l=kt(o.font),{padding:u}=o,h=l.size,f=h/2,g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:y,boxHeight:v,itemHeight:_}=SV(o,h),S=function(O,I,b){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;r.save();let E=pe(b.lineWidth,1);if(r.fillStyle=pe(b.fillStyle,a),r.lineCap=pe(b.lineCap,"butt"),r.lineDashOffset=pe(b.lineDashOffset,0),r.lineJoin=pe(b.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=pe(b.strokeStyle,a),r.setLineDash(pe(b.lineDash,[])),o.usePointStyle){let T={radius:v*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:E},A=c.xPlus(O,y/2),M=I+f;JD(r,T,A,M,o.pointStyleWidth&&y)}else{let T=I+Math.max((h-v)/2,0),A=c.leftForLtr(O,y),M=po(b.borderRadius);r.beginPath(),Object.values(M).some(D=>D!==0)?Rl(r,{x:A,y:T,w:y,h:v,radius:M}):r.rect(A,T,y,v),r.fill(),E!==0&&r.stroke()}r.restore()},x=function(O,I,b){fo(r,b.text,O,I+_/2,l,{strikethrough:b.hidden,textAlign:c.textAlign(b.textAlign)})},k=this.isHorizontal(),F=this._computeTitleHeight();k?g={x:Yt(s,this.left+u,this.right-i[0]),y:this.top+u+F,line:0}:g={x:this.left+u,y:Yt(s,this.top+F+u,this.bottom-t[0].height),line:0},aT(this.ctx,e.textDirection);let L=_+u;this.legendItems.forEach((O,I)=>{r.strokeStyle=O.fontColor,r.fillStyle=O.fontColor;let b=r.measureText(O.text).width,E=c.textAlign(O.textAlign||(O.textAlign=o.textAlign)),T=y+f+b,A=g.x,M=g.y;c.setWidth(this.width),k?I>0&&A+T+u>this.right&&(M=g.y+=L,g.line++,A=g.x=Yt(s,this.left+u,this.right-i[g.line])):I>0&&M+L>this.bottom&&(A=g.x=A+t[g.line].width+u,g.line++,M=g.y=Yt(s,this.top+F+u,this.bottom-t[g.line].height));let D=c.x(A);if(S(D,M,O),A=SL(E,A+y+f,k?A+T:this.right,e.rtl),x(c.x(A),M,O),k)g.x+=T+u;else if(typeof O.text!="string"){let it=l.lineHeight;g.y+=c2(O,it)+u}else g.y+=L}),cT(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,i=kt(t.font),r=Zt(t.padding);if(!t.display)return;let s=ka(e.rtl,this.left,this.width),o=this.ctx,a=t.position,c=i.size/2,l=r.top+c,u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+l,h=Yt(e.align,h,this.right-f);else{let y=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);u=l+Yt(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}let g=Yt(a,h,h+f);o.textAlign=s.textAlign(Cy(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,fo(o,t.text,g,u,i)}_computeTitleHeight(){let e=this.options.title,t=kt(e.font),i=Zt(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(ur(e,this.left,this.right)&&ur(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ur(e,r.left,r.left+r.width)&&ur(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let t=this.options;if(!zJ(e.type,t))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,s=BJ(r,i);r&&!s&&nt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&nt(t.onHover,[e,i,this],this)}else i&&nt(t.onClick,[e,i,this],this)}};function jJ(n,e,t,i,r){let s=UJ(i,n,e,t),o=$J(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function UJ(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function $J(n,e,t){let i=n;return typeof e.text!="string"&&(i=c2(e,t)),i}function c2(n,e){let t=n.text?n.text.length:0;return e*t}function zJ(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var HJ={id:"legend",_element:Wy,start(n,e,t){let i=n.legend=new Wy({ctx:n.ctx,options:t,chart:n});ln.configure(n,i,t),ln.addBox(n,i)},stop(n){ln.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let i=n.legend;ln.configure(n,i,t),i.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),u=Zt(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},gh=class extends Pi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let r=at(i.text)?i.text.length:1;this._padding=Zt(i.padding);let s=r*kt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:i,bottom:r,right:s,options:o}=this,a=o.align,c=0,l,u,h;return this.isHorizontal()?(u=Yt(a,i,s),h=t+e,l=s-i):(o.position==="left"?(u=i+e,h=Yt(a,r,t),c=ct*-.5):(u=s-e,h=Yt(a,t,r),c=ct*.5),l=r-t),{titleX:u,titleY:h,maxWidth:l,rotation:c}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let i=kt(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);fo(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:l,textAlign:Cy(t.align),textBaseline:"middle",translation:[o,a]})}};function qJ(n,e){let t=new gh({ctx:n.ctx,options:e,chart:n});ln.configure(n,t,e),ln.addBox(n,t),n.titleBlock=t}var WJ={id:"title",_element:gh,start(n,e,t){qJ(n,t)},stop(n){let e=n.titleBlock;ln.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let i=n.titleBlock;ln.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Fy=new WeakMap,GJ={id:"subtitle",start(n,e,t){let i=new gh({ctx:n.ctx,options:t,chart:n});ln.configure(n,i,t),ln.addBox(n,i),Fy.set(n,i)},stop(n){ln.removeBox(n,Fy.get(n)),Fy.delete(n)},beforeUpdate(n,e,t){let i=Fy.get(n);ln.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},fh={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();i.add(c.x),r+=c.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,c)=>a+c)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){let c=n[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=_y(e,l);u<r&&(r=u,a=c)}}if(a){let c=a.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function dr(n,e){return e&&(at(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ds(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function KJ(n,e){let{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function AV(n,e){let t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=e,c=kt(e.bodyFont),l=kt(e.titleFont),u=kt(e.footerFont),h=s.length,f=r.length,g=i.length,y=Zt(e.padding),v=y.height,_=0,S=i.reduce((F,L)=>F+L.before.length+L.lines.length+L.after.length,0);if(S+=n.beforeBody.length+n.afterBody.length,h&&(v+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),S){let F=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;v+=g*F+(S-g)*c.lineHeight+(S-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0,k=function(F){_=Math.max(_,t.measureText(F).width+x)};return t.save(),t.font=l.string,qe(n.title,k),t.font=c.string,qe(n.beforeBody.concat(n.afterBody),k),x=e.displayColors?o+2+e.boxPadding:0,qe(i,F=>{qe(F.before,k),qe(F.lines,k),qe(F.after,k)}),x=0,t.font=u.string,qe(n.footer,k),t.restore(),_+=y.width,{width:_,height:v}}function QJ(n,e){let{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function YJ(n,e,t,i){let{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function ZJ(n,e,t,i){let{x:r,width:s}=t,{width:o,chartArea:{left:a,right:c}}=n,l="center";return i==="center"?l=r<=(a+c)/2?"left":"right":r<=s/2?l="left":r>=o-s/2&&(l="right"),YJ(l,n,e,t)&&(l="center"),l}function xV(n,e,t){let i=t.yAlign||e.yAlign||QJ(n,t);return{xAlign:t.xAlign||e.xAlign||ZJ(n,e,t,i),yAlign:i}}function XJ(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function JJ(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function MV(n,e,t,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:c}=t,l=r+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:g}=po(o),y=XJ(e,a),v=JJ(e,c,l);return c==="center"?a==="left"?y+=l:a==="right"&&(y-=l):a==="left"?y-=Math.max(u,f)+r:a==="right"&&(y+=Math.max(h,g)+r),{x:jt(y,0,i.width-e.width),y:jt(v,0,i.height-e.height)}}function Ly(n,e,t){let i=Zt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function PV(n){return dr([],ds(n))}function eee(n,e,t){return ls(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function RV(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var l2={beforeTitle:lr,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:lr,beforeBody:lr,beforeLabel:lr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return ke(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:lr,afterBody:lr,beforeFooter:lr,footer:lr,afterFooter:lr};function An(n,e,t,i){let r=n[e].call(t,i);return typeof r>"u"?l2[e].call(t,i):r}var kV=(()=>{class n extends Pi{static positioners=fh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new Uy(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=eee(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){let{callbacks:r}=i,s=An(r,"beforeTitle",this,t),o=An(r,"title",this,t),a=An(r,"afterTitle",this,t),c=[];return c=dr(c,ds(s)),c=dr(c,ds(o)),c=dr(c,ds(a)),c}getBeforeBody(t,i){return PV(An(i.callbacks,"beforeBody",this,t))}getBody(t,i){let{callbacks:r}=i,s=[];return qe(t,o=>{let a={before:[],lines:[],after:[]},c=RV(r,o);dr(a.before,ds(An(c,"beforeLabel",this,o))),dr(a.lines,An(c,"label",this,o)),dr(a.after,ds(An(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,i){return PV(An(i.callbacks,"afterBody",this,t))}getFooter(t,i){let{callbacks:r}=i,s=An(r,"beforeFooter",this,t),o=An(r,"footer",this,t),a=An(r,"afterFooter",this,t),c=[];return c=dr(c,ds(s)),c=dr(c,ds(o)),c=dr(c,ds(a)),c}_createItems(t){let i=this._active,r=this.chart.data,s=[],o=[],a=[],c=[],l,u;for(l=0,u=i.length;l<u;++l)c.push(KJ(this.chart,i[l]));return t.filter&&(c=c.filter((h,f,g)=>t.filter(h,f,g,r))),t.itemSort&&(c=c.sort((h,f)=>t.itemSort(h,f,r))),qe(c,h=>{let f=RV(t.callbacks,h);s.push(An(f,"labelColor",this,h)),o.push(An(f,"labelPointStyle",this,h)),a.push(An(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(t,i){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=fh[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=AV(this,r),u=Object.assign({},c,l),h=xV(this.chart,r,u),f=MV(r,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,s){let o=this.getCaretPosition(t,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:f}=po(c),{x:g,y}=t,{width:v,height:_}=i,S,x,k,F,L,O;return o==="center"?(L=y+_/2,s==="left"?(S=g,x=S-a,F=L+a,O=L-a):(S=g+v,x=S+a,F=L-a,O=L+a),k=S):(s==="left"?x=g+Math.max(l,h)+a:s==="right"?x=g+v-Math.max(u,f)-a:x=this.caretX,o==="top"?(F=y,L=F-a,S=x-a,k=x+a):(F=y+_,L=F+a,S=x+a,k=x-a),O=F),{x1:S,x2:x,x3:k,y1:F,y2:L,y3:O}}drawTitle(t,i,r){let s=this.title,o=s.length,a,c,l;if(o){let u=ka(r.rtl,this.x,this.width);for(t.x=Ly(this,r.titleAlign,r),i.textAlign=u.textAlign(r.titleAlign),i.textBaseline="middle",a=kt(r.titleFont),c=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===o&&(t.y+=r.titleMarginBottom-c)}}_drawColorBox(t,i,r,s,o){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=o,h=kt(o.bodyFont),f=Ly(this,"left",o),g=s.x(f),y=l<h.lineHeight?(h.lineHeight-l)/2:0,v=i.y+y;if(o.usePointStyle){let _={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=s.leftForLtr(g,u)+u/2,x=v+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ty(t,_,S,x),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Ty(t,_,S,x)}else{t.lineWidth=Ce(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let _=s.leftForLtr(g,u),S=s.leftForLtr(s.xPlus(g,1),u-2),x=po(a.borderRadius);Object.values(x).some(k=>k!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Rl(t,{x:_,y:v,w:u,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Rl(t,{x:S,y:v+1,w:u-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,v,u,l),t.strokeRect(_,v,u,l),t.fillStyle=a.backgroundColor,t.fillRect(S,v+1,u-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:h}=r,f=kt(r.bodyFont),g=f.lineHeight,y=0,v=ka(r.rtl,this.x,this.width),_=function(E){i.fillText(E,v.x(t.x+y),t.y+g/2),t.y+=g+o},S=v.textAlign(a),x,k,F,L,O,I,b;for(i.textAlign=a,i.textBaseline="middle",i.font=f.string,t.x=Ly(this,S,r),i.fillStyle=r.bodyColor,qe(this.beforeBody,_),y=c&&S!=="right"?a==="center"?u/2+h:u+2+h:0,L=0,I=s.length;L<I;++L){for(x=s[L],k=this.labelTextColors[L],i.fillStyle=k,qe(x.before,_),F=x.lines,c&&F.length&&(this._drawColorBox(i,t,L,v,r),g=Math.max(f.lineHeight,l)),O=0,b=F.length;O<b;++O)_(F[O]),g=f.lineHeight;qe(x.after,_)}y=0,g=f.lineHeight,qe(this.afterBody,_),t.y-=o}drawFooter(t,i,r){let s=this.footer,o=s.length,a,c;if(o){let l=ka(r.rtl,this.x,this.width);for(t.x=Ly(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=l.textAlign(r.footerAlign),i.textBaseline="middle",a=kt(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,c=0;c<o;++c)i.fillText(s[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,i,r,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=t,{width:u,height:h}=r,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:v}=po(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(c+f,l),a==="top"&&this.drawCaret(t,i,r,s),i.lineTo(c+u-g,l),i.quadraticCurveTo(c+u,l,c+u,l+g),a==="center"&&o==="right"&&this.drawCaret(t,i,r,s),i.lineTo(c+u,l+h-v),i.quadraticCurveTo(c+u,l+h,c+u-v,l+h),a==="bottom"&&this.drawCaret(t,i,r,s),i.lineTo(c+y,l+h),i.quadraticCurveTo(c,l+h,c,l+h-y),a==="center"&&o==="left"&&this.drawCaret(t,i,r,s),i.lineTo(c,l+f),i.quadraticCurveTo(c,l,c+f,l),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){let i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=fh[t.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=AV(this,t),l=Object.assign({},a,this._size),u=xV(i,t,l),h=MV(t,l,u,i);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=Zt(i.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&c&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,i),aT(t,i.textDirection),o.y+=a.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),cT(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){let r=this._active,s=t.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),o=!ih(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(t,o,i,r),c=this._positionChanged(a,t),l=i||!ih(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),l}_getActiveElements(t,i,r,s){let o=this.options;if(t.type==="mouseout")return[];if(!s)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(t,i){let{caretX:r,caretY:s,options:o}=this,a=fh[o.position].call(this,t,i);return a!==!1&&(r!==a.x||s!==a.y)}}return n})(),tee={id:"tooltip",_element:kV,positioners:fh,afterInit(n,e,t){t&&(n.tooltip=new kV({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",se($({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:l2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},nee=Object.freeze({__proto__:null,Colors:pJ,Decimation:vJ,Filler:VJ,Legend:HJ,SubTitle:GJ,Title:WJ,Tooltip:tee}),iee=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function ree(n,e,t,i){let r=n.indexOf(e);if(r===-1)return iee(n,e,t,i);let s=n.lastIndexOf(e);return r!==s?t:r}var see=(n,e)=>n===null?null:jt(Math.round(n),0,e);function NV(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var oee=(()=>{class n extends Fa{static id="category";static defaults={ticks:{callback:NV}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(ke(t))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===t?i:ree(r,t,pe(i,t),this._addedLabels),see(i,r.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let t=this.min,i=this.max,r=this.options.offset,s=[],o=this.getLabels();o=t===0&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=i;a++)s.push({value:a});return s}getLabelForValue(t){return NV.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function aee(n,e){let t=[],{bounds:r,step:s,min:o,max:a,precision:c,count:l,maxTicks:u,maxDigits:h,includeBounds:f}=n,g=s||1,y=u-1,{min:v,max:_}=e,S=!ke(o),x=!ke(a),k=!ke(l),F=(_-v)/(h+1),L=jD((_-v)/y/g)*g,O,I,b,E;if(L<1e-14&&!S&&!x)return[{value:v},{value:_}];E=Math.ceil(_/L)-Math.floor(v/L),E>y&&(L=jD(E*L/y/g)*g),ke(c)||(O=Math.pow(10,c),L=Math.ceil(L*O)/O),r==="ticks"?(I=Math.floor(v/L)*L,b=Math.ceil(_/L)*L):(I=v,b=_),S&&x&&s&&bL((a-o)/s,L/1e3)?(E=Math.round(Math.min((a-o)/L,u)),L=(a-o)/E,I=o,b=a):k?(I=S?o:I,b=x?a:b,E=l-1,L=(b-I)/E):(E=(b-I)/L,xl(E,Math.round(E),L/1e3)?E=Math.round(E):E=Math.ceil(E));let T=Math.max($D(L),$D(I));O=Math.pow(10,ke(c)?T:c),I=Math.round(I*O)/O,b=Math.round(b*O)/O;let A=0;for(S&&(f&&I!==o?(t.push({value:o}),I<o&&A++,xl(Math.round((I+A*L)*O)/O,o,OV(o,F,n))&&A++):I<o&&A++);A<E;++A){let M=Math.round((I+A*L)*O)/O;if(x&&M>a)break;t.push({value:M})}return x&&f&&b!==a?t.length&&xl(t[t.length-1].value,a,OV(a,F,n))?t[t.length-1].value=a:t.push({value:a}):(!x||b===a)&&t.push({value:b}),t}function OV(n,e,{horizontal:t,minRotation:i}){let r=ai(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}var Fl=class extends Fa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ke(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=c=>r=t?r:c,a=c=>s=i?s:c;if(e){let c=Mi(r),l=Mi(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(r-c)}this.min=r,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=aee(r,s);return e.bounds==="ticks"&&UD(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Pl(e,this.chart.options.locale,this.options.ticks.format)}},FT=class extends Fl{static id="linear";static defaults={ticks:{callback:rh.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=yt(e)?e:0,this.max=yt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=ai(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},mh=n=>Math.floor(as(n)),Oa=(n,e)=>Math.pow(10,mh(n)+e);function FV(n){return n/Math.pow(10,mh(n))===1}function LV(n,e,t){let i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function cee(n,e){let t=e-n,i=mh(t);for(;LV(n,e,i)>10;)i++;for(;LV(n,e,i)<10;)i--;return Math.min(i,mh(n))}function lee(n,{min:e,max:t}){e=Sn(n.min,e);let i=[],r=mh(e),s=cee(e,t),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=r>s?Math.pow(10,r):0,l=Math.round((e-c)*o)/o,u=Math.floor((e-c)/a/10)*a*10,h=Math.floor((l-u)/Math.pow(10,s)),f=Sn(n.min,Math.round((c+u+h*Math.pow(10,s))*o)/o);for(;f<t;)i.push({value:f,major:FV(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((c+u+h*Math.pow(10,s))*o)/o;let g=Sn(n.max,f);return i.push({value:g,major:FV(g),significand:h}),i}var LT=class extends Fa{static id="logarithmic";static defaults={ticks:{callback:rh.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=Fl.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return yt(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=yt(e)?Math.max(0,e):null,this.max=yt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!yt(this._userMin)&&(this.min=e===Oa(this.min,0)?Oa(this.min,-1):Oa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,r=this.max,s=a=>i=e?i:a,o=a=>r=t?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Oa(i,-1)),o(Oa(r,1)))),i<=0&&s(Oa(r,-1)),r<=0&&o(Oa(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},i=lee(t,this);return e.bounds==="ticks"&&UD(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Pl(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=as(e),this._valueRange=as(this.max)-as(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(as(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function VT(n){let e=n.ticks;if(e.display&&n.display){let t=Zt(e.backdropPadding);return pe(e.font&&e.font.size,dt.font.size)+t.height}return 0}function uee(n,e,t){return t=at(t)?t:[t],{w:xL(n,e.string,t),h:t.length*e.lineHeight}}function VV(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function dee(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?ct/s:0;for(let c=0;c<s;c++){let l=o.setContext(n.getPointLabelContext(c));r[c]=l.padding;let u=n.getPointPosition(c,n.drawingArea+r[c],a),h=kt(l.font),f=uee(n.ctx,h,n._pointLabels[c]);i[c]=f;let g=Tn(n.getIndexAngle(c)+a),y=Math.round(Ey(g)),v=VV(y,u.x,f.w,0,180),_=VV(y,u.y,f.h,90,270);hee(t,e,g,v,_)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=gee(n,i,r)}function hee(n,e,t,i,r){let s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),a=0,c=0;i.start<e.l?(a=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+a)),r.start<e.t?(c=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function fee(n,e,t){let i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=t,c=n.getPointPosition(e,i+r+o,s),l=Math.round(Ey(Tn(c.angle+It))),u=vee(c.y,a.h,l),h=mee(l),f=yee(c.x,a.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function pee(n,e){if(!e)return!0;let{left:t,top:i,right:r,bottom:s}=n;return!(cr({x:t,y:i},e)||cr({x:t,y:s},e)||cr({x:r,y:i},e)||cr({x:r,y:s},e))}function gee(n,e,t){let i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:VT(s)/2,additionalAngle:o?ct/r:0},l;for(let u=0;u<r;u++){c.padding=t[u],c.size=e[u];let h=fee(n,u,c);i.push(h),a==="auto"&&(h.visible=pee(h,l),h.visible&&(l=h))}return i}function mee(n){return n===0||n===180?"center":n<180?"left":"right"}function yee(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function vee(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function _ee(n,e,t){let{left:i,top:r,right:s,bottom:o}=t,{backdropColor:a}=e;if(!ke(a)){let c=po(e.borderRadius),l=Zt(e.backdropPadding);n.fillStyle=a;let u=i-l.left,h=r-l.top,f=s-i+l.width,g=o-r+l.height;Object.values(c).some(y=>y!==0)?(n.beginPath(),Rl(n,{x:u,y:h,w:f,h:g,radius:c}),n.fill()):n.fillRect(u,h,f,g)}}function bee(n,e){let{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){let s=n._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(n.getPointLabelContext(r));_ee(t,o,s);let a=kt(o.font),{x:c,y:l,textAlign:u}=s;fo(t,n._pointLabels[r],c,l+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function u2(n,e,t,i){let{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,lt);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function wee(n,e,t,i,r){let s=n.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!i||!a||!c||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),u2(n,t,o,i),s.closePath(),s.stroke(),s.restore())}function Eee(n,e,t){return ls(n,{label:t,index:e,type:"pointLabel"})}var BT=class extends Fl{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Zt(VT(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=yt(e)&&!isNaN(e)?e:0,this.max=yt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/VT(this.options))}generateTickLabels(e){Fl.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{let r=nt(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?dee(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){let t=lt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Tn(e*t+ai(i))}getDistanceFromCenterForValue(e){if(ke(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ke(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return Eee(this.getContext(),e,i)}}getPointPosition(e,t,i=0){let r=this.getIndexAngle(e)-It+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),u2(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,o=this._pointLabels.length,a,c,l;if(t.pointLabels.display&&bee(this,o),r.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);let f=this.getContext(h),g=r.setContext(f),y=s.setContext(f);wee(this,g,c,o,y)}}),i.display){for(e.save(),a=o-1;a>=0;a--){let u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=i.setContext(this.getContext(c)),u=kt(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let h=Zt(l.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}fo(e,a.label,0,-s,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},Ky={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(Ky);function BV(n,e){return n-e}function jV(n,e){if(ke(e))return null;let t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts,o=e;return typeof i=="function"&&(o=i(o)),yt(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(Ra(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function UV(n,e,t,i){let r=xn.length;for(let s=xn.indexOf(n);s<r-1;++s){let o=Ky[xn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=i)return xn[s]}return xn[r-1]}function Iee(n,e,t,i,r){for(let s=xn.length-1;s>=xn.indexOf(t);s--){let o=xn[s];if(Ky[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return xn[t?xn.indexOf(t):0]}function Cee(n){for(let e=xn.indexOf(n)+1,t=xn.length;e<t;++e)if(Ky[xn[e]].common)return xn[e]}function $V(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:i,hi:r}=Iy(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function Dee(n,e,t,i){let r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value,a,c;for(a=s;a<=o;a=+r.add(a,1,i))c=t[a],c>=0&&(e[c].major=!0);return e}function zV(n,e,t){let i=[],r={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!t?i:Dee(n,i,r,t)}var jT=(()=>{class n extends Fa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){let r=t.time||(t.time={}),s=this._adapter=new FZ._date(t.adapters.date);s.init(i),Sl(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:jV(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,i=this._adapter,r=t.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!c&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=yt(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=yt(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let t=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){let t=this.options,i=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=IL(s,o,a);return this._unit=i.unit||(r.autoSkip?UV(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):Iee(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Cee(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),zV(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,r=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?i=1-s:i=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?r=o:r=(o-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;i=jt(i,0,a),r=jt(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let t=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||UV(o.minUnit,i,r,this._getLabelCapacity(i)),c=pe(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,u=Ra(l)||l===!0,h={},f=i,g,y;if(u&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,u?"day":a),t.diff(r,i,a)>1e5*c)throw new Error(i+" and "+r+" are too far apart with stepSize of "+c+" "+a);let v=s.ticks.source==="data"&&this.getDataTimestamps();for(g=f,y=0;g<r;g=+t.add(g,c,a),y++)$V(h,g,v);return(g===r||s.bounds==="ticks"||y===1)&&$V(h,g,v),Object.keys(h).sort(BV).map(_=>+_)}getLabelForValue(t){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(t,r.tooltipFormat):i.format(t,r.displayFormats.datetime)}format(t,i){let s=this.options.time.displayFormats,o=this._unit,a=i||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,i,r,s){let o=this.options,a=o.ticks.callback;if(a)return nt(a,[t,i,r],this);let c=o.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&c[l],f=u&&c[u],g=r[i],y=u&&f&&g&&g.major;return this._adapter.format(t,s||(y?f:h))}generateTickLabels(t){let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){let i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){let i=this.options.ticks,r=this.ctx.measureText(t).width,s=ai(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*a,h:r*a+c*o}}_getLabelCapacity(t){let i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(t,0,zV(this,[t],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],i,r;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],i,r;if(t.length)return t;let s=this.getLabels();for(i=0,r=s.length;i<r;++i)t.push(jV(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return qD(t.sort(BV))}}return n})();function Vy(n,e,t){let i=0,r=n.length-1,s,o,a,c;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=ar(n,"pos",e)),{pos:s,time:a}=n[i],{pos:o,time:c}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=ar(n,"time",e)),{time:s,pos:a}=n[i],{time:o,pos:c}=n[r]);let l=o-s;return l?a+(c-a)*(e-s)/l:a}var UT=class extends jT{static id="timeseries";static defaults=jT.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Vy(t,this.min),this._tableRange=Vy(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:i}=this,r=[],s=[],o,a,c,l,u;for(o=0,a=e.length;o<a;++o)l=e[o],l>=t&&l<=i&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],c=r[o-1],l=r[o],Math.round((u+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let e=this.min,t=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Vy(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Vy(this._table,i*this._tableRange+this._minPos,!0)}},Tee=Object.freeze({__proto__:null,CategoryScale:oee,LinearScale:FT,LogarithmicScale:LT,RadialLinearScale:BT,TimeScale:jT,TimeSeriesScale:UT}),d2=[OZ,aJ,nee,Tee];var See=["canvas1"],Aee=["canvas2"];vh.register(...d2);var Qy=class n{canvas1=Bo.required("canvas1");canvas2=Bo.required("canvas2");taskAction(e){}ngAfterViewInit(){this.renderChart()}renderChart(){new vh(this.canvas1().nativeElement,{type:"bar",data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}}),new vh(this.canvas2().nativeElement,{type:"bar",data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-overview"]],viewQuery:function(t,i){t&1&&($o(i.canvas1,See,5),$o(i.canvas2,Aee,5)),t&2&&bc(2)},standalone:!0,features:[Me],decls:69,vars:0,consts:[["canvas1",""],["canvas2",""],[1,"container"],[1,"top-section"],[1,"completed-task"],[1,"bx","bx-donate-blood",2,"margin","auto 10px"],[1,"chart-cont"],[1,"chart-cont-left"],[1,"top-header"],[1,"option"],["for",""],["name","","id","",1,"status",3,"change"],["value",""],["value","edit"],["value","delete"],[1,"chart-left"],[1,"chart-cont-right"],[1,"chart-right"]],template:function(t,i){if(t&1){let r=Lt();N(0,"div",2)(1,"h3"),B(2,"Total result "),P(),N(3,"div",3)(4,"div",4)(5,"div")(6,"p"),B(7,"Total Completed task "),P(),N(8,"span"),B(9,"34"),P()(),J(10,"i",5),P(),N(11,"div",4)(12,"div")(13,"p"),B(14,"Total Completed task "),P(),N(15,"span"),B(16,"34"),P()(),J(17,"i",5),P(),N(18,"div",4)(19,"div")(20,"p"),B(21,"Total Completed task "),P(),N(22,"span"),B(23,"34"),P()(),J(24,"i",5),P(),N(25,"div",4)(26,"div")(27,"p"),B(28,"Total Completed task "),P(),N(29,"span"),B(30,"34"),P()(),J(31,"i",5),P()(),N(32,"div",6)(33,"div",7)(34,"div",8)(35,"div")(36,"h3"),B(37,"See task report"),P()(),N(38,"div",9)(39,"label",10),B(40,"Select"),P(),N(41,"select",11),ue("change",function(o){return Be(r),je(i.taskAction(o))}),N(42,"option",12),B(43,"Action"),P(),N(44,"option",13),B(45,"Edit"),P(),N(46,"option",14),B(47,"Delete"),P()()()(),N(48,"div",15),J(49,"canvas",null,0),P()(),N(51,"div",16)(52,"div",8)(53,"div")(54,"h3"),B(55,"See task report"),P()(),N(56,"div",9)(57,"label",10),B(58,"Select"),P(),N(59,"select",11),ue("change",function(o){return Be(r),je(i.taskAction(o))}),N(60,"option",12),B(61,"Action"),P(),N(62,"option",13),B(63,"Edit"),P(),N(64,"option",14),B(65,"Delete"),P()()()(),N(66,"div",17),J(67,"canvas",null,1),P()()()()}},styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}.container[_ngcontent-%COMP%]{width:100%;height:100%}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;margin:10px auto;font-family:300;color:var(--black-400)}.top-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;column-gap:8px}.completed-task[_ngcontent-%COMP%]{padding:15px;height:150px;border-radius:5px;display:flex;justify-content:space-around;align-items:center;background-image:radial-gradient(circle 248px at center,#16d9e3,#30c7ec 47%,#46aef7)}.completed-task[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:12px;text-transform:capitalize;font-weight:500;margin:5px auto}.completed-task[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:400;color:var(--black-100);display:block}.completed-task[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{align-self:flex-start;border:1px solid var(--blue-400);font-size:42px;border-radius:5px;padding:8px;color:var(--blue-400)}.chart-cont[_ngcontent-%COMP%]{width:100%;height:auto;margin:10px auto;display:grid;grid-template-columns:1fr 1fr;column-gap:8px}.chart-cont[_ngcontent-%COMP%]   .top-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.chart-cont[_ngcontent-%COMP%]   .top-header[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--black-500);font-weight:400;font-size:14px;margin:0 8px}.chart-cont[_ngcontent-%COMP%]   .top-header[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px;margin:5px 8px;appearance:none;border:1px solid var(--purple-200);outline:none;background-color:var(--white-50);border-radius:5px;text-align:center;color:var(--black-100)!important;font-weight:300;font-size:12px;text-transform:capitalize;cursor:pointer}.chart-left[_ngcontent-%COMP%], .chart-right[_ngcontent-%COMP%]{width:100%}canvas[_ngcontent-%COMP%]{width:100%}@media (max-width: 600px){.dued-task[_ngcontent-%COMP%], .completed-task[_ngcontent-%COMP%], .pending-task[_ngcontent-%COMP%]{width:100%}}"]})};var h2=(n,e)=>{let t=j(Vn);return localStorage.getItem("User")?!0:(t.navigate(["/"]),!1)};var Ll=class n{constructor(){}firestore=j(ts);getTaskDuration(e){return C(this,null,function*(){let t,i=dl(Ai(this.firestore,"taskDuration"),fl("id","==",e));return(yield ba(i)).forEach(s=>{t=s.data()}),t})}createTaskDuration(e,t,i,r){return C(this,null,function*(){if(console.log(i[0].h+" : "+i[0].m+" : "+i[0].s+r),(yield this.getTaskDuration(e))==null)this.taskDuration(e,t,i);else{let o=yield dl(Ai(this.firestore,"taskDuration"),fl("id","==",e));(yield ba(o)).forEach(c=>C(this,null,function*(){let l=eo(this.firestore,"taskDuration",c.id);yield hl(l,{start_time:i,total_time:t})}))}})}taskDuration(e,t,i){return C(this,null,function*(){try{let r=yield _m(Ai(this.firestore,"taskDuration"),{start_time:i,total_time:t,id:e});console.log("Document written with ID: ",r.id)}catch(r){console.error("Error adding document: ",r)}console.log("task duration !")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};function xee(n,e){n&1&&(N(0,"span"),B(1,"Done"),P())}function Mee(n,e){n&1&&(N(0,"span"),B(1,"start task :"),P())}function Pee(n,e){n&1&&J(0,"i",16)}function Ree(n,e){n&1&&J(0,"i",17)}var Yy=class n{Id="";taskDuration;s_interval;timer_state=!1;totalTime=[{h:0,m:0,s:0}];startTime=[{h:0,m:0,s:0}];todoService=j(si);taskDetails=j(Ll);task;ngOnInit(){return C(this,null,function*(){this.getTaskDuration()})}getTaskDuration(){return C(this,null,function*(){this.taskDuration=yield this.taskDetails.getTaskDuration(this.Id),this.startTime[0].h=this.taskDuration.start_time[0].h,this.startTime[0].m=this.taskDuration.start_time[0].m,this.startTime[0].s=this.taskDuration.start_time[0].s})}ngAfterViewInit(){}set id(e){alert("route"),this.Id=e,this.getTaskDuration(),this.todoService.getTaskById(e).then(t=>{this.task=t;let i=this.task.end_date.getHours()-this.task.start_date.getHours(),r=this.task.end_date.getMinutes()-this.task.start_date.getMinutes(),s=this.task.end_date.getSeconds()-this.task.start_date.getSeconds();this.totalTime=[{h:i,m:r,s}],alert("router"),this.taskDetails.createTaskDuration(this.Id,this.totalTime,this.startTime,"route")}).catch(t=>{console.log(t)})}start_task(){return C(this,null,function*(){if(this.timer_state){clearInterval(this.s_interval),this.timer_state=!1;return}this.timer_state=!0,this.s_interval=setInterval(()=>{++this.startTime[0].s,this.startTime[0].s>=60&&(this.startTime[0].s=0,++this.startTime[0].m),this.startTime[0].m>=60&&(++this.startTime[0].h,this.startTime[0].m=0),this.startTime=[{h:this.startTime[0].h,m:this.startTime[0].m,s:this.startTime[0].s}];let e=this.taskDetails.createTaskDuration(this.Id,this.totalTime,this.startTime,"interval");this.startTime[0].s==17&&(clearInterval(this.s_interval),this.start_task(),this.todoService.updateTaskDeadline(!0,this.Id),this.todoService.updateTaskStatus(this.Id,"completed"))},1e3)})}end_task(){clearInterval(this.s_interval)}ngOnDestroy(){clearInterval(this.s_interval),this.getTaskDuration()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-task-details"]],inputs:{id:"id"},standalone:!0,features:[Me],decls:49,vars:24,consts:[[1,"container"],[1,"left"],["src","https://images.unsplash.com/photo-1721332153289-0c46dc38981b?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","alt",""],[1,"right"],[1,"task-header"],[1,"title"],[1,"bx","bx-task"],[1,"desc"],[1,"bx","bx-message-square-detail"],[1,"task-body"],[1,"content"],[1,"row"],[1,"row",2,"margin-top","10px"],[1,"status"],[1,"btn-cont"],[1,"start-btn",2,"flex-shrink","0",3,"click","disabled"],[1,"bx","bx-pause-circle"],[1,"bx","bx-play-circle"]],template:function(t,i){t&1&&(N(0,"div",0)(1,"div",1),J(2,"img",2),P(),N(3,"div",3)(4,"div",4)(5,"h1",5),J(6,"i",6),B(7),P(),N(8,"p",7),J(9,"i",8),B(10),P()(),N(11,"div",9)(12,"div",10)(13,"div",11)(14,"span")(15,"label"),B(16," Start date :"),P(),B(17),Or(18,"date"),P(),N(19,"span")(20,"label"),B(21," End date :"),P(),B(22),Or(23,"date"),P()(),N(24,"div",11)(25,"span")(26,"label"),B(27," Remainder :"),P(),B(28),P(),N(29,"span")(30,"label"),B(31,"Priority :"),P(),B(32),P()(),N(33,"div",12)(34,"span")(35,"label"),B(36,"Status: "),P(),N(37,"span",13),B(38),P()()()(),N(39,"div",14)(40,"div",11)(41,"button",15),ue("click",function(){return i.start_task()}),ht(42,xee,2,0,"span")(43,Mee,2,0,"span"),B(44," : "),ht(45,Pee,1,0,"i",16)(46,Ree,1,0,"i",17),P(),N(47,"span"),B(48),P()()()()()()),t&2&&(W(7),Ye(" ",i.task.title,""),W(3),Ye("",i.task.description," "),W(7),Ye(" ",Fr(18,18,i.task.start_date,"medium"),""),W(5),Ye(" ",Fr(23,21,i.task.end_date,"medium"),""),W(6),Ye(" ",i.task.remainder,""),W(4),Ye(" ",i.task.priority,""),W(5),gt(i.task.status=="pending"?"pending":"dued"),W(),kr(i.task.status),W(3),Ue("disabled",i.task.status=="completed"),W(),In(i.task.status=="completed"?42:43),W(3),In(i.timer_state?45:46),W(3),gb("Time : ",i.startTime[0].h," : ",i.startTime[0].m," : ",i.startTime[0].s," / ",i.totalTime[0].h," : ",i.totalTime[0].m," : ",i.totalTime[0].s,""))},dependencies:[Ic],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}.container[_ngcontent-%COMP%]{width:100%;height:350px;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;border-radius:5px;padding:25px 20px;margin:1rem auto;display:grid;grid-template-columns:1fr 2fr;align-items:center;column-gap:10px}.right[_ngcontent-%COMP%]{padding:10px;border-radius:5px;background-color:var(--blue-200)}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;border-radius:5px}.task-header[_ngcontent-%COMP%]{border-radius:5px}.title[_ngcontent-%COMP%], .desc[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:500}.title[_ngcontent-%COMP%]{font-size:20px;color:var(--black-100)}.desc[_ngcontent-%COMP%]{font-size:14px}.title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .desc[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin:6px 10px;padding:2px;border-radius:5px;color:var(--black-100)}.task-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;border:1px dashed var(--blue-300);border-radius:3px;margin:5px auto}.btn-cont[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.btn-cont[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;align-content:center;padding:8px 10px}.btn-cont[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.btn-cont[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%], .stop-btn[_ngcontent-%COMP%]{font-size:14px;margin:6px 10px;background-color:var(--purple-300);padding:5px;border-radius:5px;color:var(--white-50);cursor:pointer}.task-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:grid;column-gap:20px;padding:8px 10px;align-items:center;width:fit-content}.task-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;text-transform:capitalize;font-size:12px;margin:5px auto;width:100%;display:flex;align-items:center}.task-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;font-size:14px;margin:auto 5px}.status.dued[_ngcontent-%COMP%]{background-color:var(--red-200);border:1px solid var(--red-400);border-radius:2px;padding:3px 5px}.status.pending[_ngcontent-%COMP%]{background-color:var(--orange-300);border-radius:2px;padding:3px 5px}@media (max-width: 500px){.container[_ngcontent-%COMP%]{height:auto;padding:15px 10px;grid-template-columns:1fr}.left[_ngcontent-%COMP%]{display:none}.task-body[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var kee=(n,e)=>e.id;function Nee(n,e){if(n&1&&(N(0,"div",0)(1,"div",1),J(2,"img",2),P(),N(3,"div",3)(4,"div",4)(5,"h1",5),J(6,"i",6),B(7),P(),N(8,"p",7),J(9,"i",8),B(10),P()(),N(11,"div",9)(12,"div",10)(13,"div",11)(14,"span")(15,"label"),B(16," Start date :"),P(),B(17),Or(18,"date"),P(),N(19,"span")(20,"label"),B(21," End date :"),P(),B(22),Or(23,"date"),P()(),N(24,"div",11)(25,"span")(26,"label"),B(27," Remainder :"),P(),B(28),P(),N(29,"span")(30,"label"),B(31,"Priority :"),P(),B(32),P()(),N(33,"div",12)(34,"span")(35,"label"),B(36,"Status: "),P(),N(37,"span",13),B(38),P()()()()()()()),n&2){let t=e.$implicit;W(7),Ye(" ",t.title,""),W(3),Ye("",t.description," "),W(7),Ye(" ",Fr(18,9,t.start_date,"medium"),""),W(5),Ye(" ",Fr(23,12,t.end_date,"medium"),""),W(6),Ye(" ",t.remainder,""),W(4),Ye(" ",t.priority,""),W(5),gt(t.status=="pending"?"pending":"dued"),W(),kr(t.status)}}var Zy=class n{Id="";taskDuration;s_interval;timer_state=!1;totalTime=[{h:0,m:0,s:0}];startTime=[{h:0,m:0,s:0}];todoService=j(si);taskDetails=j(Ll);tasks;ngOnInit(){return C(this,null,function*(){this.getTaskDuration(),this.getAllTask()})}getTaskDuration(){return C(this,null,function*(){this.taskDuration=yield this.taskDetails.getTaskDuration(this.Id),this.startTime[0].h=this.taskDuration.start_time[0].h,this.startTime[0].m=this.taskDuration.start_time[0].m,this.startTime[0].s=this.taskDuration.start_time[0].s})}ngAfterViewInit(){}getAllTask(){this.getTaskDuration(),this.todoService.getAllTask().then(e=>{this.tasks=e;let t=this.tasks.end_date.getHours()-this.tasks.start_date.getHours(),i=this.tasks.end_date.getMinutes()-this.tasks.start_date.getMinutes(),r=this.tasks.end_date.getSeconds()-this.tasks.start_date.getSeconds();this.totalTime=[{h:t,m:i,s:r}],alert("router"),this.taskDetails.createTaskDuration(this.Id,this.totalTime,this.startTime,"route")}).catch(e=>{console.log(e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-tasks"]],standalone:!0,features:[Me],decls:2,vars:0,consts:[[1,"container"],[1,"left"],["src","https://images.unsplash.com/photo-1721332153289-0c46dc38981b?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","alt",""],[1,"right"],[1,"task-header"],[1,"title"],[1,"bx","bx-task"],[1,"desc"],[1,"bx","bx-message-square-detail"],[1,"task-body"],[1,"content"],[1,"row"],[1,"row",2,"margin-top","10px"],[1,"status"]],template:function(t,i){t&1&&jo(0,Nee,39,15,"div",0,kee),t&2&&Uo(i.tasks)},dependencies:[Ic],styles:["[_ngcontent-%COMP%]:root{--white-50:#ffffff;--white-100:#E3E3E3;--white-200:#C6C6C6;--white-300:#AAAAAA;--white-400:#8E8E8E;--white-500:#717171;--white-600:#555555;--white-700:#393939;--white-800:#1c1c1c;--black-50:hsl(0,0,0);--black-100:hsl(0,0,11);--black-200:hsl(0,0,22);--black-300:hsl(0,0,33);--black-400:hsl(0,0,44);--black-500:hsl(0,0,55);--black-600:hsl(0,0,66);--black-700:hsl(0,0,77);--black-800:hsl(0,0,88);--black-900:hsl(0,0,99);--blue-50:#E6FAF9;--blue-100:#D9F8F6;--blue-200:#B0F1EC;--blue-300:#00D1C3;--blue-400:#00BCB0;--blue-500:#00A79C;--blue-600:#009D92;--blue-700:#007D75;--blue-800:#005E58;--blue-900:#004944;--purple-50:#F7E9FE;--purple-100:#F4DEFE;--purple-200:#E7BBFC;--purple-300:#B324F5;--purple-400:#A120DD;--purple-500:#8F1DC4;--purple-600:#861BB8;--purple-700:#6B1693;--purple-800:#51106E;--purple-900:#3F0D56;--orange-50:#FEF5E6;--orange-100:#FEF0D9;--orange-200:#FCE0B0;--orange-300:#F59B00;--orange-400:#DD8C00;--orange-500:#C47C00;--orange-600:#B87400;--orange-700:#935D00;--orange-800:#6E4600;--orange-900:#563600;--red-50:#FFEDED;--red-100:#FFE4E4;--red-200:#FEC7C7;--red-300:#FD4949;--red-400:#E44242;--red-500:#CA3A3A;--red-600:#BE3737;--red-700:#982C2C;--red-800:#722121;--red-900:#591A1A;--green-50:#E6FBF4;--green-100:#D9F9EE;--green-200:#B0F2DC;--green-300:#00D68F;--green-400:#00C181;--green-500:#00AB72;--green-600:#00A16B;--green-700:#008056;--green-800:#006040;--green-900:#004B32}.container[_ngcontent-%COMP%]{width:100%;height:350px;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;border-radius:5px;padding:25px 20px;margin:1rem auto;display:grid;grid-template-columns:1fr 2fr;align-items:center;column-gap:10px}.right[_ngcontent-%COMP%]{padding:10px;border-radius:5px;background-color:var(--blue-200)}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;border-radius:5px}.task-header[_ngcontent-%COMP%]{border-radius:5px}.title[_ngcontent-%COMP%], .desc[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:500}.title[_ngcontent-%COMP%]{font-size:20px;color:var(--black-100)}.desc[_ngcontent-%COMP%]{font-size:14px}.title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .desc[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin:6px 10px;padding:2px;border-radius:5px;color:var(--black-100)}.task-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;border:1px dashed var(--blue-300);border-radius:3px;margin:5px auto}.btn-cont[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.btn-cont[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;align-content:center;padding:8px 10px}.btn-cont[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.btn-cont[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%], .stop-btn[_ngcontent-%COMP%]{font-size:14px;margin:6px 10px;background-color:var(--purple-300);padding:5px;border-radius:5px;color:var(--white-50);cursor:pointer}.task-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:grid;column-gap:20px;padding:8px 10px;align-items:center;width:fit-content}.task-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;text-transform:capitalize;font-size:12px;margin:5px auto;width:100%;display:flex;align-items:center}.task-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;font-size:14px;margin:auto 5px}.status.dued[_ngcontent-%COMP%]{background-color:var(--red-200);border:1px solid var(--red-400);border-radius:2px;padding:3px 5px}.status.pending[_ngcontent-%COMP%]{background-color:var(--orange-300);border-radius:2px;padding:3px 5px}@media (max-width: 500px){.container[_ngcontent-%COMP%]{height:auto;padding:15px 10px;grid-template-columns:1fr}.left[_ngcontent-%COMP%]{display:none}.task-body[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var f2=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Um},{path:"login",component:sy},{path:"signup",component:oy},{path:"",component:ly,canActivate:[h2],children:[{path:"dashboard",component:Qy},{path:"todo",component:Aa},{path:"taskdetails",component:Yy},{path:"tasks",component:Zy}]}];var Oee={apiKey:"AIzaSyBiELEXIFcGij_Y7JxUXD4uSpA5A2v3BEU",authDomain:"wapcrm-618ce.firebaseapp.com",projectId:"wapcrm-618ce",storageBucket:"wapcrm-618ce.appspot.com",messagingSenderId:"354883501529",appId:"1:354883501529:web:010918ae6966e704412dc8",measurementId:"G-CWS8Q7GPWT"},p2={providers:[t1({eventCoalescing:!0}),uR(f2,dR()),jR(()=>UR(Oee)),Lk(()=>Bk()),VO(()=>UO()),vF(),EF({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0})]};function Fee(n,e){n&1&&J(0,"div",1,0)}var Xy=class n{title="advanced-todo";router=j(Vn);authService=j(or);todoServie=j(si);ngAfterViewInit(){}ngOnInit(){localStorage.getItem("User")&&this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-root"]],standalone:!0,features:[Me],decls:2,vars:1,consts:[["effect",""],[1,"blur-effect"]],template:function(t,i){t&1&&(J(0,"router-outlet"),ht(1,Fee,2,0,"div",1)),t&2&&(W(),In(i.todoServie.blurSignal()?1:-1))},dependencies:[Ku,iy],styles:[".blur-effect[_ngcontent-%COMP%]{width:100%;height:100vh;background-color:#00000080;position:absolute;top:0;left:0}"]})};D1(Xy,p2).catch(n=>console.error(n));
